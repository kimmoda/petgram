{"version":3,"sources":["scripts/app.js"],"names":["angular","module","$cacheSrc","this","config","default_config","set","obj","val","t","extend","$get","color","bgcolor","semi","rounded","clockwise","radius","stroke","max","iterations","animation","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","factory","$interval","$q","init","database","_db","undefined","window","sqlitePlugin","openDatabase","name","location","createFromLocation","_promises","forEach","tables","table","columns","type","push","_query","join","query","_tables","all","insert","defer","_columns","_values","filter","value","key","then","resolve","reject","promise","bindings","transaction","executeSql","result","results","rows","i","length","copy","error","paginate","_table","_where","_join","_order","limit","page","_limit","_query1","data","total","TOTAL","fetchAll","output","item","fetch","openTermsDirective","$cordovaInAppBrowser","restrict","template","link","scope","elem","attr","openModal","href","cordova","ThemeableBrowser","open","statusbar","toolbar","height","title","showPageTitle","backButtonCanClose","bind","$inject","directive","configLanguage","$translatePartialLoaderProvider","$translateProvider","AppConfig","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","langvar","navigator","language","userlanguage","userlangvar","split","preferredLocale","searchLang","_","some","locales","code","preferredLanguage","moment","locale","addPart","path","runLoading","$rootScope","$ionicLoading","$on","text","loading","show","hide","run","Notify","$ionicPopup","alert","params","confirm","msg","configTranslate","constant","configRoutes","$stateProvider","state","url","templateUrl","controller","controllerAs","abstract","DAO","User","PhotogramSetting","start","promises","$urlRouterProvider","otherwise","views","tabProfile","tabActivity","tabHome","tabSearch","detectConnection","ConnectMonitor","watch","configCompile","$compileProvider","debugInfoEnabled","startParse","Parse","initialize","parse","appId","serverURL","server","runIonic","$ionicPlatform","$cordovaStatusbar","$timeout","$cordovaSplashscreen","ready","overlaysWebView","style","styleHex","configIonic","$ionicConfigProvider","backButton","icon","platform","android","tabs","position","maxCache","configFacebook","$facebookProvider","setAppId","facebook","setPermissions","runFacebook","LangVar","userLanguage","userLangVar","substring","toUpperCase","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","app","image","routes","home","login","translation","username","email","facebookimg","gender","img","qtdFollow","status","createdAt","attributes","user_id","followId","qtdLike","liked","likes","action","userAvatar","userName","gallery_id","o","g","r","a","m","q","arguments","l","Date","async","ga","cookieDomain","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","n","opt_precision","pt_br","defineLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","day","sameElse","relativeTime","future","past","mm","h","hh","dd","M","MM","y","yy","ordinalParse","ordinal","cacheSrc","$compile","$cordovaFileTransfer","$localStorage","onProgress","onFinish","onError","element","attrs","possible","charAt","Math","floor","random","makeProgressCircle","$scope","startsWith","str","arr","sub_str","indexOf","needDownload","attrToScope","progress","textAlign","isIOS","ionic","Platform","isAndroid","progress_circle","display","cache","cache_src","finish","css","remove","addSrc","srcIs","$observe","getCacheDir","after","ext","pop","fileName","download","loaded","cancel","device","file","documentsDirectory","dataDirectory","cacheSrcStorage","c","_cache","get","localUrl","ionLanguageDirective","$translate","Loading","$ionicModal","modalLanguageLink","closeModal","modal","searchValue","selectLanguage","use","end","fromTemplateUrl","focusFirstInput","languages","showLoading","$broadcast","hideLoading","parseInt","seconds","ionLoading","GeoService","$http","$window","$cordovaGeolocation","getLocation","posOptions","timeout","enableHighAccuracy","getCurrentPosition","latitude","coords","longitude","err","message","findMe","pos","getGoogleAddress","success","resp","geolocation","logErr","lat","lng","address_normal","formatted_address","address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","zoom","w","parseAddress","place","resume","geo","geometry","H","addressType","types","componentForm","componentFormName","street","number","city","country","searchAddress","input","deferred","autocompleteService","getQueryPredictions","getDetails","placeId","detailsService","options","google","maps","places","AutocompleteService","PlacesService","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","ionLocation","ionLocationLink","search","suggestions","selectPlace","place_id","district","zipcode","closeModalLocation","choosePlace","modalLocation","fromTemplate","$watch","newValue","cacheConfig","CacheFactoryProvider","defaults","maxAge","Cache","CacheFactory","model","createCache","deleteOnExpire","recycleFreq","storageMode","mode","modelName","keys","map","ParseFileFactory","upload","_params","ImageObject","Object","object","photo","imageObject","caption","save","imageFile","File","filename","base64","current","GeoPoint","ParseImageServiceFactory","_all","Query","descending","find","_delete","_objectId","_data","destroy","_get","_save","thumbBase64","imageSettings","savedData","localStorage","getItem","JSON","quality","dimensions","saveToAlbum","saveImageSettings","_settings","setItem","stringify","delete","transform","count","skip","pageNumber","pageSize","sort","order","ascending","field","IntroCtrl","$ionicSlideBoxDelegate","slideChanged","index","vm","slideIndex","currentPlatform","next","previous","slides","top","instant","LoadingController","$state","user","currentUser","intro","go","clear","camanDirective","CamanJs","camanDirectiveLink","effect","ionCrop","$jrCrop","$ionicActionSheet","ionCropLink","getElem","click","buttons","titleText","cancelText","buttonClicked","fileUpload","e","target","files","reader","FileReader","readAsDataURL","onload","event","crop","width","option","chooseText","canvas","toDataURL","ngModel","on","cropSave","photoShareDirective","Photogram","PhotoService","photoShareLink","allowEdit","allowRotation","correctOrientation","targetWidth","targetHeight","saveToPhotoAlbum","modalPost","goHome","closeModalPost","submitPost","form","post","$emit","closePost","photoFilterCarousel","apply","filters","applyFilter","photoFilter","CamanJsFactory","Caman","revert","render","resetEffect","reset","PhotoFilter","modalFilter","done","submitCapture","dataUrl","closeModalCapture","$new","closeCapture","load","PhotogramShare","$cordovaCamera","$cordovaCapture","actionSheet","capture","cropModal","filterModal","buttonCancel","jrCrop","setting","aspectRatio","destinationType","Camera","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","popoverOptions","CameraPopoverOptions","shareModal","shareSocial","social","share","socials","sociais","openFilter","closeFilter","submitFilter","templateFilter","tempImage","cropImage","getPicture","method","sourceType","PictureSourceType","CAMERA","PHOTOLIBRARY","fileInput","evt","currentTarget","getVideo","captureVideo","duration","mediaFiles","fullPath","Video","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","substr","lastIndexOf","newName","makeid","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","slice","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","saveVideo","localURL","ConnectMonitorFactory","$cordovaNetwork","isWebView","onLine","isOnline","$apply","networkState","addEventListener","dataUtilFactory","parseData","string","parts","parseString","toLocaleDateString","getDate","inicio","year","getFullYear","month","getMonth","formatDate","milliseconds","getMonthName","meses","getFirstDay","getLastDay","PhotogramFactory","deletePhoto","galleryId","allComment","gallery","equalTo","objs","commentBy","getComments","include","comments","created","avatar","updateComment","comment","deleteComment","deleteItem","getFollow","userId","follow","getLikes","nearby","point","maxDistance","near","withinRadians","size","scaledSize","_latitude","_longitude","matches","_getOfflineFeed","_getOnlineFeed","_result","totalGallery","qtd","cb","each","_likes","relation","_comments","limitComment","commentsData","cacheUser","_queryInsertComment","getTime","_url","userStatus","_queryInsertGallery","feed","feedGrid","addComment","addActivity","add","isLiked","first","addLike","newGallery","removeLike","like","likeGallery","getUserGalleryQtd","qtdGalleries","getUserGallery","listActivity","_insert","PhotogramFormFactory","templateOptions","placeholder","required","iconPlaceholder","focus","label","toggleClass","formComment","formShare","PhotogramSettingFactory","_tableName","_queryInsert","CacheSetting","PhotogramShareFactory","$cordovaSocialSharing","detail","plugins","socialsharing","shareViaInstagram","shareViaFacebook","shareViaTwitter","shareViaWhatsApp","shareViaEmail","subject","UserFactory","$ionicHistory","$cordovaDevice","$facebook","$cordovaFacebook","loadProfile","initFollows","follows","erro","logout","logIn","password","loginFacebook2","response","api","dados","Boolean","loginFacebook","updateUser","update","tempUser","newuser","facebook_complete","facebookLogin","getLoginStatus","respStatus","deferStatus","facebookProfile","register","formData","signUp","forgot","requestPasswordReset","logOut","clearCache","cordovaDevice","getDevice","getCordova","getModel","getPlatform","uuid","getUUID","version","getVersion","updateAvatar","facebookFriends","facebookAPI","facebookInvite","showDialog","ui","list","notEqualTo","users","profile","galleries","foloow","follow2","isFollow","followUser","respFollow","getFollowers","qtdFollowers","getFollowing","qtdFollowing","userResp","addFollows","getMail","FacebookUtils","access_token","expiration_date","facebookLink","mail","UserFormFactory","valueProp","labelProp","buyDirective","buyLink","closeButton","imagePressed","align","photogramCommentDirective","PhotogramForm","nocomments","openModalComment","formFields","submitComment","editComment","onTap","preventDefault","rForm","$valid","dataForm","facebookLoginDirective","facebookLoginLink","PhotogramFeedback","PhotogramFeedbackForm","submitFeedback","submit","photogramId","PhotogramId","photogramPhotoFeedbackDirective","photogram","sref","photogramFollow","modalFollow","heartDirective","heartLink","addClass","photogramLike","likePhotogram","_model","photogramLikeModal","PhotogramLoadingDirective","photogramPhotoCapture","photogramPhotoCaptureLink","openModalCapture","active","center","scrollwheel","here","getGeo","transclude","photogramPhotoGrid","photogramPhotoGridCtrl","empty","more","loadMore","force","likePhoto","actionButtons","res","buttonDelete","photogramPhotoList","photogramPhotoListCtrl","profileModalEditDirective","UserForm","linkFacebook","submitUpdateProfile","profileModalDirective","profileModalLink","loadingPhotogram","changeTab","tab","grid","getFollower","loadingFollowers","loadingFollowing","loadingPhotos","qtdPhotos","isFollowResp","loadingFollow","followResp","modalProfile","ionSearch","getData","watchSearch","minLength","source","settingsModal","openLink","clearcache","changeLanguage","PhotogramAccountCtrl","PhotogramActivityCtrl","openShare","Direct","getDirect","directId","addMessage","DirectMessages","sendMessage","roomId","direct","room","messages","channelId","from","body","date","chats","chatsType","_direct","to","$filter","replace","eleHtml","html","Autolinker","className","newWindow","autolinks","getElementsByClassName","DirectHomeCtrl","DirectMessageCtrl","loadMessages","doRefresh","PhotogramHomeController","$stateParams","PhotogramPhotoCtrl","loadComments","PhotogramPreviewCtrl","PhotogramViewCtrl","PhotogramSearchCtrl","SearchListController","SearchMapController","watchMap","oldValue","time","timer","PhotogramTabsController","postPhoto","UserAvatarController","submitAvatar","userAvatarDirective","imageData","UserIntroCtrl","UserLoginCtrl","routeLogged","submitLogin","LogoutController","UserMergeController","recoveryPassDirective","recovery","button","$viewValue","isUndefined","UserRecoveryPassController","submitForgot","UserRegisterCtrl","submitRegister","$templateCache","put"],"mappings":"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","file":"scripts/app-5d42c6e139.js","sourcesContent":["(function () {\n    'use strict';\n    angular\n        .module('starter', [\n            'ionic',\n            'ionic-cache-src',\n            'formlyIonic',\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment',\n            'ngFacebook',\n            'uiGmapgoogle-maps',\n            'angular-cache',\n            'ngParse',\n            'ngCordova',\n            'ionic.components',\n            'app.loading',\n            'app.intro',\n            'app.user',\n            'app.photogram',\n        ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('ionic.components', [\n            'ionic',\n            'ionic-loading',\n            'ion-language',\n            'ion-dao',\n            'ion-href',\n            'ion-photo',\n            'ion-location',\n            'ion-notify',\n            'ngCache',\n            'ngParse',\n        ]);\n})();\n\n(function () {\n  'use strict';\n\n  var default_config = {\n    color: '#1D5ECE',\n    bgcolor: '#eaeaea',\n    semi: false,\n    rounded: false,\n    clockwise: true,\n    radius: '15',\n    stroke: '5',\n    max: 100,\n    iterations: 50,\n    animation: 'easeOutCubic',\n    interval: 200,\n    showProgressCircleInBrowser: true,\n    showProgressCircleInDevice: true\n  };\n\n\n  angular\n    .module('ionic-cache-src', [\n      'ionic',\n      'angular-svg-round-progressbar',\n      'ngCordova',\n      'ngStorage'\n    ])\n    .provider('$cacheSrc', $cacheSrc);\n\n  function $cacheSrc() {\n    this.config = default_config;\n    this.set = function (obj, val) {\n      var t = typeof obj;\n      if (t === 'object') {\n        angular.extend(this.config, obj);\n      } else if (t == 'string') {\n        this.config[obj] = val;\n      }\n      return this;\n    };\n\n    this.$get = function () {\n      return this.config;\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('ion-dao', ['ionic'])\n        .factory('DAO', function ($interval, $q) {\n            var _db;\n            var _tables = [];\n\n            return {\n                init: init,\n                insert: insert,\n                query: query,\n                paginate: paginate,\n                fetch: fetch,\n                fetchAll: fetchAll\n            }\n\n            function init(database) {\n\n                if (!_db) {\n                    if (window.sqlitePlugin !== undefined) {\n                        _db = window.sqlitePlugin.openDatabase({\n                            name: database.name,\n                            location: 2,\n                            createFromLocation: 1\n                        });\n                    } else {\n                        _db = window.openDatabase(database.name, \"1.0\", \"Database\", 200000);\n                    }\n                }\n\n                var _promises = [];\n                angular.forEach(database.tables, function (table) {\n                    var columns = [];\n                    angular.forEach(table.columns, function (type, name) {\n                        columns.push(name + ' ' + type);\n                    });\n                    var _query = 'CREATE TABLE IF NOT EXISTS ' + table.name + ' (' + columns.join(',') + ')';\n                    _promises.push(query(_query));\n                    _tables.push(table);\n                });\n\n                return $q.all(_promises);\n            }\n\n            function insert(obj) {\n                var defer    = $q.defer();\n                var _columns = [];\n                var _values  = [];\n                var table    = _tables.filter(function (table) {\n                    return table.name == obj.table;\n                })[0];\n\n                angular.forEach(obj.columns, function (value, key) {\n                    _columns.push(key);\n                    if (key === 'createdAt') {\n                        _values.push(value);\n                    } else {\n                        _values.push(\"'\" + value + \"'\");\n                    }\n                })\n                var _query = \"INSERT INTO \" + obj.table + \" (\" + _columns.join(',') + \") VALUES (\" + _values.join(',') + \")\"\n                void 0;\n                query(_query).then(defer.resolve).catch(defer.reject);\n                return defer.promise;\n\n            }\n\n            function query(query, bindings) {\n                bindings  = typeof bindings !== 'undefined' ? bindings : [];\n                var defer = $q.defer();\n\n                _db.transaction(function (transaction) {\n                    transaction.executeSql(query, bindings, function (transaction, result) {\n                        var results = {\n                            rows: []\n                        };\n                        if (result && result.rows) {\n                            for (var i = 0; i < result.rows.length; i++) {\n                                results.rows.push(angular.copy(result.rows[i]));\n                            }\n                        }\n                        defer.resolve(results);\n                    }, function (transaction, error) {\n                        void 0;\n                        defer.reject(error);\n                    });\n                });\n\n                return defer.promise;\n            }\n\n            function paginate(_table, columns, _where,_join, _order, limit, page) {\n                var defer = $q.defer();\n                if (page === undefined) page = -1;\n                var _columns = columns;\n                var _limit   = limit ? limit : 10;\n                var _query1  = \"SELECT SUM(id) as TOTAL FROM \" + _table + \"  \" + _where;\n                var _query   = \"SELECT \" + _columns + \" FROM \" + _table + \"  \" + _where + \" \" + _join+ \" \" + _order + \" LIMIT \" + _limit + \" OFFSET \" + page;\n\n                void 0;\n                void 0;\n\n                query(_query1).then(function (data) {\n                    var result = {\n                        page: page,\n                        total: data.rows[0].TOTAL,\n                        rows: []\n                    };\n\n                    query(_query).then(function (data) {\n                        void 0;\n\n                        result.rows = data.rows;\n                        defer.resolve(result);\n                    });\n                })\n                return defer.promise;\n            }\n\n            function fetchAll(result) {\n                var output = [];\n\n                for (var i = 0; i < result.rows.length; i++) {\n                    output.push(result.rows.item(i));\n                }\n\n                return output;\n            }\n\n            function fetch(result) {\n                return result.rows.item(0);\n            }\n        });\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-href', [])\n        .directive('href', openTermsDirective);\n\n    function openTermsDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            template: '',\n            link: function (scope, elem, attr) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var href = attr.href;\n\n                    if (window.cordova) {\n                        window.cordova.ThemeableBrowser.open(href, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#000',\n                                showPageTitle: true\n                            },\n                            backButtonCanClose: true\n                        })\n                        ;\n                    } else {\n                        window.open(href);\n                    }\n\n                    return false;\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    var path = 'app/component/ion-language';\n\n        angular\n        .module('ion-language', [\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale' \n        ])\n        .config(configLanguage);\n\n\n\n    function configLanguage($translatePartialLoaderProvider, $translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.useSanitizeValueStrategy(null);\n\n        $translateProvider.useMissingTranslationHandlerLog();\n        $translateProvider.useLocalStorage(); \n        tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function  (item) {\n                return language == item.code\n            })[0].code;\n        }\n        $translateProvider.preferredLanguage(language);\n        moment.locale(language);\n\n        $translatePartialLoaderProvider.addPart(path);\n    }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ionic-loading', ['ionic'])\n    .run(runLoading);\n\n  function runLoading($rootScope, $ionicLoading) {\n    $rootScope.$on('ionicLoading:true', function (text) {\n      $rootScope.loading = true;\n      $ionicLoading.show(text);\n    });\n    $rootScope.$on('ionicLoading:false', function () {\n      $rootScope.loading = false;\n      $ionicLoading.hide();\n    });\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-notify', ['ionic'])\n    .factory('Notify', Notify);\n\n  function Notify($ionicPopup) {\n\n    return {\n      alert: alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      return $ionicPopup.alert({\n        title: params.title,\n        template: params.text\n      });\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title: title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-photo', [\n      'ionic',\n      'ngCordova',\n      'jrCrop'\n    ])\n    .constant('config', {\n      path: 'app/component/ion-photo'\n    })\n    .config(configTranslate);\n\n  function configTranslate($translatePartialLoaderProvider, config) {\n    $translatePartialLoaderProvider.addPart(config.path);\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ngParse', []);\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro', [])\n        .config(configRoutes);\n\n    var path = 'app/module/intro';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n            .state('intro', {\n                url: '/intro',\n                templateUrl: path + '/intro.html',\n                controller: 'IntroCtrl',\n                controllerAs: 'vm'\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading', [])\n        .config(configRoutes);\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('router', {\n                url: '/',\n                templateUrl: 'app/module/loading/loading.html',\n                controller: 'LoadingCtrl',\n                controllerAs: 'vm'\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram', [\n            'ionic',\n            'ngCordova',\n            'app.account',\n            'app.activity',\n            'app.direct',\n            'app.direct-message',\n            'app.share',\n            'app.home',\n            'app.search'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n            .state('photogram', {\n                url: '/photogram',\n                abstract: true,\n                controller: 'PhotogramTabsCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/tabs/photogram-tabs.html',\n                resolve: {\n                    init: function  (DAO, $q, User, PhotogramSetting, AppConfig) {\n                        var defer = $q.defer();\n\n                        DAO.init(AppConfig.DAO).then(function  (start) {\n                            var promises = [\n                                PhotogramSetting.init(),\n                            ];\n                            $q.all(promises).then(function  (data) {\n                                void 0;\n                                defer.resolve(data);\n                            });\n                        })\n                        return defer.promise;\n                    }\n                }\n            });\n\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.user', [\n            'ionic'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/user';\n\n        function configRoutes($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n\n            .state('user', {\n                url: '/user',\n                abstract: true,\n                templateUrl: path + '/module/layout/user-layout.html'\n            })\n\n            .state('user.intro', {\n                url: '/intro',\n                templateUrl: path + '/module/intro/user-intro.html',\n                controller: 'UserIntroCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.register', {\n                url: '/register',\n                templateUrl: path + '/module/register/user-register.html',\n                controller: 'UserRegisterCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.login', {\n                url: '/login',\n                templateUrl: path + '/module/login/user-login.html',\n                controller: 'UserLoginCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.merge', {\n                url: '/merge',\n                controller: 'UserMergeCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/merge/merge.html'\n            })\n\n            .state('logout', {\n                url: '/logout',\n                template: '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n                controller: 'UserLogoutCtrl',\n                controllerAs: 'vm'\n            })\n\n\n        ;\n\n        $urlRouterProvider.otherwise('/');\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.account', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/account';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n\n\n            .state('photogram.account', {\n                url: '/account',\n                views: {\n                    tabProfile: {\n                        controller: 'PhotogramAccountCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: 'app/module/photogram/module/account/account.html'\n                    }\n                }\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('account-friend-list', []);\n\n    })();\n(function () {\n    'use strict';\n    angular\n        .module('app.activity', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/activity';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n\n        $stateProvider\n            .state('photogram.activity', {\n                url: '/activity',\n                views: {\n                    tabActivity: {\n                        controller: 'PhotogramActivityCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/activity.html'\n                    }\n                }\n            })\n\n        ;\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.direct', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/direct';\n\n    function configRoutes($stateProvider) {\n\n\n        $stateProvider\n            .state('photogram.direct', {\n                url: '/direct',\n                views: {\n                    tabHome: {\n                        controller: 'DirectHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/direct.home.html'\n                    }\n                }\n            });\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.direct-message', [])\n      .config(configRoutes);\n\n  var path = 'app/module/photogram/module/direct-message';\n\n  function configRoutes($stateProvider) {\n\n\n    $stateProvider\n        .state('photogram.message', {\n          url: '/message/:channelId',\n          views: {\n            tabHome: {\n              controller: 'DirectMessageCtrl',\n              controllerAs: 'vm',\n              templateUrl: path + '/direct-message.html'\n            }\n          }\n        });\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.home', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/home';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.home', {\n                url: '/home',\n                views: {\n                    tabHome: {\n                        controller: 'PhotogramHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/home.html'\n                    }\n                }\n            });\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.search', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/search';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.search', {\n                url: '/search',\n                views: {\n                    tabSearch: {\n                        controller: 'PhotogramSearchCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/search.html'\n                    }\n                }\n            })\n            .state('photogram.search.map', {\n                url: '/map',\n                templateUrl: 'app/module/photogram/module/search-map/search-map.html',\n                controller: 'SearchMapCtrl',\n                controllerAs: 'vm'\n            })\n            .state('photogram.search.list', {\n                url: '/list',\n                templateUrl: 'app/module/photogram/module/search-list/search-list.html',\n                controller: 'SearchListCtrl',\n                controllerAs: 'vm'\n            })\n        ;\n\n    }\n})();\n(function () {\n  'use strict';\n  var path = 'app/module/photogram/module/share';\n  angular\n    .module('app.share', []);\n\n})();\n(function () {\n    'use strict';\n\n    var cordova = window.cordova;\n    angular\n        .module('starter')\n        .run(startParse)\n        .run(runIonic)\n        .run(runFacebook)\n        .run(detectConnection)\n        .config(configCompile)\n        .config(configFacebook)\n        .config(configIonic);\n\n\n    function detectConnection(ConnectMonitor) {\n        ConnectMonitor.watch();\n    }\n\n    function configCompile($compileProvider) {\n        $compileProvider.debugInfoEnabled(false);\n    }\n\n    function startParse(AppConfig) {\n        window.Parse.initialize(AppConfig.parse.appId);\n        window.Parse.serverURL = AppConfig.parse.server;\n    }\n\n    function runIonic($ionicPlatform, $cacheSrc, AppConfig, $cordovaStatusbar, $timeout,\n                      $cordovaSplashscreen, User) {\n\n        $cacheSrc.color   = AppConfig.color;\n        $cacheSrc.bgcolor = '#ddd';\n        $cacheSrc.rounded = true;\n        $cacheSrc.radius  = 50;\n        User.init();\n\n        $ionicPlatform.ready(function () {\n\n            if (cordova) {\n                $timeout(function () {\n                    $cordovaSplashscreen.hide();\n                    $cordovaStatusbar.overlaysWebView(true);\n                    $cordovaStatusbar.style(0);\n                    $cordovaStatusbar.styleHex(AppConfig.color);\n                    $cordovaStatusbar.show();\n                }, 500);\n            }\n\n        });\n\n\n    }\n\n    function configIonic($ionicConfigProvider) {\n        $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.platform.android.tabs.position('bottom');\n        $ionicConfigProvider.platform.android.tabs.style('standard');\n        $ionicConfigProvider.views.maxCache(1);\n    }\n\n    function configFacebook($facebookProvider, AppConfig) {\n        $facebookProvider.setAppId(AppConfig.facebook);\n        $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n    }\n\n    function runFacebook() {\n\n        if (!window.cordova) {\n            var LangVar     = window.navigator.language || window.navigator.userLanguage;\n            var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n            (function (d, s, id) {\n                var js, fjs = d.getElementsByTagName(s)[0];\n                if (d.getElementById(id)) return;\n                js     = d.createElement(s);\n                js.id  = id;\n                js.src = \"//connect.facebook.net/\" + userLangVar + \"/sdk.js\";\n                fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('ionic')\n        .constant('AppConfig', AppConfig());\n\n    function AppConfig() {\n        return {\n            path: 'app/module/photogram',\n            app: {\n                name: 'Photogram',\n                url: 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes: {\n                home: 'photogram.home',\n                login: 'user.intro'\n            },\n            color: '#00796B',\n            facebook: '1024016557617380',\n            parse: {\n                appId: 'myAppId',\n                server: 'https://photogramserver.herokuapp.com/parse/'\n            },\n            locales: [\n                {\n                    translation: 'LANG.PORTUGUES',\n                    code: 'pt'\n                },\n                {\n                    translation: 'LANG.ENGLISH',\n                    code: 'en'\n                },\n                {\n                    translation: 'LANG.TURKISH',\n                    code: 'tr'\n                },\n                {\n                    translation: 'LANG.PERSIAN',\n                    code: 'fa'\n                },\n                {\n                    translation: 'LANG.GERMAN',\n                    code: 'de'\n                }\n            ],\n            preferredLocale: 'en',\n            DAO: {\n                name: 'photogram_db',\n                tables: [\n                    {\n                        name: 'User',\n                        columns: {\n                            id: 'TEXT PRIMARY KEY',\n                            name: 'TEXT',\n                            username: 'TEXT',\n                            email: 'TEXT',\n                            language: 'TEXT',\n                            facebookimg: 'TEXT',\n                            gender: 'TEXT',\n                            img: 'TEXT',\n                            facebook: 'INTEGER',\n                            qtdFollow: 'INTEGER',\n                            status: 'TEXT',\n                            createdAt: 'INTEGER',\n                            attributes: 'TEXT'\n                        }\n                    },\n                    {\n                        name: 'UserFollow',\n                        columns: {\n                            id: 'TEXT PRIMARY KEY',\n                            user_id: 'TEXT',\n                            followId: 'TEXT'\n                        },\n                    },\n                    {\n                        name: 'Gallery',\n                        columns: {\n                            id: 'TEXT PRIMARY KEY',\n                            img: 'TEXT',\n                            title: 'TEXT',\n                            user_id: 'TEXT',\n                            location: 'TEXT',\n                            qtdLike: 'INTEGER',\n                            liked: 'BOOLEAN',\n                            likes: 'INTEGER',\n                            createdAt: 'INTEGER'\n                        }\n                    },\n                    {\n                        name: 'GalleryActivity',\n                        columns: {\n                            id: 'TEXT PRIMARY KEY',\n                            action: 'TEXT',\n                            img: 'TEXT',\n                            userAvatar: 'TEXT',\n                            userName: 'TEXT',\n                            user_id: 'TEXT',\n                            gallery_id: 'TEXT',\n                            createdAt: 'INTEGER'\n                        }\n                    },\n                    {\n                        name: 'GalleryComment',\n                        columns: {\n                            id: 'TEXT PRIMARY KEY',\n                            name: 'TEXT',\n                            user_id: 'TEXT',\n                            userName: 'TEXT',\n                            gallery_id: 'TEXT',\n                            createdAt: 'INTEGER'\n                        }\n                    },\n                    {\n                        name: 'GallerySetting',\n                        columns: {\n                            key : 'TEXT',\n                            value: 'TEXT'\n                        }\n                    }\n                ]\n            }\n        };\n    }\n})();\n\n(function (i, s, o, g, r, a, m) {\n  i['GoogleAnalyticsObject'] = r;\n  i[r] = i[r] || function () {\n    (i[r].q = i[r].q || [])\n    .push(arguments)\n  }, i[r].l = 1 * new Date();\n  a = s.createElement(o),\n    m = s.getElementsByTagName(o)[0];\n  a.async = 1;\n  a.src = g;\n  m.parentNode.insertBefore(a, m)\n})(window, document, 'script', 'http://www.google-analytics.com/analytics.js', 'ga');\nga('create', 'UA-53950213-5', {\n  'cookieDomain': 'none'\n});\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n(function () {\n    'use strict';\n\n        var pt_br = window.moment.defineLocale('pt', {\n        months: 'Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n            '_'),\n        monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays: 'Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado'.split('_'),\n        weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sb'.split('_'),\n        weekdaysMin: 'Dom_2_3_4_5_6_Sb'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [s] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [s] HH:mm'\n        },\n        calendar: {\n            sameDay: '[Hoje s] LT',\n            nextDay: '[Amanh s] LT',\n            nextWeek: 'dddd [s] LT',\n            lastDay: '[Ontem s] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[ltimo] dddd [s] LT' : \n                    '[ltima] dddd [s] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: '%s atrs',\n            s: 'segs',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um ms',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal: '%d'\n    });\n\n    return pt_br;\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .directive('cacheSrc', cacheSrc);\n\n  function cacheSrc($ionicPlatform, $interval, $compile, $cacheSrc, $cordovaFileTransfer, $localStorage) {\n    return {\n      restrict: 'A',\n      scope: {\n        'onProgress': '=?',\n        'onFinish': '=?',\n        'onError': '=?'\n      },\n      link: function (scope, element, attrs) {\n\n        function id() {\n          var text = \"\";\n          var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n          for (var i = 0; i < 16; i++)\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n          return text;\n        };\n\n        function makeProgressCircle($scope, $compile) {\n          return angular.element($compile(\n            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n          )($scope));\n        };\n\n        function startsWith(str, arr) {\n          for (var i = 0; i < arr.length; i++) {\n            var sub_str = arr[i];\n            if (str.indexOf(sub_str) === 0) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        function needDownload(path) {\n          if (startsWith(path, [\n              'http://',\n              'https://',\n              'ftp://'\n            ])) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        function attrToScope(scope, attrs) {\n          scope.progress = 0;\n          scope.max = 100;\n          scope.radius = attrs.radius;\n          scope.stroke = attrs.stroke;\n          scope.animation = attrs.animation;\n          scope.clockwise = attrs.clockwise;\n          scope.color = attrs.color;\n          scope.bgcolor = attrs.bgcolor;\n          scope.rounded = attrs.rounded;\n          scope.iterations = attrs.iterations;\n          scope.textAlign = 'center';\n        }\n\n        var isIOS = ionic.Platform.isIOS();\n        var isAndroid = ionic.Platform.isAndroid();\n\n        if (window.cordova & isIOS || isAndroid) {\n\n          var progress_circle;\n          var display;\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          scope.onError = scope.onError || function () {};\n          var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n          var finish = function (result) {\n            if (config.showProgressCircleInDevice) {\n              element.css('display', display);\n              progress_circle.remove();\n            }\n            addSrc(result);\n          };\n\n          var addSrc = function (result) {\n            element[0][config.srcIs || 'src'] = result;\n            scope.onFinish(result);\n          };\n\n\n          attrs.$observe('cacheSrc',\n            function () {\n              if (attrs.cacheSrc) {\n                if (needDownload(attrs.cacheSrc)) {\n                  if (cache[attrs.cacheSrc]) {\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                      });\n                  } else {\n                    if (config.showProgressCircleInDevice) {\n                      progress_circle = makeProgressCircle(scope, $compile);\n                      display = element.css('display');\n                      element.css('display', 'none');\n                      element.after(progress_circle);\n                    }\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        var ext = '.' + attrs.cacheSrc.split('.').pop();\n                        var fileName = id() + ext;\n                        $cordovaFileTransfer\n                          .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                          .then(function (result) {\n                            cache[attrs.cacheSrc] = fileName;\n                            finish(getCacheDir() + fileName);\n                          }, scope.onError, function (progress) {\n                            scope.progress = (progress.loaded / progress.total) * 100;\n                            scope.onProgress(scope.progress);\n                          });\n                      });\n                  }\n                } else {\n                  addSrc(attrs.cacheSrc);\n                }\n              }\n            });\n        } else {\n          var progress_circle = makeProgressCircle(scope, $compile);\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          attrs.$observe('cacheSrc', function () {\n            if (attrs.cacheSrc) {\n              if (needDownload(attrs.cacheSrc)) {\n                if (config.showProgressCircleInBrowser) {\n                  var display = element.css('display');\n                  element.css('display', 'none');\n                  element\n                    .after(progress_circle);\n                }\n                var promise = $interval(function () {\n                  scope.progress += 10;\n                  scope.onProgress(scope.progress);\n                  if (scope.progress == 100) {\n                    $interval.cancel(promise);\n                    if (config.showProgressCircleInBrowser) {\n                      element.css('display', display);\n                      progress_circle.remove();\n                    }\n                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                    scope.onFinish(attrs.cacheSrc);\n                  }\n                }, config.interval);\n              } else {\n                element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                scope.onFinish(attrs.cacheSrc);\n              }\n            }\n          });\n        }\n\n      }\n    };\n  }\n\n  function getCacheDir() {\n    switch (window.device.platform) {\n    case 'iOS':\n      return cordova.file.documentsDirectory;\n    case 'Android':\n      return cordova.file.dataDirectory;\n    }\n    return '';\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .factory('cacheSrcStorage', cacheSrcStorage);\n\n  function cacheSrcStorage($localStorage) {\n    var c = {};\n    c._cache = $localStorage.cache_src;\n    c.get = function (url) {\n      return c._cache[url] && (getCacheDir() + c._cache[url]);\n    };\n    c.set = function (url, localUrl) {\n      c._cache[url] = localUrl;\n      return c;\n    };\n    return c;\n  }\n})();\n(function () {\n    'use strict';\n\n\n    var path = 'app/component/ion-language';\n\n    angular\n        .module('ion-language')\n        .directive('ionLanguage', ionLanguageDirective);\n\n    function ionLanguageDirective(AppConfig, $translate, $timeout, Loading, $ionicModal) {\n        return {\n            restrict: 'E',\n            link: modalLanguageLink,\n            templateUrl: path + '/ion-language.html'\n        };\n\n        function modalLanguageLink(scope, elem, attr) {\n\n\n            scope.languages = AppConfig.locales;\n            scope.language  = scope.languages.filter(function (item) {\n                return item.code === $translate.use()\n            })[0];\n\n            void 0;\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n\n                scope.closeModal = function () {\n                    scope.modal.hide();\n                };\n\n\n                scope.searchValue = '';\n\n                scope.selectLanguage = function (language) {\n                    void 0;\n                    $translate.use(language.code);\n                    moment.locale(language.code);\n                    scope.language = language;\n                    Loading.start();\n                    scope.closeModal();\n                    $timeout(function () {\n                        Loading.end();\n                    }, 1000);\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/modal-language.html', {\n                        scope: scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n\n                    });\n            }\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .factory('Loading', Loading);\n\n  function Loading($rootScope, $timeout) {\n    var seconds = 0;\n\n    return {\n      start: showLoading,\n      end: hideLoading,\n    };\n\n\n    function showLoading(text) {\n      $rootScope.$broadcast('ionicLoading:true', text);\n    }\n\n    function hideLoading() {\n      $timeout(function () {\n        $rootScope.$broadcast('ionicLoading:false');\n      }, parseInt(seconds + '000'));\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .directive('ionLoading', ionLoading);\n\n  function ionLoading() {\n    return {\n      restrict: 'E',\n      scope: {\n        icon: '@',\n        loading: '='\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-location')\n        .factory('GeoService', GeoService);\n\n    function GeoService($http, $window, $cordovaGeolocation, $ionicPopup,  $timeout, $q) {\n\n        var options             = {\n            types: ['geocode']\n        };\n        var autocompleteService = new $window.google.maps.places.AutocompleteService();\n        var detailsService      = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n            options);\n        var componentForm       = {\n            street_number: 'long_name',\n            route: 'long_name',\n            locality: 'long_name',\n            sublocality: 'long_name',\n            neighborhood: 'long_name',\n            political: 'long_name',\n            administrative_area_level_1: 'long_name',\n            country: 'long_name',\n            postal_code: 'long_name' \n        };\n        var componentFormName   = {\n            street_number: 'number',\n            route: 'street',\n            locality: 'city',\n            administrative_area_level_1: 'state',\n            country: 'country',\n            postal_code: 'zipcode',\n            neighborhood: 'district' \n        };\n\n        var data = {\n            coords: {},\n            src: ''\n        };\n\n\n        return {\n            src: src,\n            getDetails: getDetails,\n            searchAddress: searchAddress,\n            parseAddress: parseAddress,\n            findMe: findMe\n        };\n\n        function getLocation() {\n            var defer = $q.defer();\n\n            if (data.location) {\n                $timeout(function () {\n                    defer.resolve(data.location);\n                }, 1000);\n            } else {\n                var posOptions = {\n                    timeout: 10000,\n                    enableHighAccuracy: false\n                };\n                $cordovaGeolocation\n                    .getCurrentPosition(posOptions)\n                    .then(function (position) {\n                        data.location = {\n                            latitude: position.coords.latitude,\n                            longitude: position.coords.longitude\n                        };\n                        defer.resolve(data.location);\n                    }, function (err) {\n                        $ionicPopup.alert({\n                            title: 'Geo Error',\n                            template: err.message\n                        });\n                        defer.reject(err);\n                    });\n            }\n\n\n            return defer.promise;\n        }\n\n\n        function findMe() {\n            var defer = $q.defer();\n\n            getLocation()\n                .then(function (pos) {\n                    void 0;\n                    getGoogleAddress(pos.latitude, pos.longitude)\n                        .success(function (resp) {\n                            resp.geolocation = pos;\n                            void 0;\n                            defer.resolve(resp);\n                        })\n                        .error(logErr);\n                });\n            return defer.promise;\n        }\n\n\n        function logErr(error) {\n            void 0;\n        }\n\n        function getGoogleAddress(lat, lng) {\n            return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n                        .success(function (data) {\n                            data.address_normal = data.results[0].formatted_address;\n                            data.address        = address(data.results[0].address_components);\n                            data.src            = imagem(lat, lng, 18, 500, 300);\n                        });\n        }\n\n        function address(data) {\n            if (!data) {\n                return false;\n            } else {\n                return {\n                    numero: data[0].short_name,\n                    rua: data[1].long_name,\n                    bairro: data[2].short_name,\n                    cidade: data[3].short_name,\n                    estado: data[5].long_name,\n                    uf: data[5].short_name,\n                    pais: data[6].long_name,\n                    paisCode: data[6].short_name,\n                    cep: data[7].short_name\n                };\n            }\n\n        }\n\n        function imagem(lat, lng, zoom, w, h) {\n            return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n                w + 'x' + h + '&maptype=roadmap&sensor=true';\n        }\n\n        function parseAddress(place) {\n            void 0;\n            var address = {\n                resume: '',\n                geo: {\n                    latitude: place.geometry.location.H,\n                    longitude: place.geometry.location.L\n                }\n            };\n            var image   = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n            for (var i = 0; i < place.address_components.length; i++) {\n                var addressType = place.address_components[i].types[0];\n                if (componentForm[addressType]) {\n                    var val                                 = place.address_components[i][componentForm[addressType]];\n                    address[componentFormName[addressType]] = val;\n                }\n            }\n            address.street = address.street + ', ' + address.number;\n            address.image  = image;\n            address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n            return address;\n        }\n\n        function searchAddress(input) {\n            var deferred = $q.defer();\n            autocompleteService.getQueryPredictions({\n                input: input\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function getDetails(placeId) {\n            var deferred = $q.defer();\n            detailsService.getDetails({\n                placeId: placeId\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function src(lat, lng, zoom, w, h) {\n            void 0;\n\n            var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n                '&scale=1&size=' + w + 'x' + h +\n                '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n                ',' + lng + '&sensor=true';\n            void 0;\n            return link;\n        }\n\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-location')\n    .directive('ionLocation', ionLocation);\n\n  function ionLocation($ionicModal, GeoService) {\n    return {\n      restrict: 'A',\n      scope: {\n        location: '='\n      },\n      link: ionLocationLink\n    };\n\n    function ionLocationLink($scope, element) {\n\n      function init() {\n        $scope.search = {};\n        $scope.search.suggestions = [];\n        $scope.search.query = '';\n      }\n\n\n      function selectPlace(place_id) {\n        GeoService\n          .getDetails(place_id)\n          .then(function (location) {\n\n            void 0;\n\n            var address = GeoService\n              .parseAddress(location);\n\n            $scope.location = {\n              number: address.number,\n              street: address.street,\n              district: address.district,\n              city: address.city,\n              state: address.state,\n              country: address.country,\n              zipcode: address.zipcode,\n              coords: address.geo,\n              image: address.image,\n              resume: address.resume\n            };\n\n            void 0;\n            $scope.closeModalLocation();\n          });\n      }\n\n      element.bind('focus', function () {\n        init();\n        void 0;\n\n        $scope.findMe = findMe;\n        $scope.choosePlace = choosePlace;\n\n\n        $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n          '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n          '<button class=\"button button-clear button-icon ion-pinpoint\" ng-click=\"findMe()\"></button>' +\n          '<label class=\"item-input-wrapper\">' +\n          '<input type=\"search\" ng-model=\"search.query\" placeholder=\"{{ \\'Search\\' | translate }}\"></label>' +\n          '<button class=\"button button-clear button-icon ion-ios-close-empty\" ng-click=\"closeModalLocation()\"></button>' +\n          '</ion-header-bar>' +\n          '<ion-content padding=\"false\">' +\n          '<ion-list>' +\n          '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n          '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n          '</ion-list>' +\n          '</ion-content>' +\n          '</ion-modal-view>', {\n            scope: $scope,\n            focusFirstInput: true\n          }\n        );\n\n        $scope.modalLocation.show();\n\n        $scope.closeModalLocation = function () {\n          $scope.modalLocation.hide();\n          $scope.modalLocation.remove();\n        };\n\n        GeoService\n          .searchAddress('So Paulo')\n          .then(function (result) {\n            void 0;\n            $scope.search.suggestions = result;\n          });\n\n\n        $scope.$watch('search.query', function (newValue) {\n          if (newValue) {\n            GeoService\n              .searchAddress(newValue)\n              .then(function (result) {\n                void 0;\n                $scope.search.suggestions = result;\n              });\n          }\n        });\n\n\n        function findMe() {\n          GeoService\n            .findMe()\n            .then(function (location) {\n              void 0;\n\n              selectPlace(location.results[0].place_id);\n\n            });\n        }\n\n        function choosePlace(place) {\n          selectPlace(place.place_id);\n\n        }\n\n      });\n\n    }\n  }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngCache', ['angular-cache'])\n    .config(cacheConfig)\n    .factory('Cache', Cache);\n\n  function cacheConfig(CacheFactoryProvider) {\n    angular.extend(CacheFactoryProvider.defaults, {\n      maxAge: 15 * 60 * 1000\n    });\n  }\n\n  function Cache(CacheFactory) {\n\n    return {\n      model: model,\n      data: data\n    };\n\n    function model(model, options) {\n      if (!CacheFactory.get(model)) {\n        CacheFactory.createCache(model, {\n          deleteOnExpire: options.deleteOnExpire || 'aggressive',\n          recycleFreq: options.recycleFreq || 60000,\n          storageMode: options.mode || 'localStorage'\n        });\n      }\n\n      return CacheFactory.get(model);\n    }\n\n    function data(modelName, keys) {\n      var cache = model(modelName);\n      var keys = cache.keys();\n      var data = [];\n      keys.map(function (key) {\n        data.push(cache.get(key));\n      });\n\n      return data;\n    }\n\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseFile', ParseFileFactory);\n\n\n  function ParseFileFactory($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(_params) {\n      var defer = $q.defer();\n      var ImageObject = Parse.Object.extend(_params.object || 'Gallery');\n\n      if (_params.photo !== '') {\n\n        var imageFile = new Parse.File(_params.filename || 'mypic.jpg', {\n          base64: _params.photo\n        });\n\n        imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('img', imageFile);\n\n            if (_params.geo !== undefined) {\n              imageObject.set(_params.geo.class || 'location', new Parse.GeoPoint(_params.geo.lat, _params.geo.lng));\n            }\n\n            imageObject\n              .save()\n              .then(defer.resolve);\n\n          }, defer.reject);\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n\n\n      return defer.promise;\n    }\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseImageService', ParseImageServiceFactory);\n\n  function ParseImageServiceFactory($window) {\n    return {\n      all: _all,\n      save: _save,\n      get: _get,\n      delete: _delete,\n      imageSettings: imageSettings,\n      saveImageSettings: saveImageSettings\n    };\n\n    function _all() {\n      var query = new Parse.Query('ImageInfo');\n      query.descending('createdAt');\n      return query.find();\n    }\n\n    function _delete(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId)\n        .then(function (_data) {\n          return _data.destroy();\n        });\n    }\n\n    function _get(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId);\n    }\n\n    function _save(_params) {\n      var ImageObject = Parse.Object.extend('Gallery');\n\n\n      if (_params.photo !== '') {\n\n        void 0;\n\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: _params.photo\n        });\n\n\n        return imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('img', imageFile);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('thumbBase64', _params.thumbBase64);\n            imageObject.set('location', new Parse.GeoPoint(_params.coords.latitude, _params.coords.longitude));\n\n            return imageObject.save();\n\n\n          }, function (error) {\n            void 0;\n            void 0;\n          });\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n    }\n\n    function imageSettings() {\n      var savedData = $window.localStorage.getItem('application.image.props') || null;\n      return (savedData !== null ? JSON.parse(savedData) : {\n        quality: 50,\n        dimensions: 250,\n        saveToAlbum: false\n      });\n    }\n\n    function saveImageSettings(_settings) {\n      $window.localStorage.setItem('application.image.props', JSON.stringify(_settings));\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('ngParse')\n        .factory('Parse', Parse);\n\n\n    function Parse($window) {\n        var parse       = $window.Parse;\n        parse.transform = transform;\n        parse.count = count;\n        parse.paginate = paginate;\n        return parse;\n    }\n\n    function count(model) {\n        var defer = $q.defer();\n        new Parse\n            .Query(model)\n            .count()\n            .then(function (resp) {\n                defer.resolve(resp);\n            });\n        return defer.promise;\n    }\n\n    function paginate(model, options) {\n        var defer = $q.defer();\n\n        var query = new Parse.Query(model);\n        query.skip(options.pageNumber);\n        query.limit(options.pageSize);\n\n        if (options.sort) {\n            var sort = options.sort;\n            if (sort.order === 'asc') {\n                query.ascending(options.sort.field);\n            } else {\n                query.descending(options.sort.field);\n            }\n        }\n        query.find()\n             .then(function (resp) {\n                 var data = {\n                     results: [],\n                     total: 0\n                 };\n                 resp.map(function (item) {\n                     var obj = item.attributes;\n                     obj.id  = item.id;\n                     data.results.push(obj);\n                 });\n\n                 count(model)\n                     .then(function (count) {\n                         data.total = count;\n                         defer.resolve(data);\n                     });\n             });\n\n\n        return defer.promise;\n    }\n\n    function transform(resp) {\n        var data = [];\n        resp.map(function (item) {\n            var obj = item.attributes;\n            obj.id  = item;\n            data.push(obj);\n        });\n        return data;\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('IntroCtrl', IntroCtrl);\n\n    function IntroCtrl($ionicSlideBoxDelegate, $translate) {\n        var vm              = this;\n        var currentPlatform = window.ionic.Platform.platform();\n        vm.slideIndex       = 0;\n        vm.slideChanged     = slideChanged;\n        vm.next             = function () {\n            $ionicSlideBoxDelegate.next();\n        };\n        vm.previous         = function () {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n\n        if (currentPlatform) {\n            vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n        } else {\n            vm.device = 'android';\n        }\n\n        void 0;\n        vm.slides = [{\n            top: $translate.instant('INTRO.STEP1'),\n            img: 'img/intro1.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP2'),\n            img: 'img/intro2.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP3'),\n            img: 'img/intro3.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP4'),\n            img: 'img/intro4.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP5'),\n            img: 'img/intro5.jpg'\n        }\n\n        ];\n\n        function slideChanged(index) {\n            vm.slideIndex = index;\n        }\n\n        window.localStorage['intro'] = true;\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading')\n        .controller('LoadingCtrl', LoadingController);\n\n    function LoadingController($rootScope, AppConfig, $state) {\n        var user = $rootScope.currentUser;\n        var intro = window.localStorage['intro'];\n\n        if (intro != 'true') {\n            $state.go('intro', {clear: true});\n        } else {\n            if (user) {\n                void 0;\n                if (user.name) {\n                    $state.go(AppConfig.routes.home, {\n                        clear: true\n                    });\n                } else {\n                    $state.go('user.avatar', {\n                        clear: true\n                    });\n                }\n            } else {\n                $state.go(AppConfig.routes.login, {\n                    clear: true\n                });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('caman', camanDirective);\n\n  function camanDirective(CamanJs, $timeout) {\n    return {\n      restrict: 'A',\n      scope: {\n        name: '=',\n        image: '=',\n        filter: '=',\n        loading: '='\n      },\n      template: '<img ng-src=\"{{ image }}\" id=\"{{ name }}\">',\n      link: camanDirectiveLink\n    };\n\n    function camanDirectiveLink($scope) {\n      $scope.loading = true;\n      $timeout(function () {\n        CamanJs\n          .effect($scope.name, $scope.filter)\n          .then(function () {\n            $scope.loading = false;\n          });\n      }, 500);\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('ionCrop', ionCrop);\n\n  function ionCrop($jrCrop, $translate, $ionicActionSheet) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '=',\n        option: '=',\n        cropSave: '&'\n      },\n      template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n      link: ionCropLink\n    };\n\n    function ionCropLink($scope, element) {\n\n      $scope.action = action;\n      element.bind('click', getElem);\n      $scope.crop = crop;\n      angular.element(document.getElementById('browseBtn'))\n        .on('change', fileUpload);\n\n\n      function getElem() {\n        document.getElementById('browseBtn')\n          .click();\n      }\n\n      function action() {\n\n        $ionicActionSheet.show({\n          buttons: [{\n            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n          }, {\n            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n          }],\n          titleText: ('Change Image'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n          },\n          buttonClicked: function (index) {\n\n            if (index === 0) {\n              void 0;\n            }\n            if (index === 1) {\n              document.getElementById('browseBtn')\n                .click();\n            }\n            return true;\n          }\n        });\n\n      }\n\n      function fileUpload(e) {\n\n        var file = e.target.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function (event) {\n          var image = event.target.result;\n          $scope.crop(image);\n        };\n\n        angular.element(document.getElementById('browseBtn')).val('');\n\n      }\n\n      function crop(image) {\n\n        void 0;\n\n        $jrCrop\n          .crop({\n            url: image,\n            width: $scope.option ? $scope.option.width : 200,\n            height: $scope.option ? $scope.option.height : 200,\n            cancelText: ('Cancel'),\n            chooseText: ('Save')\n          })\n          .then(function (canvas) {\n            var image = canvas.toDataURL();\n\n\n\n            void 0;\n            $scope.ngModel = image;\n\n\n          });\n\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-photo')\n        .directive('photoShare', photoShareDirective);\n\n    function photoShareDirective($state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n                                 PhotogramSetting, PhotoService) {\n        return {\n            restrict: 'A',\n            link: photoShareLink,\n            template: ''\n        };\n\n        function photoShareLink(scope, elem, attr) {\n            var path = AppConfig.path;\n\n            elem.bind('click', open)\n\n            function open() {\n                void 0;\n                var option = {\n                    crop: PhotogramSetting.get('imageCrop'),\n                    allowEdit: PhotogramSetting.get('imageEdit'),\n                    filter: true,\n                    allowRotation: PhotogramSetting.get('imageRotation'),\n                    quality: PhotogramSetting.get('imageQuality'),\n                    correctOrientation: PhotogramSetting.get('imageEdit'),\n                    targetWidth: PhotogramSetting.get('imageWidth'),\n                    targetHeight: PhotogramSetting.get('imageHeight'),\n                    saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n                };\n                void 0;\n\n                PhotoService\n                    .open(option)\n                    .then(modalPost)\n                    .catch(goHome);\n            }\n\n\n            function goHome() {\n                void 0;\n                $state.go('photogram.home');\n            }\n\n            function modalPost(image) {\n                $scope.closePost  = closeModalPost;\n                $scope.submitPost = submitPost;\n                $scope.form       = {\n                    title: '',\n                    location: '',\n                    photo: image,\n                    geo: false\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n                        scope: $scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        $scope.form.photo = image;\n                        $scope.modalPost  = modal;\n                        $scope.modalPost.show();\n                    });\n\n                function closeModalPost() {\n                    $scope.modalPost.hide();\n                    $scope.modalPost.remove();\n                    Loading.end();\n                }\n\n                function submitPost(resp) {\n                    var form = angular.copy(resp);\n                    void 0;\n                    Loading.start();\n                    Photogram\n                        .post(form)\n                        .then(function () {\n                            closeModalPost();\n                            $rootScope.$emit('filterModal:close');\n                            $rootScope.$emit('PhotogramHome:reload');\n                        });\n                }\n            }\n        }\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilterCarousel', photoFilterCarousel);\n\n  function photoFilterCarousel(CamanJs, config) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '=',\n        apply: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.carousel.html',\n      link: function ($scope) {\n        $scope.filters = CamanJs.filters;\n        $scope.applyFilter = $scope.apply;\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilter', photoFilter);\n\n  function photoFilter(config, CamanJs) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.html',\n      link: function ($scope, elem) {\n        $scope.applyFilter = function (elem, effect) {\n          $scope.loading = true;\n          if (effect) {\n            CamanJs\n              .effect(elem, effect, true)\n              .then(function (resp) {\n                $scope.loading = false;\n              });\n          }\n        };\n      }\n    };\n  }\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-photo')\n    .factory('CamanJs', CamanJsFactory);\n\n  function CamanJsFactory($q) {\n    var Caman = window.Caman;\n    var filters = [\n      'normal',\n      'vintage',\n      'lomo',\n      'clarity',\n      'sinCity',\n      'sunrise',\n      'crossProcess',\n      'orangePeel',\n      'love',\n      'grungy',\n      'jarques',\n      'pinhole',\n      'oldBoot',\n      'glowingSun',\n      'hazyDays',\n      'herMajesty',\n      'nostalgia',\n      'hemingway',\n      'concentrate'\n    ];\n\n    return {\n      filters: filters,\n      effect: filter,\n      reset: resetEffect\n    };\n\n    function filter(elem, effect, status) {\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      if (image) {\n        Caman(image, function () {\n          if (effect === 'normal') {\n            this.revert();\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n          if (effect in this) {\n            this[effect]();\n\n            if (status) {\n              this.revert();\n            }\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n        });\n      } else {\n        defer.reject();\n      }\n      return defer.promise;\n    }\n\n    function resetEffect(elem) {\n\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      Caman(image, function () {\n        this.revert();\n        defer.resolve(true);\n      });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoFilter', PhotoFilter);\n\n  function PhotoFilter($rootScope, $q, $ionicModal) {\n\n    return {\n      load: modalFilter\n    };\n\n    function modalFilter(image, done) {\n      var template =\n        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\"ng-click=\"closeCapture()\"></button><div class=\"title text-left\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-clear button-icon ion-ios-arrow-thin-right\"ng-click=\"submitCapture()\"></button></ion-header-bar><ion-content scroll=\"false\"><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n      var image = image.toDataURL();\n\n      var scope = $rootScope.$new(true);\n      scope.closeCapture = closeModalCapture;\n      scope.submitCapture = submitCapture;\n      scope.form = {\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n\n      scope.modal.show();\n\n\n      function submitCapture() {\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        void 0;\n        done(dataUrl);\n        closeModalCapture();\n      }\n\n      function closeModalCapture() {\n        scope.modal.hide();\n      }\n\n    }\n\n  }\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('ion-photo')\n        .factory('PhotoService', PhotoService);\n\n    function PhotoService($ionicActionSheet, $translate, AppConfig, PhotogramShare, $jrCrop, $rootScope, $ionicModal,\n                          $cordovaCamera, $cordovaCapture, $q) {\n\n        var tempImage;\n        var cordova = window.cordova;\n        var setting = {\n            jrCrop: true,\n            quality: 90,\n            allowEdit: false,\n            filter: true,\n            correctOrientation: true,\n            targetWidth: 300,\n            targetHeight: 300,\n            saveToPhotoAlbum: false,\n            allowRotation: false,\n            aspectRatio: 0\n        };\n\n        return {\n            open: openModal,\n            crop: cropModal,\n            filter: filterModal,\n            share: shareModal,\n        };\n\n        function openModal(option) {\n            var defer       = $q.defer();\n            var options     = {\n                jrCrop: option.jrCrop ? option.jrCrop : setting.jrCrop,\n                filter: option.filter ? option.filter : setting.filter,\n                quality: option.quality ? option.quality : setting.quality,\n                aspectRatio: option.aspectRatio ? option.aspectRatio : setting.aspectRatio,\n                allowRotation: option.allowRotation ? option.allowRotation : setting.allowRotation,\n                allowEdit: option.allowEdit ? option.allowEdit : setting.allowEdit,\n                correctOrientation: option.correctOrientation ? option.correctOrientation : setting.correctOrientation,\n                targetWidth: option.width ? option.width : setting.targetWidth,\n                targetHeight: option.height ? option.height : setting.targetHeight,\n                saveToPhotoAlbum: option.saveToPhotoAlbum ? option.saveToPhotoAlbum : setting.saveToPhotoAlbum,\n                destinationType: window.cordova ? Camera.DestinationType.DATA_URL : null,\n                encodingType: window.cordova ? Camera.EncodingType.JPEG : null,\n                popoverOptions: window.cordova ? CameraPopoverOptions : null,\n            };\n            var buttons     = [{\n                text: '<i class=\"icon ion-ios-camera\"></i>' + $translate.instant('ION-PHOTO.CAMERA')\n            }, {\n                text: '<i class=\"icon ion-images\"></i>' + $translate.instant('ION-PHOTO.GALLERY')\n            },\n            ];\n            var actionSheet = $ionicActionSheet.show({\n                buttons: buttons,\n                titleText: $translate.instant('ION-PHOTO.SHARE'),\n                cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n                cancel: buttonCancel,\n                buttonClicked: buttonClicked\n            });\n\n            function buttonClicked(index) {\n                void 0;\n                actionSheet();\n                capture(index, options)\n                    .then(cropModal)\n                    .then(filterModal)\n                    .then(function (resp) {\n                        void 0;\n                        defer.resolve(resp);\n                    })\n                    .catch(buttonCancel);\n            }\n\n\n            function buttonCancel(resp) {\n                actionSheet(resp);\n            }\n\n            return defer.promise;\n        }\n\n        function cropModal(image) {\n            var defer = $q.defer();\n\n            if (setting.jrCrop) {\n                $jrCrop\n                    .crop({\n                        url: image,\n                        aspectRatio: setting.aspectRatio ? setting.aspectRatio : false,\n                        allowRotation: setting.allowRotation ? setting.allowRotation : false,\n                        width: setting.width ? setting.width : setting.targetWidth,\n                        height: setting.height ? setting.height : setting.targetHeight,\n                        cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n                        chooseText: $translate.instant('ION-PHOTO.CROP')\n                    })\n                    .then(function (canvas) {\n                        defer.resolve(canvas.toDataURL());\n                    })\n                    .catch(defer.reject);\n            } else {\n                defer.resolve(image);\n            }\n            return defer.promise;\n        }\n\n        function shareModal(image) {\n            var template =\n                    '<ion-modal-view class=\"modal-share\"> <ion-header-bar class=\"bar-dark\"> <div class=\"title\">{{ \\'ION-PHOTO.SHARE\\' | translate }}</div> <button class=\"button button-positive\" ng-click=\"modal.hide()\"> <i class=\"icon ion-arrow-right-b\"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id=\"image\"> <img ng-src=\"{{form.photo}}\"> <div class=\"title\">{{ form.title }}</div></div> <ul class=\"list\"> <li class=\"padding\"> <button ng-repeat=\"social in sociais\" ng-click=\"share(form, social)\"class=\"button button-block button-{{ social }}\"><i class=\"icon ion-social-{{ social }}\"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';\n\n            if (image === undefined) return false;\n            var scope   = $rootScope.$new(true);\n            var socials = [\n                'facebook',\n                'instagram',\n                'whatsapp',\n                'twitter'\n            ];\n\n            scope.sociais = socials;\n            scope.share   = shareSocial;\n            scope.form    = {\n                title: '',\n                photo: image\n            };\n\n            scope.modal = $ionicModal.fromTemplate(template, {\n                scope: scope\n            });\n            scope.modal.show();\n\n\n            function shareSocial(social, form) {\n                void 0;\n                PhotogramShare\n                    .share(social, {\n                        text: form.title,\n                        image: form.photo,\n                        link: AppConfig.app.url\n                    });\n            }\n\n\n        }\n\n        function filterModal(image) {\n            var defer = $q.defer();\n\n            function openFilter(image) {\n                var templateFilter =\n                        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\" ng-click=\"cropImage()\"></button><div class=\"title\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-icon \" ng-click=\"submitFilter()\"><i class=\"icon ion-ios-arrow-thin-right\"></i></button></ion-header-bar><ion-content><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n                var scope          = $rootScope.$new(true);\n                scope.closeFilter  = closeFilter;\n                scope.submitFilter = submitFilter;\n                tempImage          = image;\n                scope.form         = {\n                    photo: image\n                };\n\n                scope.modalFilter = $ionicModal.fromTemplate(templateFilter, {\n                    scope: scope\n                });\n\n                scope.cropImage = function () {\n                    scope.modalFilter.remove();\n                    cropModal(tempImage)\n                        .then(openFilter);\n                };\n\n                scope.modalFilter.show();\n\n                function closeFilter() {\n                    defer.reject();\n                    scope.modalFilter.hide();\n                }\n\n                function submitFilter() {\n                    var canvas  = window.document.getElementById('image');\n                    var dataUrl = canvas.toDataURL();\n                    scope.modalFilter.remove();\n                    defer.resolve(dataUrl);\n                }\n\n            }\n\n            openFilter(image);\n\n            return defer.promise;\n        }\n\n\n        function capture(type, options) {\n            var defer = $q.defer();\n\n            if (type === 0) {\n                getPicture(0);\n            }\n\n            if (type === 1) {\n                getPicture(1);\n            }\n\n            if (type === 2) {\n                getVideo();\n            }\n\n            function getPicture(method) {\n                if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n                if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n                if (cordova) {\n                    $cordovaCamera\n                        .getPicture(options)\n                        .then(defer.resolve, defer.reject);\n                } else {\n                    var fileInput = angular.element('<input type=\"file\"/>');\n                    fileInput[0].click();\n                    fileInput.on('change', function (evt) {\n                        tempImage     = evt.currentTarget.files[0];\n                        var reader    = new FileReader();\n                        reader.onload = function (evt) {\n                            defer.resolve(evt.target.result);\n                        };\n                        reader.readAsDataURL(tempImage);\n                    });\n                }\n            }\n\n            function getVideo() {\n                $cordovaCapture\n                    .captureVideo({\n                        limit: 1,\n                        duration: 5\n                    })\n                    .then(function (mediaFiles) {\n                        tempImage = mediaFiles[0].fullPath;\n                        defer.resolve(tempImage);\n                    }, defer.reject);\n            }\n\n\n            return defer.promise;\n        }\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('Video', Video);\n\n  function Video($window, $q) {\n    var deferred = $q.defer();\n    function createFileEntry(fileURI) {\n      $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n        return copyFile(entry);\n      }, fail);\n    }\n\n    function copyFile(fileEntry) {\n      var name = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n      var newName = makeid() + name;\n\n      $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n          fileEntry.copyTo(fileSystem2, newName, function (succ) {\n            return onCopySuccess(succ);\n          }, fail);\n        },\n        fail\n      );\n    }\n\n    function onCopySuccess(entry) {\n      var name = entry.nativeURL.slice(0, -4);\n      $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n        return prevImageSuccess(prevSucc);\n      }, fail);\n    }\n\n    function prevImageSuccess(succ) {\n      var correctUrl = succ.slice(0, -4);\n      correctUrl += '.MOV';\n      deferred.resolve(correctUrl);\n    }\n\n    function fail(error) {\n      void 0;\n      deferred.reject('ERROR');\n    }\n\n    function makeid() {\n      var text = '';\n      var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      for (var i = 0; i < 5; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      }\n      return text;\n    }\n\n    return {\n      saveVideo: function (data) {\n        createFileEntry(data[0].localURL);\n        return promise;\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('ConnectMonitor', ConnectMonitorFactory);\n\n    function ConnectMonitorFactory($rootScope, $cordovaNetwork) {\n\n                return {\n            watch: watch\n        };\n\n        function watch() {\n\n            if (ionic.Platform.isWebView()) {\n                $rootScope.onLine = $cordovaNetwork.isOnline();\n                $rootScope.$apply();\n\n\n                $rootScope.$on('$cordovaNetwork:online', function (event, networkState) {\n                    void 0;\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                });\n\n                $rootScope.$on('$cordovaNetwork:offline', function (event, networkState) {\n                    void 0;\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                })\n            } else {\n                $rootScope.onLine = navigator.onLine;\n                $rootScope.$apply();\n\n                window.addEventListener('online', function (e) {\n                    void 0;\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                }, false)\n\n                window.addEventListener('offline', function (e) {\n                    void 0;\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                }, false)\n            }\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('dataUtil', dataUtilFactory);\n\n    function dataUtilFactory() {\n\n        return {\n            parseData: parseData,\n            parseString: parseString,\n            getDate: getDate,\n            formatDate: formatDate,\n            getMonthName: getMonthName,\n            getFirstDay: getFirstDay,\n            getLastDay: getLastDay\n        };\n\n        function parseData(string) {\n            var parts = string.split('-');\n            return new Date(parts[0], parts[1] - 1, parts[2]);\n        }\n\n        function parseString(data) {\n            return new Date(data).toLocaleDateString();\n        }\n\n\n        function getDate() {\n            var data   = new Date();\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function formatDate(milliseconds) {\n            var data   = new Date(milliseconds);\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function getMonthName(data) {\n            var meses = ['Janeiro', 'Feveiro', 'Maro', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];\n            return meses[data.getMonth()];\n        }\n\n        function getFirstDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth();\n            return new Date(year, month, 1);\n        }\n\n        function getLastDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth() + 1;\n            return new Date(year, month, 0);\n        }\n\n\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('app.photogram')\n        .factory('Photogram', PhotogramFactory);\n\n    function PhotogramFactory($q, Parse, DAO, $rootScope, User, Loading) {\n\n        var limitComment = 3;\n\n        return {\n            feed: feed,\n            feedGrid: feedGrid,\n            post: post,\n            get: get,\n            deletePhoto: deletePhoto,\n            find: find,\n            nearby: nearby,\n            addActivity: addActivity,\n            listActivity: listActivity,\n            getUserGallery: getUserGallery,\n            getUserGalleryQtd: getUserGalleryQtd,\n            allComment: allComment,\n            addComment: addComment,\n            getComments: getComments,\n            updateComment: updateComment,\n            deleteComment: deleteComment,\n            getLikes: getLikes,\n            likeGallery: likeGallery,\n            getFollow: getFollow,\n            search: search\n        };\n\n\n        function deletePhoto(galleryId) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    resp.destroy();\n                    defer.resolve(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function post(_params) {\n            var defer       = $q.defer();\n            var ImageObject = Parse.Object.extend('Gallery');\n\n            if (_params.photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: _params.photo\n                });\n\n                imageFile\n                    .save()\n                    .then(function () {\n\n                        _params.photo = null;\n\n                        var imageObject = new ImageObject();\n\n                        imageObject.set('title', _params.title);\n                        imageObject.set('user', Parse.User.current());\n                        imageObject.set('img', imageFile);\n\n                        if (_params.location !== undefined) {\n                            imageObject.set('location', new Parse.GeoPoint(_params.location.latitude, _params.location.longitude));\n                        }\n\n                        imageObject\n                            .save()\n                            .then(function (resp) {\n                                void 0;\n                                defer.resolve(resp);\n                            });\n\n                    }, function (error) {\n                        void 0;\n                        defer.reject(error);\n                    });\n\n            } else {\n                var imageObject = new ImageObject();\n\n                imageObject.set('caption', _params.caption);\n\n                return imageObject.save();\n\n            }\n\n\n            return defer.promise;\n        }\n\n        function allComment(galleryId) {\n            var defer = $q.defer();\n\n            var gallery = new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    void 0;\n                    return resp;\n                });\n\n            new Parse\n                .Query('GalleryComment')\n                .equalTo('galery', gallery)\n                .descending('createdAt')\n                .find()\n                .then(function (resp) {\n                    var objs = [];\n                    angular.forEach(resp, function (item) {\n                        var obj  = item.attributes;\n                        obj.id   = item.id;\n                        obj.user = item.attributes.commentBy;\n                        objs.push(obj);\n                    });\n                    Loading.end();\n                    defer.resolve(objs);\n                });\n            return defer.promise;\n        }\n\n        function getComments(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryComment')\n                        .equalTo('gallery', gallery)\n                        .include('commentBy')\n                        .ascending('createdAt')\n                        .find()\n                        .then(function (resp) {\n                            var comments = [];\n                            resp.map(function (item) {\n                                void 0;\n                                var obj        = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    created: item.createdAt,\n                                    user: item.attributes.commentBy\n                                };\n                                obj.userAvatar = User.avatar(obj.user.attributes)\n                                comments.push(obj);\n                            });\n                            defer.resolve(comments);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function updateComment(obj) {\n            var defer = $q.defer();\n            void 0;\n            new Parse\n                .Query('GalleryComment')\n                .get(obj.id, function (comment) {\n                    void 0;\n                    comment.set('text', obj.text);\n                    comment.save();\n                    defer.resolve();\n                });\n            return defer.promise;\n        }\n\n        function deleteComment(item) {\n            var defer = $q.defer();\n            new Parse\n                .Query('GalleryComment')\n                .get(item.id, deleteItem);\n\n            function deleteItem(comment) {\n                comment.destroy(function () {\n                    defer.resolve();\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function getFollow(userId) {\n            var defer = $q.defer();\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .include('follow')\n                        .find()\n                        .then(function (resp) {\n                            var data = [];\n                            angular.forEach(resp, function (item) {\n                                void 0;\n                                var obj        = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    user: item.attributes.follow.attributes,\n                                    created: item.createdAt\n                                };\n                                obj.userAvatar = User.avatar(obj.user.attributes);\n\n                                data.push(obj.user);\n                            });\n                            defer.resolve(data);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getLikes(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    if (gallery.length) {\n                        new Parse\n                            .Query('GalleryLike')\n                            .equalTo('gallery', gallery)\n                            .include('user')\n                            .ascending('createdAt')\n                            .find()\n                            .then(function (resp) {\n                                var objs = [];\n                                angular.forEach(resp, function (item) {\n                                    void 0;\n                                    var obj        = {\n                                        id: item.id,\n                                        text: item.attributes.text,\n                                        user: item.attributes.user.attributes,\n                                        created: item.createdAt\n                                    };\n                                    obj.userAvatar = User.avatar(obj.user.attributes);\n                                    objs.push(obj);\n                                });\n                                void 0;\n                                defer.resolve(objs);\n                            });\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n\n        function nearby(position) {\n            var defer = $q.defer();\n            var data  = [];\n\n            var point       = new Parse.GeoPoint(position);\n            var maxDistance = 10;\n\n            new Parse\n                .Query('Gallery')\n                .near('location', point)\n                .withinRadians('location', point, maxDistance)\n                .include('user')\n                .find()\n                .then(function (resp) {\n                    if (resp.length) {\n                        resp.map(function (value) {\n                            var size     = 100;\n                            var obj      = angular.copy(value.attributes);\n                            obj.id       = value.id;\n                            obj.img      = User.avatar(value.attributes);\n                            obj.created  = value.createdAt;\n                            obj.icon     = {\n                                size: {\n                                    width: 100,\n                                    height: 100\n                                },\n\n                                scaledSize: {\n                                    width: size / 2,\n                                    height: size / 2\n                                },\n                                url: 'img/icon.png'\n                            };\n                            obj.icon.url = obj.img;\n                            obj.coords   = {\n                                latitude: obj.location._latitude,\n                                longitude: obj.location._longitude\n                            };\n                            data.push(obj);\n                        });\n\n\n                        defer.resolve(data);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function search(string, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 15;\n\n            new Parse\n                .Query('Gallery')\n                .limit(limit)\n                .skip(page * limit)\n                .matches('title', '* ' + string + '.*')\n                .include('user')\n                .find()\n                .then(function (resp) {\n                    resp.map(function (value) {\n                        void 0;\n                        var obj = {\n                            id: value.id,\n                            item: value.attributes,\n                            src: value.attributes.img.url(),\n                            created: value.createdAt,\n                            user: value.attributes.user.id\n                        };\n                        data.push(obj);\n                    });\n                    defer.resolve(data);\n                });\n\n            return defer.promise;\n        }\n\n\n        function _getOfflineFeed(page, user, _limit) {\n            var defer = $q.defer();\n\n            DAO.paginate('Gallery',\n                'User.name as userName, User.status as userStatus, User.img as userAvatar, Gallery.*',\n                '',\n                'INNER JOIN User ON Gallery.user_id = User.id',\n                'ORDER BY Gallery.createdAt DESC',\n                _limit,\n                page).then(function (data) {\n                void 0;\n                defer.resolve(data);\n            });\n\n            return defer.promise;\n        }\n\n        function _getOnlineFeed(page, user, _limit) {\n            var defer   = $q.defer();\n            var _result = {\n                total: 0,\n                rows: []\n            };\n\n            function _query() {\n                if (user) {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt')\n                        .equalTo('user', user);\n                } else {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt');\n                }\n            };\n\n\n            _query()\n                .count()\n                .then(function (totalGallery) {\n                    void 0;\n                    _result.total = totalGallery;\n                    _query()\n                        .include('user')\n                        .limit(_limit)\n                        .skip(page * _limit)\n                        .find()\n                        .then(function (resp) {\n\n                            var qtd = resp.length;\n\n                            if (!qtd) {\n                                defer.reject(true);\n                            }\n\n                            var cb = _.after(resp.length, function () {\n                                defer.resolve(_result);\n                            });\n\n                            _.each(resp, function (item) {\n\n                                var _likes    = item.relation('likes');\n                                var _comments = item.relation('comments');\n\n                                _likes\n                                    .query()\n                                    .equalTo('gallery', item)\n                                    .equalTo('user', Parse.User.current())\n                                    .count()\n                                    .then(function (liked) {\n                                        (liked > 0) ? liked = true : liked = false;\n                                        _comments\n                                            .query()\n                                            .include('commentBy')\n                                            .ascending('createdAt')\n                                            .limit(limitComment)\n                                            .find()\n                                            .then(function (comments) {\n\n                                                var commentsData = [];\n                                                comments.map(function (item) {\n                                                    var user = item.attributes.commentBy;\n\n                                                    var comment        = {\n                                                        id: item.id,\n                                                        text: item.attributes.text,\n                                                        user: user,\n                                                        created: item.attributes.createdAt,\n                                                        userAvatar: User.avatar(user.attributes),\n                                                        userName: user.attributes.name\n                                                    };\n                                                    User.cacheUser(comment.user);\n\n                                                    var _queryInsertComment = {\n                                                        table: 'GalleryComment',\n                                                        columns: {\n                                                            id: comment.id,\n                                                            name: comment.text,\n                                                            user_id: comment.user.id,\n                                                            userName: comment.user.attributes.name,\n                                                            gallery_id: item.id,\n                                                            createdAt: comment.createdAt ? new Date(comment.createdAt).getTime() : new Date().getTime()\n                                                        }\n                                                    };\n                                                    DAO.insert(_queryInsertComment);\n\n                                                    commentsData.push(comment);\n                                                });\n\n                                                var obj                 = {\n                                                    id: item.id,\n                                                    item: angular.copy(item.attributes),\n                                                    created: item.createdAt,\n                                                    likes: item.attributes.qtdLike || 0,\n                                                    liked: liked,\n                                                    img: item.attributes.img._url,\n                                                    comments: commentsData,\n                                                    userName: item.attributes.user.attributes.name,\n                                                    userAvatar: User.avatar(item.attributes.user.attributes),\n                                                    userStatus: item.attributes.user.attributes.status\n                                                };\n                                                var _queryInsertGallery = {\n                                                    table: 'Gallery',\n                                                    columns: {\n                                                        id: item.id,\n                                                        title: item.attributes.title,\n                                                        img: item.attributes.img._url,\n                                                        user_id: item.attributes.user.id,\n                                                        location: JSON.stringify(item.attributes.location),\n                                                        qtdLike: item.attributes.qtdLike || 0,\n                                                        liked: liked,\n                                                        likes: item.attributes.qtdLike || 0,\n                                                        createdAt: new Date(item.createdAt).getTime()\n                                                    }\n                                                };\n                                                DAO.insert(_queryInsertGallery);\n                                                _result.rows.push(obj);\n                                                cb();\n                                            });\n                                    });\n\n                            });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function feed(page, user) {\n            var _limit = 15;\n            if ($rootScope.onLine) {\n                return _getOnlineFeed(page, user, _limit);\n            } else {\n                return _getOfflineFeed(page, user, _limit);\n            }\n        }\n\n        function feedGrid(page, user, options) {\n            var defer   = $q.defer();\n            var _limit  = 30;\n            var _result = {\n                total: 0,\n                rows: []\n            };\n\n            function _query() {\n                if (user) {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt')\n                        .equalTo('user', user);\n                } else {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt');\n                }\n            };\n\n            _query()\n                .count()\n                .then(function (totalGallery) {\n                    void 0;\n                    _result.total = totalGallery;\n                    _query()\n                        .include('user')\n                        .limit(_limit)\n                        .skip(page * _limit)\n                        .find()\n                        .then(function (resp) {\n\n                            var qtd = resp.length;\n\n                            if (!qtd) {\n                                defer.reject(true);\n                            }\n\n                            var cb = _.after(resp.length, function () {\n                                defer.resolve(_result);\n                            });\n\n                            _.each(resp, function (item) {\n                                var obj        = {\n                                    id: item.id,\n                                    item: angular.copy(item.attributes),\n                                    created: item.createdAt,\n                                    likes: item.attributes.qtdLike || 0,\n                                    src: item.attributes.img.url(),\n                                    user: item.attributes.user\n                                };\n                                obj.userAvatar = User.avatar(obj.user.attributes);\n                                _result.rows.push(obj);\n                                cb();\n                            });\n                        });\n                });\n            return defer.promise;\n        }\n\n\n        function get(item) {\n            var defer = $q.defer();\n\n            void 0;\n            Loading.start();\n\n            find(item)\n                .then(function (resp) {\n                    void 0;\n\n                    var likes    = resp.relation('likes');\n                    var comments = resp.relation('comments');\n\n                    likes\n                        .query()\n                        .equalTo('gallery', item)\n                        .equalTo('user', Parse.User.current())\n                        .count()\n                        .then(function (liked) {\n\n                            likes\n                                .query()\n                                .count()\n                                .then(function (likes) {\n\n                                    comments\n                                        .query()\n                                        .include('commentBy')\n                                        .descending('createdAt')\n                                        .limit(limitComment)\n                                        .find()\n                                        .then(function (comments) {\n                                            void 0;\n\n                                            var commentsData = [];\n\n                                            angular.forEach(comments, function (item) {\n                                                var comment        = {\n                                                    id: item.id,\n                                                    text: item.attributes.text,\n                                                    user: item.attributes.commentBy.attributes\n                                                };\n                                                comment.userAvatar = User.avatar(comment.user);\n                                                commentsData.push(comment);\n                                            });\n\n                                            var obj        = {\n                                                id: item.id,\n                                                item: item.attributes,\n                                                created: item.createdAt,\n                                                likes: likes,\n                                                liked: liked,\n                                                user: item.attributes.user.attributes,\n                                                comments: commentsData\n                                            };\n                                            obj.userAvatar = User.avatar(obj.user);\n\n                                            defer.resolve(obj);\n                                            Loading.end();\n                                        });\n                                });\n                        });\n\n                });\n\n            return defer.promise;\n        }\n\n\n        function find(id) {\n            var defer = $q.defer();\n            new Parse\n                .Query('Gallery')\n                .include('user')\n                .get(id)\n                .then(function (resp) {\n                    defer.resolve(resp);\n                });\n            return defer.promise;\n        }\n\n\n        function addComment(form) {\n            var defer = $q.defer();\n            void 0;\n\n            find(form.galleryId)\n                .then(function (gallery) {\n                    var Object = Parse.Object.extend('GalleryComment');\n                    var item   = new Object({});\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n                    item.set('commentBy', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            addActivity({\n                                galleryId: gallery.id,\n                                action: 'add comment'\n                            });\n\n                            gallery\n                                .relation('comments')\n                                .add(resp);\n\n                            gallery\n                                .save()\n                                .then(function (resp) {\n                                    void 0;\n                                    defer.resolve(resp);\n                                });\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n        function isLiked(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (resp) {\n                            void 0;\n                            if (resp === undefined) {\n                                defer.reject(resp);\n                            } else {\n                                defer.resolve(resp);\n                            }\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function addLike(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    var Object = new Parse.Object.extend('GalleryLike');\n                    var item   = new Object({});\n\n                    item.set('user', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    void 0;\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            var likes = parseInt(gallery.attributes.qtdLike) ? parseInt(gallery.attributes.qtdLike + 1) : 1;\n                            void 0;\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').add(resp);\n\n                            void 0;\n\n                            gallery\n                                .save()\n                                .then(function (newGallery) {\n                                    void 0;\n                                    defer.resolve({\n                                        liked: true,\n                                        likes: likes\n                                    });\n                                }, function (err) {\n                                    void 0;\n                                    defer.reject(err);\n                                });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function removeLike(galleryId) {\n\n            var defer = $q.defer();\n            find(galleryId)\n                .then(function (gallery) {\n\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (like) {\n\n                            var likes = parseInt(gallery.attributes.qtdLike - 1);\n                            if (likes < 0) {\n                                likes = 0;\n                            }\n\n                            void 0;\n\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').remove(like);\n\n                            like\n                                .destroy(function (resp) {\n                                    if (resp) {\n                                        void 0;\n                                        gallery\n                                            .save()\n                                            .then(function (newGallery) {\n                                                void 0;\n\n                                                defer.resolve({\n                                                    liked: false,\n                                                    likes: newGallery.attributes.qtdLike\n                                                });\n\n                                            }, function (err) {\n                                                void 0;\n                                                defer.reject(err);\n                                            });\n                                    }\n                                });\n\n\n                        });\n\n                });\n            return defer.promise;\n        }\n\n        function likeGallery(gallery) {\n            var defer = $q.defer();\n\n            isLiked(gallery)\n                .then(function (resp) {\n                    void 0;\n                    var promise = '';\n\n                    if (resp) {\n                        void 0;\n                        promise = removeLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'unlike like'\n                        });\n\n                    } else {\n                        void 0;\n                        promise = addLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'add like'\n                        });\n                    }\n\n                    promise\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n\n                })\n                .catch(function (err) {\n                    void 0;\n\n                    addActivity({\n                        galleryId: gallery,\n                        action: 'add like'\n                    });\n\n                    addLike(gallery)\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getUserGalleryQtd(userId) {\n            var defer = $q.defer();\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdGalleries) {\n                            defer.resolve(qtdGalleries);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getUserGallery(userId, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 9;\n\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .descending('createdAt')\n                        .include('user')\n                        .limit(limit)\n                        .skip(page * limit)\n                        .find()\n                        .then(function (resp) {\n\n                            if (resp.length) {\n                                var cb = _.after(resp.length, function () {\n                                    defer.resolve(data);\n                                });\n\n                                _.each(resp, function (item) {\n\n                                    var likes    = item.relation('likes');\n                                    var comments = item.relation('comments');\n\n                                    likes\n                                        .query()\n                                        .equalTo('gallery', item)\n                                        .equalTo('user', Parse.User.current())\n                                        .count()\n                                        .then(function (liked) {\n\n                                            likes\n                                                .query()\n                                                .count()\n                                                .then(function (likes) {\n\n                                                    comments\n                                                        .query()\n                                                        .include('commentBy')\n                                                        .descending('createdAt')\n                                                        .limit(limitComment)\n                                                        .find()\n                                                        .then(function (comments) {\n                                                            var commentsData = [];\n\n                                                            angular.forEach(comments, function (item) {\n                                                                var comment        = {\n                                                                    id: item.id,\n                                                                    text: item.attributes.text,\n                                                                    user: item.attributes.commentBy.attributes\n                                                                };\n                                                                comment.userAvatar = User.avatar(comment.user);\n                                                                commentsData.push(comment);\n                                                            });\n\n                                                            var obj        = {\n                                                                id: item.id,\n                                                                item: item.attributes,\n                                                                src: item.attributes.img.url(),\n                                                                created: item.createdAt,\n                                                                likes: likes,\n                                                                liked: liked,\n                                                                comments: commentsData,\n                                                                user: item.attributes.user.attributes\n                                                            };\n                                                            obj.userAvatar = User.avatar(obj.user);\n\n                                                            data.push(obj);\n                                                            cb();\n                                                        });\n                                                });\n                                        });\n\n                                });\n                            } else {\n                                defer.reject(true);\n                            }\n                        }, function () {\n                            defer.reject(true);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function listActivity(page) {\n            var defer  = $q.defer();\n            var limit  = 20;\n            var _table = 'GalleryActivity';\n\n            void 0;\n\n\n            DAO.query(\"SELECT * FROM \" + _table).then(function (data) {\n                if (data.rows.length) {\n                    defer.resolve(data.rows);\n                } else {\n                    new Parse\n                        .Query('GalleryActivity')\n                        .include('user')\n                        .include('gallery')\n                        .descending('createdAt')\n                        .limit(limit)\n                        .skip(page * limit)\n                        .find()\n                        .then(function (resp) {\n                            if (resp.length) {\n                                var data = [];\n                                resp.map(function (item) {\n                                    var _insert = {\n                                        table: _table,\n                                        columns: {\n                                            id: item.id,\n                                            action: item.attributes.action,\n                                            user_id: item.attributes.user.id,\n                                            userName: item.attributes.user.attributes.name,\n                                            userAvatar: User.avatar(item.attributes.user.attributes),\n                                            gallery_id: item.attributes.gallery ? item.attributes.gallery.id : null,\n                                            img: item.attributes.gallery ? item.attributes.gallery.attributes.img._url : null,\n                                            createdAt: new Date(item.attributes.createdAt).getTime()\n                                        }\n                                    }\n                                    DAO.insert(_insert).then(void 0);\n                                    data.push(_insert.columns);\n                                });\n                                defer.resolve(data);\n                            } else {\n                                defer.reject(true);\n                            }\n                        });\n                }\n            })\n\n\n            return defer.promise;\n        }\n\n        function addActivity(data) {\n\n            void 0;\n\n            if (data.galleryId) {\n                find(data.galleryId)\n                    .then(function (gallery) {\n                        var Object = Parse.Object.extend('GalleryActivity');\n                        var item   = new Object({});\n\n                        item.set('user', Parse.User.current());\n                        item.set('gallery', gallery);\n                        item.set('action', data.action);\n\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n                            });\n                    });\n            } else {\n                var Object = Parse.Object.extend('GalleryActivity');\n                var item   = new Object({});\n\n                item.set('user', Parse.User.current());\n                item.set('action', data.action);\n\n                item.save()\n                    .then(function (resp) {\n                        void 0;\n                    });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramForm', PhotogramFormFactory);\n\n  function PhotogramFormFactory($translate) {\n\n    var form = [{\n      key: 'title',\n      type: 'input',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('PHOTOGRAM.FORM.TITLE'),\n        icon: 'icon-envelope',\n        required: true,\n        iconPlaceholder: true,\n        focus: true\n      }\n    }, {\n      key: 'geo',\n      type: 'toggle',\n      templateOptions: {\n        label: $translate.instant('PHOTOGRAM.FORM.GEOLOCATION'),\n        toggleClass: 'positive'\n      }\n    }];\n\n    var formComment = [{\n      key: 'text',\n      type: 'input',\n      templateOptions: {\n        placeholder: $translate.instant('PHOTOGRAM.FORM.ADDCOMMENT'),\n        type: 'text',\n        required: true,\n        focus: true\n      }\n    }];\n\n    var formShare = [{\n      key: 'facebook',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Facebook',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'twitter',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Twitter',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'whatsapp',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Whatsapp',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'SMS',\n      type: 'toggle',\n      templateOptions: {\n        label: 'SMS',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'email',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Email',\n        toggleClass: 'positive'\n      }\n    }, ];\n    return {\n      form: form,\n      formComment: formComment,\n      formShare: formShare\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramSetting', PhotogramSettingFactory);\n\n    function PhotogramSettingFactory(DAO, $q) {\n\n\n        return {\n            init: init,\n            get: get\n        };\n\n        function init() {\n            var defer = $q.defer();\n            var _tableName = 'GallerySetting';\n\n            DAO.query(\"SELECT * FROM \" + _tableName).then(function  (data) {\n\n                                        void 0;\n                    if(data.rows.length) {\n                        defer.resolve(data.rows);\n                    } else {\n\n                        new Parse\n                            .Query(_tableName)\n                            .find()\n                            .then(function (resp) {\n                                var data  = [];\n                                resp.map(function (item) {\n                                    var _queryInsert = {\n                                        table: _tableName,\n                                        columns: {\n                                            key: item.attributes.key,\n                                            value: item.attributes.value\n                                        }\n                                    };\n                                    DAO.insert(_queryInsert);\n                                    data.push(_queryInsert.columns)\n                                });\n                                defer.resolve(data);\n                            }, error);\n\n                                            }\n                })\n\n\n            return defer.promise;\n\n        }\n\n        function error(err) {\n            void 0;\n        }\n\n        function get(key) {\n            return CacheSetting.get(key);\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramShare', PhotogramShareFactory);\n\n  function PhotogramShareFactory(AppConfig, $q, $ionicActionSheet, Notify, $cordovaSocialSharing) {\n\n    var message = {\n      title: ('Join me from ') + AppConfig.app.name + '!',\n      subject: (\"I'm at \") + AppConfig.app.name + '!. ' + (\n        'Install the application and follow me!') + ' ' + AppConfig.app.url,\n      image: AppConfig.app.image,\n      link: AppConfig.app.url\n    };\n\n    return {\n      share: share,\n      open: open\n    };\n\n    function share(social, option) {\n      var defer = $q.defer();\n\n      function success(resp) {\n        Notify.alert({\n          title: ('Thanks'),\n          text: ('Thank you for sharing!!')\n        });\n        defer.resolve(resp);\n      }\n\n      function error(err) {\n        void 0;\n        defer.reject();\n      }\n\n      var detail = option ? option : message;\n\n      switch (social) {\n      case 'instagram':\n        window\n          .plugins\n          .socialsharing\n          .shareViaInstagram(message.text, message.image, message.link)\n          .then(success, error);\n        break;\n\n      case 'facebook':\n        $cordovaSocialSharing\n          .shareViaFacebook(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'twitter':\n        $cordovaSocialSharing\n          .shareViaTwitter(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'whatsapp':\n        $cordovaSocialSharing\n          .shareViaWhatsApp(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'email':\n        $cordovaSocialSharing\n          .shareViaEmail(detail.title, detail.subject ? detail.subject : detail.title)\n          .then(success, error);\n        break;\n      }\n\n      return defer.promise;\n    }\n\n    function open() {\n      var modal = $ionicActionSheet\n        .show({\n          buttons: [{\n            text: '<i class=\"icon ion-social-instagram\"></i>' + ('Instagram')\n          }, {\n            text: '<i class=\"icon ion-social-facebook\"></i>' + ('Facebook')\n          }, {\n            text: '<i class=\"icon ion-social-twitter\"></i>' + ('Twitter')\n          }, {\n            text: '<i class=\"icon ion-social-whatsapp\"></i>' + ('Whatsapp')\n          }, {\n            text: '<i class=\"icon ion-email\"></i>' + ('Email')\n          }],\n          titleText: ('Share'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n            return false;\n          },\n          buttonClicked: function (index) {\n            void 0;\n            switch (index) {\n            case 0:\n              share('instagram');\n              break;\n            case 1:\n              share('facebook');\n              break;\n            case 2:\n              share('twitter');\n              break;\n            case 3:\n              share('whatsapp');\n              break;\n            case 4:\n              share('email');\n              break;\n            }\n            modal();\n          }\n        });\n\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.user')\n        .factory('User', UserFactory);\n\n    function UserFactory($q, $window, AppConfig, Parse, $rootScope, $ionicHistory, $cordovaDevice, $facebook, $cordovaFacebook, Loading, DAO, $state) {\n\n        var cordova  = $window.cordova;\n        var device   = cordova ? true : false;\n        var facebook = device ? $cordovaFacebook : $facebook;\n        var user;\n\n        return {\n            init: init,\n            initFollows: initFollows,\n            addFollows: addFollows,\n            currentUser: currentUser,\n            register: register,\n            cacheUser: cacheUser,\n            login: login,\n            profile: profile,\n            logout: logout,\n            update: update,\n            updateAvatar: updateAvatar,\n            forgot: forgot,\n            list: list,\n            find: find,\n            follow: follow,\n            avatar: avatar,\n            getFollowers: getFollowers,\n            getFollowing: getFollowing,\n            isFollow: isFollow,\n            mail: getMail,\n            facebookLogin: facebookLogin,\n            facebookLink: facebookLink,\n            facebookProfile: facebookProfile,\n            facebookFriends: facebookFriends,\n            facebookInvite: facebookInvite,\n            facebookAPI: facebookAPI\n        };\n\n\n        function init() {\n            var defer = $q.defer();\n            if (Parse.User.current()) {\n                user = Parse.User.current();\n                loadProfile();\n                defer.resolve(user);\n            } else {\n                void 0;\n                defer.reject('Not user');\n            }\n            return defer.promise;\n        }\n\n        function initFollows() {\n            var defer = $q.defer();\n            void 0;\n            DAO.query(\"SELECT * FROM UserFollow WHERE userId = '\" + Parse.User.current().id + \"'\")\n               .then(function (data) {\n                   void 0;\n\n                   if (data.rows.length) {\n                       defer.resolve(data.rows);\n                   } else {\n                       new Parse\n                           .Query('UserFollow')\n                           .include('follow')\n                           .equalTo('user', Parse.User.current())\n                           .find()\n                           .then(function (follows) {\n                               var _promises = [];\n                               void 0;\n                               follows.map(function (item) {\n\n                                   var _query            = {\n                                       table: 'UserFollow',\n                                       columns: {\n                                           id: item.id,\n                                           userId: item.attributes.user.id,\n                                           followId: item.attributes.follow.id\n                                       }\n                                   };\n\n                                   _promises.push(cacheUser(item.attributes.follow));\n                                   _promises.push(DAO.insert(_query));\n                               });\n\n                               $q.all(_promises).then(function (result) {\n                                   defer.resolve(result);\n                               }).catch(defer.reject);\n\n                           }, function (err) {\n                               void 0;\n                               defer.resolve([]);\n                           });\n                   }\n               })\n               .catch(function (erro) {\n                   void 0;\n               });\n            return defer.promise;\n        }\n\n\n        function currentUser() {\n            return user;\n        }\n\n\n        function loadProfile() {\n            user = Parse.User.current();\n            if (user) {\n                $rootScope.currentUser = user.attributes;\n                void 0;\n                return user;\n            } else {\n                logout();\n                return false;\n            }\n        }\n\n        function avatar(obj) {\n            if (obj.facebookimg) {\n                return obj.facebookimg;\n            } else {\n                return obj.img ? obj.img._url : 'img/user.png';\n            }\n        }\n\n        function login(form) {\n            var defer = $q.defer();\n            Parse\n                .User\n                .logIn(form.email, form.password, {\n                    success: function (resp) {\n                        void 0;\n                        loadProfile()\n                        defer.resolve($rootScope.currentUser);\n                    },\n                    error: function (user, err) {\n                        void 0;\n                        defer.reject(err);\n                    }\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook2(response) {\n            var defer = $q.defer();\n            void 0;\n            facebook\n                .api('me/?fields=id,name,email,gender,bio', ['public_profile'])\n                .then(function (dados) {\n                    void 0;\n\n                    var query = new Parse.Query(Parse.User);\n                    query\n                        .equalTo('email', dados.email)\n                        .first({\n                            success: function (user) {\n                                void 0;\n\n                                if (user) {\n                                    void 0;\n                                    if (user.get('facebook_complete') === Boolean(true)) {\n\n                                        loginFacebook(response)\n                                            .then(function (resp) {\n                                                void 0;\n\n                                                if (user.attributes.name === '') {\n                                                    void 0;\n                                                    var updateUser  = user.attributes;\n                                                    updateUser.name = dados.name;\n\n                                                    update(updateUser)\n                                                        .then(function () {\n                                                            defer.resolve({\n                                                                status: 0\n                                                            });\n                                                        });\n                                                } else {\n\n                                                    loadProfile(user);\n\n                                                    defer.resolve({\n                                                        status: 0\n                                                    });\n                                                }\n\n                                            });\n                                    } else {\n                                        void 0;\n\n\n                                        $rootScope.tempUser             = dados;\n                                        $rootScope.tempUser.facebookimg = 'https://graph.facebook.com/' + dados.id +\n                                            '/picture?width=250&height=250';\n\n                                        void 0;\n                                        defer.resolve({\n                                            status: 2\n                                        });\n\n                                    }\n\n                                } else {\n                                    void 0;\n\n                                    loginFacebook(response)\n                                        .then(function (newuser) {\n\n                                            void 0;\n\n                                            var form = {\n                                                name: dados.name,\n                                                facebook: dados.id,\n                                                email: dados.email,\n                                                gender: dados.gender,\n                                                facebook_complete: Boolean(true),\n                                                facebookimg: 'https://graph.facebook.com/' + dados.id +\n                                                '/picture?width=250&height=250'\n                                            };\n\n                                            update(form)\n                                                .then(function (resp) {\n                                                    void 0;\n\n                                                    defer.resolve({\n                                                        status: 1\n                                                    });\n                                                });\n\n\n                                        });\n\n\n                                }\n\n                            },\n                            error: function (error) {\n                                void 0;\n                                defer.reject(error);\n\n                            }\n                        });\n\n                }, function (resp) {\n                    void 0;\n                    defer.reject(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookLogin() {\n            var defer = $q.defer();\n\n            void 0;\n\n            facebook\n                .getLoginStatus()\n                .then(function (respStatus) {\n\n                    if (respStatus.status === 'connected') {\n                        loginFacebook2(respStatus)\n                            .then(function (deferStatus) {\n                                defer.resolve(deferStatus);\n                            });\n                    } else {\n\n                        facebook\n                            .login([\n                                'public_profile',\n                                'email'\n                            ])\n                            .then(function (response) {\n\n                                    void 0;\n                                    if (response.status === undefined) {\n                                        defer.reject('reject');\n                                    }\n\n                                    void 0;\n                                    loginFacebook2(response)\n                                        .then(function (deferStatus) {\n                                            defer.resolve(deferStatus);\n                                        });\n                                    ;\n                                },\n                                function (response) {\n                                    void 0;\n                                    defer.reject(JSON.stringify(response));\n\n                                });\n                    }\n                    ;\n                });\n\n\n            return defer.promise;\n        }\n\n\n        function facebookProfile() {\n            var defer = $q.defer();\n            facebookLogin()\n                .then(function (resp) {\n\n                    facebook\n                        .api('me', '')\n                        .then(function (response) {\n                            defer.resolve([\n                                resp,\n                                response\n                            ]);\n                        }, function (error) {\n                            void 0;\n                            defer.reject(error);\n                        });\n                });\n            return defer.promise;\n        }\n\n\n        function register(form) {\n            var defer = $q.defer();\n\n            var formData      = form;\n            formData.username = form.email;\n\n            void 0;\n            new Parse\n                .User(formData)\n                .signUp(null, {\n                    success: function (resp) {\n                        var user = loadProfile(resp);\n                        void 0;\n                        Loading.end();\n                        defer.resolve(user);\n                    },\n                    error: function (user, resp) {\n                        void 0;\n                        if (resp.code === 125) {\n                            defer.reject('Please specify a valid email address');\n                        } else if (resp.code === 202) {\n                            defer.reject('The email address is already registered');\n                        } else {\n                            defer.reject(resp);\n                        }\n                    }\n                });\n            return defer.promise;\n        }\n\n        function forgot(email) {\n            var defer = $q.defer();\n            new Parse.User.requestPasswordReset(email, {\n                success: function (resp) {\n                    defer.resolve(resp);\n                },\n                error: function (err) {\n                    if (err.code === 125) {\n                        defer.reject('Email address does not exist');\n                    } else {\n                        defer.reject('An unknown error has occurred, please try again');\n                    }\n                }\n            });\n            return defer.promise;\n        }\n\n        function logout() {\n            new Parse.User.logOut();\n            delete $rootScope.currentUser;\n            $state.go(AppConfig.routes.login, {\n                clear: true\n            });\n            $ionicHistory.clearCache();\n        }\n\n        function update(form) {\n            var defer = $q.defer();\n            Loading.start();\n            var currentUser = Parse.User.current();\n\n            angular.forEach(form, function (value, key) {\n                void 0;\n                currentUser.set(key, value);\n            });\n\n            if (cordova) {\n                var cordovaDevice = {\n                    device: $cordovaDevice.getDevice(),\n                    cordova: $cordovaDevice.getCordova(),\n                    model: $cordovaDevice.getModel(),\n                    platform: $cordovaDevice.getPlatform(),\n                    uuid: $cordovaDevice.getUUID(),\n                    version: $cordovaDevice.getVersion()\n                };\n\n                currentUser.set('device', cordovaDevice.device);\n                currentUser.set('deviceCordova', cordovaDevice.cordova);\n                currentUser.set('deviceModel', cordovaDevice.model);\n                currentUser.set('devicePlatform', cordovaDevice.platform);\n                currentUser.set('deviceUuiid', cordovaDevice.uuid);\n                currentUser.set('deviceVersion', cordovaDevice.version);\n            }\n\n            currentUser\n                .save()\n                .then(function (resp) {\n                    void 0;\n                    loadProfile();\n                    Loading.end();\n                    defer.resolve(resp);\n                });\n\n\n            return defer.promise;\n        }\n\n        function updateAvatar(photo) {\n            var defer = $q.defer();\n\n            Loading.start();\n\n            if (photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: photo\n                });\n\n                return imageFile\n                    .save()\n                    .then(function () {\n\n                        photo = null;\n\n                        var currentUser = Parse.User.current();\n\n                        currentUser.set('img', imageFile);\n\n                        currentUser\n                            .save()\n                            .then(function (resp) {\n                                loadProfile();\n                                Loading.end();\n                                defer.resolve(resp);\n                            });\n\n\n                    }, function (error) {\n                        Loading.end();\n                        void 0;\n                        defer.reject(error);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function facebookFriends() {\n            var defer = $q.defer();\n\n            facebook\n                .api('me/friends')\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookAPI(api) {\n            var defer = $q.defer();\n\n            facebook\n                .api(api)\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookInvite() {\n            var defer = $q.defer();\n            if (device) {\n                facebook\n                    .showDialog({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            } else {\n                facebook\n                    .ui({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function list() {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('User')\n                .notEqualTo('user', Parse.User.current())\n                .find()\n                .then(function (resp) {\n                    var users = [];\n                    angular.forEach(resp, function (item) {\n                        var user = item.attributes;\n                        user.id  = item.id;\n                        user     = avatar(user);\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', item)\n                            .count()\n                            .then(function (follow) {\n                                user.follow = follow;\n\n                                void 0;\n                                users.push(user);\n                            });\n                    });\n                    defer.resolve(users);\n                });\n\n            return defer.promise;\n        }\n\n        function cacheUser(user) {\n            var defer = $q.defer();\n            void 0;\n            var _queryInsert = {\n                table: 'User',\n                columns: {\n                    id: user.id,\n                    name: user.attributes.name,\n                    username: user.attributes.username,\n                    email: user.attributes.email,\n                    language: user.attributes.language,\n                    facebookimg: user.attributes.facebookimg,\n                    gender: user.attributes.gender,\n                    img: avatar(user.attributes),\n                    facebook: user.attributes.facebook,\n                    qtdFollow: user.attributes.qtdFollow,\n                    status: user.attributes.status,\n                    createdAt: user.attributes.createdAt ? new Date(user.attributes.createdAt).getTime() : 0,\n                    attributes: JSON.stringify(user.attributes)\n                }\n            }\n\n            void 0;\n\n            DAO\n                .insert(_queryInsert)\n                .then(function () {\n                    defer.resolve(_queryInsert.columns);\n                })\n                .catch(defer.reject);\n            return defer.promise;\n        }\n\n        function find(userId) {\n            var defer = $q.defer();\n\n            DAO.query(\"SELECT * FROM User WHERE id='\" + userId + \"'\").then(function (data) {\n                if (data.rows.length) {\n                    defer.resolve(data.rows[0]);\n                } else {\n                    new Parse\n                        .Query('User')\n                        .equalTo('objectId', userId)\n                        .first()\n                        .then(function (resp) {\n                            cacheUser(resp).then(function (user) {\n                                defer.resolve(user);\n                            })\n                        });\n                }\n            })\n\n            return defer.promise;\n        }\n\n        function profile(userId) {\n            var defer = $q.defer();\n\n            find(userId)\n                .then(function (resp) {\n                    void 0;\n                    var user = loadProfile(resp);\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', resp)\n                        .count()\n                        .then(function (gallery) {\n                            user.galleries = gallery;\n\n                            new Parse\n                                .Query('UserFollow')\n                                .equalTo('user', resp)\n                                .count()\n                                .then(function (foloow) {\n                                    user.follow = foloow;\n\n                                    new Parse\n                                        .Query('UserFollow')\n                                        .equalTo('follow', resp)\n                                        .count()\n                                        .then(function (follow2) {\n                                            user.follow2 = follow2;\n                                            defer.resolve(user);\n                                        });\n\n                                });\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function isFollow(userId) {\n            var defer = $q.defer();\n\n            void 0;\n\n            find(userId)\n                .then(function (followUser) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', Parse.User.current())\n                        .equalTo('follow', followUser)\n                        .count()\n                        .then(function (respFollow) {\n                            defer.resolve(respFollow);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n\n        function getFollowers(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('follow', user)\n                        .count()\n                        .then(function (qtdFollowers) {\n                            defer.resolve(qtdFollowers);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getFollowing(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdFollowing) {\n                            defer.resolve(qtdFollowing);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function follow(status, user) {\n            var defer     = $q.defer();\n            var qtdFollow = Parse.User.current().qtdFollow ? parseInt(Parse.User.current().qtdFollow) : 0;\n\n\n            find(user.id)\n                .then(function (follow) {\n\n                    if (status) {\n                        void 0;\n\n                        var Object = Parse.Object.extend('UserFollow');\n                        var item   = new Object();\n\n                        item.set('user', Parse.User.current());\n                        item.set('follow', follow);\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n\n                                update({\n                                    qtdFollow: qtdFollow + 1\n                                })\n                                    .then(function (userResp) {\n                                        void 0;\n                                        defer.resolve(userResp);\n                                    });\n\n                            }, function (err) {\n                                defer.resolve(err);\n                            });\n                    } else {\n                        void 0;\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', follow)\n                            .first()\n                            .then(function (item) {\n                                item\n                                    .destroy()\n                                    .then(function (resp) {\n\n                                        update({\n                                            qtdFollow: qtdFollow - 1\n                                        })\n                                            .then(function (userResp) {\n                                                void 0;\n                                                defer.resolve(userResp);\n                                            });\n                                    }, function (err) {\n                                        defer.resolve(err);\n                                    });\n                            });\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function addFollows(users) {\n            void 0;\n            var promises = [];\n            angular.forEach(users, function (user) {\n                promises.push(follow(true, user.id));\n            });\n            return $q.all(promises);\n        }\n\n        function getMail(email) {\n            var defer = $q.defer();\n            Loading.start();\n            new Parse\n                .Query('User')\n                .equalTo('email', email)\n                .first()\n                .then(function (resp) {\n                    Loading.end();\n                    defer.resolve(resp);\n                }, function (resp) {\n                    Loading.end();\n                    defer.reject(resp);\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook(response) {\n            var defer = $q.defer();\n\n            var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n            Parse.FacebookUtils.logIn({\n                id: response['authResponse']['userID'],\n                access_token: response['authResponse']['accessToken'],\n                expiration_date: data\n            }, {\n                success: function (response) {\n                    var user = loadProfile(response);\n                    void 0;\n                    defer.resolve(user);\n                }\n            });\n\n            return defer.promise;\n        }\n\n        function facebookLink() {\n            var defer = $q.defer();\n\n            facebook\n                .login(['email'])\n                .then(function (response) {\n\n                        void 0;\n\n                        var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n                        var user = Parse.User.current();\n                        void 0;\n\n                        Parse.FacebookUtils.link(user, {\n                            id: response['authResponse']['userID'],\n                            access_token: response['authResponse']['accessToken'],\n                            expiration_date: data\n                        }, {\n                            success: function (user) {\n                                void 0;\n                                user.set('facebook', response['authResponse']['userID']);\n                                user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] +\n                                    '/picture?width=250&height=250');\n                                user.set('facebook_complete', Boolean(true));\n                                user.save()\n                                    .then(function (response) {\n                                        var user = loadProfile(response);\n                                        void 0;\n                                        defer.resolve(user);\n                                    });\n                            }\n                        });\n                    },\n                    function (response) {\n                        void 0;\n\n                    });\n\n\n            return defer.promise;\n        }\n\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .factory('UserForm', UserFormFactory);\n\n  function UserFormFactory($translate) {\n\n    return {\n      login: login(),\n      register: register(),\n      profile: profile()\n    };\n\n    function login() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function register() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function profile() {\n      return [{\n        key: 'name',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.NAME'),\n          icon: 'icon-user',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        key: 'status',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.STATUS'),\n          icon: 'ion-quote',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'select',\n        key: 'gender',\n        templateOptions: {\n          label: $translate.instant('USER.FORM.GENDER'),\n          options: [{\n            'label': $translate.instant('USER.FORM.MAN'),\n            'id': 'male',\n          }, {\n            'label': $translate.instant('USER.FORM.WOMAN'),\n            'id': 'female',\n          }],\n          valueProp: 'id',\n          labelProp: 'label',\n          icon: 'icon-list',\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('buy', buyDirective);\n\n    function buyDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            link: buyLink\n        };\n\n        function buyLink(scope, elem) {\n            elem.bind('click', function () {\n                var url     = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n\n                if(window.cordova ) {\n                    cordova\n                        .ThemeableBrowser\n                        .open(url, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#333333',\n                                showPageTitle: true\n                            },\n                            closeButton: {\n                                image: 'close',\n                                imagePressed: 'close_pressed',\n                                align: 'left',\n                                event: 'closePressed'\n                            },\n                            backButtonCanClose: true\n                        });\n                } else {\n                    window.open(url,'_blank');\n                }\n            });\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramComment', photogramCommentDirective);\n\n  function photogramCommentDirective($ionicModal, Loading, $ionicPopup, User, Notify, $timeout,\n    AppConfig, Photogram, PhotogramForm) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n\n\n        elem.bind('click', openModalComment);\n\n        function init() {\n          scope.currentUser = User.currentUser();\n          scope.nocomments = false;\n          scope.loading = false;\n          scope.form = {\n            galleryId: scope.ngModel.id,\n            text: ''\n          };\n        }\n\n        function openModalComment() {\n          void 0;\n\n          init();\n\n          scope.formFields = PhotogramForm.formComment;\n          scope.submitComment = submitComment;\n          scope.deleteComment = deleteComment;\n          scope.editComment = editComment;\n          scope.closeModal = function () {\n            scope.modal.hide();\n            scope.modal.remove();\n          };\n\n          scope.comments = scope.ngModel.comments;\n          $timeout(function () {\n            if (scope.comments.length === 0) {\n              scope.nocomments = true;\n            }\n          }, 500);\n\n\n          $ionicModal.fromTemplateUrl(path + '/directive/comment/photogram.comment.directive.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n\n            });\n        }\n\n        function deleteComment(obj) {\n          void 0;\n          Notify\n            .confirm(('Delete comment'), ('You are sure?'))\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .deleteComment(obj)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function editComment(obj) {\n          void 0;\n          scope.data = angular.copy(obj);\n          $ionicPopup\n            .show({\n              template: '<input type=\"text\" ng-model=\"data.text\">',\n              title: ('Edit comment'),\n              scope: scope,\n              buttons: [{\n                text: ('Cancel')\n              }, {\n                text: '<b>OK</b>',\n                type: 'button-positive',\n                onTap: function (e) {\n                  void 0;\n                  if (!scope.data.text) {\n                    e.preventDefault();\n                  } else {\n                    return scope.data;\n                  }\n                }\n              }]\n            })\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .updateComment(resp)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function getComments() {\n          scope.loading = true;\n          Photogram\n            .getComments(scope.ngModel.id)\n            .then(function (resp) {\n              scope.comments = resp;\n              scope.ngModel.comments = resp;\n              scope.loading = false;\n            });\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Loading.start();\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                getComments();\n                Loading.end();\n                scope.closeModal();\n              });\n          }\n        }\n\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective(Loading, User, $state, $cordovaFacebook, $facebook, AppConfig, Notify) {\n        return {\n            restrict: 'E',\n            link: facebookLoginLink,\n            template: '<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <span>{{ \\'USER.BUTTON.LOGIN_SOCIAL\\'| translate}} {{name || \\'Facebook\\'}}</span> </button>',\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            var facebook = window.cordova ? $cordovaFacebook : $facebook;\n\n            void 0;\n\n                        facebook\n                .getLoginStatus()\n                .then(function (resp) {\n                    void 0;\n                    facebook\n                        .api('/me')\n                        .then(function (profile) {\n                            void 0;\n                            scope.name = profile.name;\n                        });\n                })\n                .catch(function (resp) {\n                    void 0;\n                });\n\n            elem.bind('click', facebookLogin);\n\n            function facebookLogin() {\n                Loading.start();\n                User\n                    .facebookLogin()\n                    .then(function (resp) {\n                        void 0;\n\n                        Loading.end();\n                        switch (resp.status) {\n                            case 0:\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                });\n                                break;\n                            case 1:\n                                $state.go('user.avatar', {\n                                    clear: true\n                                });\n                                break;\n                            case 2:\n                                $state.go('user.merge', {\n                                    clear: true\n                                });\n                                break;\n                        }\n                    })\n                    .catch(function () {\n                        Loading.end();\n                        Notify.alert({\n                            title: 'Ops',\n                            text: ('Facebook error')\n                        });\n                    });\n            }\n\n        }\n    }\n\n})();\n(function () {\n\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedback', PhotogramFeedback);\n\n    function PhotogramFeedback($q, AppConfig, Photogram, $rootScope, PhotogramFeedbackForm, $ionicModal, Notify) {\n        var path = AppConfig.path;\n\n        return {\n            modal: modal,\n            submit: submit\n        };\n        function modal(gallery) {\n            var $scope            = $rootScope.$new();\n            $scope.submitFeedback = submitFeedback;\n            $scope.closeModal     = closeModal;\n            $scope.form           = {\n                photogramId: gallery.id\n            };\n\n            function submitFeedback() {\n                var dataForm = angular.copy($scope.form);\n                submit(dataForm)\n                    .then(function (resp) {\n                        void 0;\n                        closeModal();\n                    });\n            }\n\n\n            function closeModal() {\n                $scope.modal.hide();\n                $scope.modal.remove();\n                delete $scope.modal;\n            }\n\n            $scope.formFields = PhotogramFeedbackForm.form;\n\n            $ionicModal\n                .fromTemplateUrl(path + '/module/feedback/view/feedback.modal.html', {\n                    scope: $scope,\n                    focusFirstInput: true\n                })\n                .then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n        }\n\n\n        function submit(form) {\n            var defer = $q.defer();\n\n            void 0;\n\n            Photogram\n                .find(form.photogramId)\n                .then(function (Photogram) {\n                    void 0;\n                    var Object = Parse.Object.extend('PhotogramFeedback');\n                    var item   = new Object();\n\n                    delete form.PhotogramId;\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n\n                    item.set('user', Parse.User.current());\n                    item.set('Gallery', Photogram);\n\n                    item\n                        .save(null)\n                        .then(function (resp) {\n                            Notify.alert({\n                                title: ('Thanks'),\n                                text: ('Thanks for your Feedback')\n                            });\n                            defer.resolve(resp);\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n    }\n\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedbackForm', PhotogramFeedbackForm);\n\n    function PhotogramFeedbackForm($translate) {\n\n        var form = [{\n            key: 'title',\n            type: 'input',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.TITLE'),\n                required: true\n            }\n        }, {\n            key: 'subject',\n            type: 'select',\n            templateOptions: {\n                label: $translate.instant('FEEDBACK.SUBJECT'),\n                options: [{\n                    'label': $translate.instant('FEEDBACK.COMPLAINT'),\n                    'id': 'complaint',\n                }, {\n                    'label': $translate.instant('FEEDBACK.BUG'),\n                    'id': 'bug',\n                }, {\n                    'label': $translate.instant('FEEDBACK.SUGGESTION'),\n                    'id': 'suggestion',\n                }],\n                valueProp: 'id',\n                labelProp: 'label',\n                icon: 'icon-list',\n                iconPlaceholder: true\n            }\n        }, {\n            key: 'status',\n            type: 'textarea',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.MESSAGE'),\n                icon: 'ion-quote',\n                required: true,\n                iconPlaceholder: true\n            }\n        }];\n\n        return {\n            form: form\n        };\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoFeedback', photogramPhotoFeedbackDirective);\n\n  function photogramPhotoFeedbackDirective($ionicModal, AppConfig, PhotogramFeedback, PhotogramFeedbackForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n\n        scope.link = link;\n        scope.submitFeedback = submitFeedback;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function init() {\n          scope.form = {\n            photogramId: scope.photogram\n          };\n          scope.formFields = PhotogramFeedbackForm.form;\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/feedback/feedback-modal.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n        }\n\n        function link(sref) {\n          $state.go(sref)\n          scope.closeModal();\n        }\n\n        function submitFeedback() {\n          var dataForm = angular.copy(scope.form);\n          PhotogramFeedback\n            .submit(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramFollow', photogramFollow);\n\n  function photogramFollow($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directive/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            void 0;\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                void 0;\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        void 0;\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramLike', photogramLike)\n    .directive('photogramLikeModal', photogramLikeModal);\n\n\n  function photogramLike(Photogram) {\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n        elem.bind('click', likePhotogram);\n\n        function likePhotogram() {\n\n          void 0;\n          var _model = scope.ngModel;\n          _model.progress = true;\n          _model.liked = !_model.liked;\n          Photogram\n            .likeGallery(scope.ngModel.id)\n            .then(function (resp) {\n              _model.likes = resp.likes;\n              _model.progress = false;\n              void 0;\n            });\n          scope.$apply();\n        }\n      }\n    };\n  }\n\n  function photogramLikeModal($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '='\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n        scope.formFields = Photogram.formComment;\n        scope.submitComment = submitComment;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function openModal() {\n          void 0;\n\n          $ionicModal.fromTemplateUrl(path + '/directive/like/photogram.like.directive.html', {\n            scope: scope,\n            animation: 'slide-in-up'\n          }).then(function (modal) {\n            scope.modal = modal;\n          });\n\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                scope.closeModal();\n              });\n          }\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('photogramLoading', PhotogramLoadingDirective);\n\n    function PhotogramLoadingDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                loading: '=',\n                icon: '@'\n            },\n            template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n        };\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoCapture', photogramPhotoCapture);\n\n  function photogramPhotoCapture($ionicModal, $cordovaGeolocation, AppConfig, Loading, $state, PhotoService,\n    Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      transclude: false,\n      link: photogramPhotoCaptureLink\n    };\n\n    function photogramPhotoCaptureLink(scope, elem, attr) {\n\n      scope.getGeo = getGeo;\n      scope.formFields = Photogram.form;\n      scope.open = open;\n      scope.submitCapture = submitCapture;\n      scope.closeModal = closeModal;\n      elem.bind('click', openModalCapture);\n\n      function init() {\n        scope.loading = true;\n        scope.comments = [];\n        Photogram\n          .getComments(scope.photogram)\n          .then(function (resp) {\n            scope.comments = resp;\n            scope.loading = false;\n          });\n\n        scope.form = {\n          photogramId: scope.photogram,\n          text: ''\n        };\n      }\n\n      function openModalCapture() {\n        void 0;\n\n\n        $ionicModal.fromTemplateUrl(path + '/view/photogram.capture.modal.html', {\n          scope: scope\n        }).then(function (modal) {\n          scope.modal = modal;\n          scope.modal.show();\n        });\n      }\n\n\n      function init() {\n        scope.active = false;\n        scope.form = {\n          title: '',\n          location: '',\n          photo: '',\n          geo: false\n        };\n\n        scope.map = {\n          center: {\n            latitude: -23.5333333,\n            longitude: -46.6166667\n          },\n          scrollwheel: false,\n          zoom: 15\n        };\n        scope.data = '';\n        scope.loading = false;\n\n      }\n\n      function getLocation() {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n\n        if (scope.form.location === '') {\n\n          scope.loading = false;\n\n          $cordovaGeolocation\n            .getCurrentPosition(posOptions)\n            .then(function (position) {\n\n              scope.here = {\n                id: 1,\n                coords: {\n                  latitude: position.coords.latitude,\n                  longitude: position.coords.longitude,\n                },\n                icon: 'img/pin.png'\n              };\n\n              scope.form.location = {\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n              };\n\n              scope.map.center = scope.here.coords;\n              scope.loading = false;\n\n              void 0;\n              void 0;\n              void 0;\n            }, function (err) {\n            });\n        }\n      };\n\n      function getGeo(resp) {\n        if (resp) getLocation();\n      }\n\n      function open() {\n        init();\n        PhotoService\n          .open()\n          .then(function (resp) {\n            scope.loading = false;\n            scope.active = true;\n            scope.form.photo = resp;\n            scope.data = 'data:image/jpeg;base64,' + resp;\n          })\n          .catch(function () {\n            $state.go('photogram.home');\n          });\n      }\n\n      function submitCapture() {\n\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        var dataForm = angular.copy(scope.form);\n\n        void 0;\n\n        return false;\n\n        Loading.start();\n        Photogram\n          .add(dataForm)\n          .then(function (resp) {\n            $state.go('photogram.home', {\n              reload: true\n            });\n            init();\n            Loading.end();\n          });\n      }\n\n      function closeModal() {\n        scope.modal.hide();\n        scope.modal.remove();\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.photogram')\n      .directive('photogramPhotoGrid', photogramPhotoGrid);\n\n  function photogramPhotoGrid(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'E',\n      scope: {\n        user: '=',\n        profile: '='\n      },\n      templateUrl: path + '/directive/photogrid/photo-grid.html',\n      link: photogramPhotoGridCtrl\n    };\n\n    function photogramPhotoGridCtrl($scope, elem, attr) {\n\n      $scope.action  = action;\n      $scope.like    = likePhoto;\n      $scope.loading = true;\n      $scope.load    = feed;\n      $scope.load();\n      $scope.loadMore = loadMore;\n      $scope.gallery = {\n        src: ''\n      };\n\n      init();\n\n      $scope.$on('PhotogramHome:reload', function () {\n        loadMore(true);\n      });\n\n      function init() {\n        $scope.data  = {\n          total: -1,\n          galleries: []\n        };\n        $scope.page  = 0;\n        $scope.empty = false;\n        $scope.more  = false;\n      }\n\n\n      function loadMore(force) {\n        void 0;\n        $scope.load(force);\n      }\n\n\n      function feed(force) {\n\n        if (force) {\n          init();\n        }\n\n        Photogram\n            .feedGrid($scope.page, $scope.user)\n            .then(function (resp) {\n\n              void 0;\n              resp.galleries.map(function (item) {\n                item.progress     = false;\n                $scope.data.total = resp.total;\n                $scope.data.galleries.push(item);\n              });\n\n\n              if (resp.length) {\n                $scope.more = true;\n                $scope.page++;\n              } else {\n                $scope.empty = true;\n                $scope.more  = false;\n              }\n            })\n            .then(function () {\n              $scope.loading = false;\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n\n            })\n            .catch(function () {\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n              if ($scope.data.length) {\n                $scope.loading = false;\n                $scope.page++;\n              } else {\n                $scope.empty   = true;\n                $scope.loading = false;\n              }\n              $scope.more = false;\n            });\n      }\n\n      function likePhoto(gallery) {\n        gallery.item.liked = !gallery.item.liked;\n        Photogram\n            .likeGallery(gallery.id)\n            .then(function (resp) {\n              gallery.item.qtdLike = resp.likes;\n            });\n      }\n\n      function action(gallery) {\n\n        var buttons = [{\n          text: '<i class=\"icon ion-share\"></i>' + ('Share')\n        }, {\n          text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n        }];\n\n        var user = Parse.User.current();\n\n        if (user.id === gallery.user.id) {\n          var buttonDelete = {\n            text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n          };\n          buttons.push(buttonDelete);\n        }\n        var message     = {\n          image: gallery.src,\n          text: gallery.item.title\n        }\n        var actionSheet = {\n          buttons: buttons,\n          titleText: ('Photo'),\n          cancelText: ('Cancel'),\n          buttonClicked: actionButtons\n        };\n\n\n        function actionButtons(index) {\n          switch (index) {\n            case 0:\n              PhotogramShare.share(message);\n              break;\n            case 1:\n              PhotogramFeedback.modal(gallery);\n              break;\n            case 2:\n\n              $ionicPopup\n                  .confirm({\n                    title: ('Delete photo'),\n                    template: ('Are you sure?')\n                  })\n                  .then(function (res) {\n                    if (res) {\n                      Photogram\n                          .deletePhoto(gallery.id)\n                          .then(function () {\n                            void 0;\n                            $scope.$emit('PhotogramHome:reload');\n                          });\n                    }\n                  });\n\n\n          }\n          return true;\n        }\n\n        $ionicActionSheet.show(actionSheet);\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('photogramPhotoList', photogramPhotoList);\n\n    function photogramPhotoList(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n        var path = AppConfig.path;\n\n        return {\n            restrict: 'E',\n            scope: {\n                user: '=',\n                profile: '='\n            },\n            templateUrl: path + '/directive/photolist/photo.list.html',\n            link: photogramPhotoListCtrl\n        };\n\n        function photogramPhotoListCtrl($scope, elem, attr) {\n\n            $scope.action  = action;\n            $scope.like    = likePhoto;\n            $scope.loading = true;\n            $scope.load    = feed;\n            $scope.load();\n            $scope.loadMore = loadMore;\n            $scope.gallery = {\n                src: ''\n            };\n\n            void 0;\n\n\n            init();\n\n            $scope.$on('PhotogramHome:reload', function () {\n                loadMore(true);\n            });\n\n            function init() {\n                $scope.data  = {\n                    total: -1,\n                    galleries: []\n                };\n                $scope.page  = 0;\n                $scope.empty = false;\n                $scope.more  = false;\n            }\n\n\n            function loadMore(force) {\n                void 0;\n                $scope.load(force);\n            }\n\n\n            function feed(force) {\n\n                if (force) {\n                    init();\n                }\n\n                Photogram\n                    .feed($scope.page, $scope.user)\n                    .then(function (resp) {\n\n                        void 0;\n                        resp.rows.map(function (item) {\n                            item.progress     = false;\n                            $scope.data.total = resp.total;\n                            $scope.data.galleries.push(item);\n                        });\n\n\n                        if (resp.length) {\n                            $scope.more = true;\n                            $scope.page++;\n                        } else {\n                            $scope.empty = true;\n                            $scope.more  = false;\n                        }\n                    })\n                    .then(function () {\n                        $scope.loading = false;\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n\n                    })\n                    .catch(function () {\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n                        if ($scope.data.length) {\n                            $scope.loading = false;\n                            $scope.page++;\n                        } else {\n                            $scope.empty   = true;\n                            $scope.loading = false;\n                        }\n                        $scope.more = false;\n                    });\n            }\n\n            function likePhoto(gallery) {\n                gallery.item.liked = !gallery.item.liked;\n                Photogram\n                    .likeGallery(gallery.id)\n                    .then(function (resp) {\n                        gallery.item.qtdLike = resp.likes;\n                    });\n            }\n\n            function action(gallery) {\n\n                var buttons = [{\n                    text: '<i class=\"icon ion-share\"></i>' + ('Share')\n                }, {\n                    text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n                }];\n\n                var user = Parse.User.current();\n\n                if (user.id === gallery.user.id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message     = {\n                    image: gallery.src,\n                    text: gallery.item.title\n                }\n                var actionSheet = {\n                    buttons: buttons,\n                    titleText: ('Photo'),\n                    cancelText: ('Cancel'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            PhotogramShare.share(message);\n                            break;\n                        case 1:\n                            PhotogramFeedback.modal(gallery);\n                            break;\n                        case 2:\n\n                            $ionicPopup\n                                .confirm({\n                                    title: ('Delete photo'),\n                                    template: ('Are you sure?')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Photogram\n                                            .deletePhoto(gallery.id)\n                                            .then(function () {\n                                                void 0;\n                                                $scope.$emit('PhotogramHome:reload');\n                                            });\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n\n                $ionicActionSheet.show(actionSheet);\n\n            }\n\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModalEdit', profileModalEditDirective);\n\n  function profileModalEditDirective($ionicModal, User, UserForm, $state) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        scope.linkFacebook = linkFacebook;\n        scope.logout = logout;\n        scope.submitUpdateProfile = submitUpdateProfile;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n\n        function init() {\n          var user = Parse.User.current().attributes;\n          scope.form = {\n            name: user.name,\n            email: user.email,\n            status: user.status,\n            img: user.img,\n            username: user.username,\n            gender: user.gender,\n            facebook: user.facebook,\n            facebookimg: user.facebookimg\n          };\n            void 0;\n          scope.formFields = UserForm.profile;\n        }\n\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl('app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function logout() {\n          $state.go('logout');\n          scope.closeModal();\n        }\n\n        function linkFacebook() {\n          User\n            .facebookLink()\n            .then(function (resp) {\n              void 0;\n            });\n        }\n\n        function submitUpdateProfile() {\n          var dataForm = angular.copy(scope.form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModal', profileModalDirective);\n\n  function profileModalDirective($ionicModal, $rootScope, $q, Photogram, User) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: profileModalLink\n    };\n\n    function profileModalLink(scope, elem) {\n\n      elem.bind('click', openModal);\n\n      function init() {\n        var defer = $q.defer();\n        scope.loadingPhotogram = true;\n\n\n                scope.avatar = User.avatar(scope.user.attributes);\n\n        Photogram\n          .getUserGallery(scope.user.id)\n          .then(function (resp) {\n            scope.data = resp;\n            void 0;\n            scope.$broadcast('scroll.refreshComplete');\n            scope.$broadcast('scroll.infiniteScrollComplete');\n            scope.loadingPhotogram = false;\n            defer.resolve(scope.data);\n          });\n\n        return defer.promise;\n      }\n\n      function changeTab(tab) {\n        if (tab === 'list') {\n          scope.tab = {\n            list: true,\n            grid: false\n          };\n        } else {\n          scope.tab = {\n            list: false,\n            grid: true\n          };\n        }\n      }\n\n      function getFollower(userId) {\n        void 0;\n        scope.loadingFollowers = true;\n        scope.loadingFollowing = true;\n        scope.loadingPhotos = true;\n\n        Photogram\n            .getUserGalleryQtd(userId)\n            .then(function (qtdPhotos) {\n              void 0;\n              scope.user.qtdPhotos = qtdPhotos;\n              scope.loadingPhotos  = false;\n            });\n\n        User\n            .getFollowers(userId)\n            .then(function (qtdFollowers) {\n              void 0;\n              scope.user.qtdFollowers = qtdFollowers;\n              scope.loadingFollowers  = false;\n            });\n\n        User\n            .getFollowing(userId)\n            .then(function (qtdFollowing) {\n              void 0;\n              scope.user.qtdFollowing = qtdFollowing;\n              scope.loadingFollowing  = false;\n            });\n      }\n\n      function openModal() {\n\n\n                $ionicModal\n          .fromTemplateUrl('app/module/photogram/directive/profile-modal/profile-modal.html', {\n            scope: scope\n          })\n          .then(function (modal) {\n            scope.modalProfile = modal;\n            scope.loadingFollow = true;\n            scope.changeTab = changeTab;\n            scope.follow = follow;\n            scope.closeModal = closeModal;\n            scope.modalProfile.show();\n\n            init();\n            getFollower(scope.user.id);\n            changeTab('list');\n            isFollow();\n\n            function isFollow() {\n              User\n                .isFollow(scope.user.id)\n                .then(isFollowResp);\n            }\n\n            function isFollowResp(resp) {\n              void 0;\n              scope.user.follow = resp;\n              scope.loadingFollow = false;\n            }\n\n            function follow() {\n\n              scope.loadingFollow = true;\n              var status;\n\n              if (scope.user.follow) {\n                status = false;\n              } else {\n                status = true;\n              }\n\n              User\n                .follow(status, scope.user)\n                .then(followResp);\n\n              function followResp(resp) {\n\n                void 0;\n                scope.user.follow = status;\n                scope.loadingFollow = false;\n                getFollower(scope.user.id);\n              }\n            }\n\n            function closeModal() {\n              delete scope.data;\n              scope.modalProfile.hide();\n              scope.modalProfile.remove();\n            }\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('ionSearch', ionSearch);\n\n    function ionSearch($timeout) {\n\n        return {\n            restrict: 'E',\n            scope: {\n                getData: '&source',\n                ngModel: '=?',\n                search: '=?filter'\n            },\n            templateUrl: 'app/module/photogram/directive/search/search-directive.html',\n            link: function (scope, element, attrs) {\n                attrs.minLength   = attrs.minLength || 0;\n                scope.placeholder = attrs.placeholder || '';\n                scope.clear = function  () {\n                    void 0;\n                    scope.input = '';\n                    scope.$apply();\n                };\n\n                if (attrs.class) {\n                    element.addClass(attrs.class);\n                }\n\n                if (attrs.source) {\n                    scope.$watch('search.value', watchSearch);\n                }\n\n                function watchSearch(newValue) {\n                    if (newValue.length > attrs.minLength) {\n                        $timeout(function () {\n                            scope\n                                .getData({\n                                    str: newValue\n                                })\n                                .then(function (results) {\n                                    scope.ngModel = results;\n                                });\n                        }, 1000);\n                    } else {\n                        scope.ngModel = [];\n                    }\n                }\n\n            }\n\n        };\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('settingsModal', settingsModal);\n\n  function settingsModal($ionicModal, $translate, AppConfig, $cordovaInAppBrowser, $rootScope, PhotogramShare,\n    User,\n    UserForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n        scope.link = link;\n        scope.openLink = openLink;\n        scope.changeLanguage = changeLanguage;\n        scope.share = PhotogramShare.share;\n\n        function init() {\n          scope.form = User.currentUser();\n          scope.formFields = UserForm.profile;\n          scope.languages = AppConfig.locales;\n          scope.language = $translate.use();\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/settings-modal/settings-modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function link(sref) {\n          $state.go(sref);\n          scope.closeModal();\n        }\n\n        function openLink(url) {\n          var options = {\n            location: 'yes',\n            clearcache: 'yes',\n            toolbar: 'yes'\n          };\n\n          $cordovaInAppBrowser.open(url, '_blank', options);\n        }\n\n        function changeLanguage(language) {\n          $translate.use(language);\n          moment.locale(language);\n          scope.form.language = language;\n          submitUpdateProfile(scope.form);\n        }\n\n\n        function submitUpdateProfile(form) {\n          var dataForm = angular.copy(form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramAccountCtrl', PhotogramAccountCtrl);\n\n    function PhotogramAccountCtrl(Parse, Photogram, User) {\n        var vm       = this;\n        vm.changeTab = changeTab;\n        vm.user      = Parse.User.current();\n\n                init();\n        changeTab('grid');\n\n        function changeTab(tab) {\n            if (tab === 'list') {\n                vm.tab = {\n                    list: true,\n                    grid: false\n                };\n            } else {\n                vm.tab = {\n                    list: false,\n                    grid: true\n                };\n            }\n        }\n\n        function init() {\n            vm.data  = {\n                total: false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n            getFollower();\n        }\n\n        function getFollower() {\n            vm.loadingFollowers = true;\n            vm.loadingFollowing = true;\n            vm.loadingPhotos    = true;\n\n            Photogram\n                .getUserGalleryQtd()\n                .then(function (qtdPhotos) {\n                    void 0;\n                    vm.user.qtdPhotos = qtdPhotos;\n                    vm.loadingPhotos  = false;\n                });\n\n            User\n                .getFollowers()\n                .then(function (qtdFollowers) {\n                    void 0;\n                    vm.user.qtdFollowers = qtdFollowers;\n                    vm.loadingFollowers  = false;\n                });\n\n            User\n                .getFollowing()\n                .then(function (qtdFollowing) {\n                    void 0;\n                    vm.user.qtdFollowing = qtdFollowing;\n                    vm.loadingFollowing  = false;\n                });\n        }\n\n\n\n            }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.activity')\n        .controller('PhotogramActivityCtrl', PhotogramActivityCtrl);\n\n    function PhotogramActivityCtrl($scope, Photogram, PhotogramShare, User) {\n        var vm     = this;\n        vm.loading = true;\n\n        User.initFollows();\n\n        $scope.loadMore = loadMore;\n        vm.openShare    = PhotogramShare.open;\n        vm.load         = load;\n        init();\n        vm.load();\n\n        function init() {\n            vm.page     = 0;\n            vm.data     = [];\n            vm.empty    = false;\n            vm.loadMore = false;\n        }\n\n        function loadMore(force) {\n            void 0;\n            vm.load(force);\n        }\n\n        function load(force) {\n\n            if (force) {\n                init();\n            }\n\n            Photogram\n                .listActivity(vm.page)\n                .then(function (resp) {\n\n                    resp.map(function (value) {\n                        vm.data.push(value);\n                    });\n\n                    if (resp.length) {\n                        vm.loading = false;\n                        vm.more    = true;\n                        vm.page++;\n                    } else {\n                        vm.empty   = true;\n                        vm.loading = false;\n                        vm.more    = false;\n                    }\n                })\n                .then(function () {\n                    $scope.$broadcast('scroll.refreshComplete');\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\n\n                })\n                .catch(function (status) {\n                    $scope.$broadcast('scroll.refreshComplete');\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\n                    if (!status) {\n                        vm.loading = false;\n                        vm.page++;\n                    } else {\n                        vm.empty   = true;\n                        vm.loading = false;\n                    }\n                    vm.more = false;\n                });\n        }\n\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  var _direct = 'DirectMessages';\n  var _channel = 'Direct';\n\n  angular\n    .module('app.photogram')\n\n  .filter('nl2br', ['$filter',\n    function ($filter) {\n      return function (data) {\n        if (!data) return data;\n        return data.replace(/\\n\\r?/g, '<br />');\n      };\n    }\n  ])\n\n  .directive('autolinker', ['$timeout',\n      function ($timeout) {\n        return {\n          restrict: 'A',\n          link: function (scope, element, attrs) {\n            $timeout(function () {\n              var eleHtml = element.html();\n\n              if (eleHtml === '') {\n                return false;\n              }\n\n              var text = Autolinker.link(eleHtml, {\n                className: 'autolinker',\n                newWindow: false\n              });\n\n              element.html(text);\n\n              var autolinks = element[0].getElementsByClassName('autolinker');\n\n              for (var i = 0; i < autolinks.length; i++) {\n                angular.element(autolinks[i]).bind('click', function (e) {\n                  var href = e.target.href;\n                  void 0;\n\n                  if (href) {\n                    window.open(href, '_blank');\n                  }\n\n                  e.preventDefault();\n                  return false;\n                });\n              }\n            }, 0);\n          }\n        }\n      }\n    ])\n    .factory('Direct', Direct);\n\n  function Direct($q, Parse) {\n    return {\n      from: from,\n      to: to,\n      chats: chats,\n      messages: messages,\n      sendMessage: sendMessage\n    };\n\n    function getDirect(directId) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .include('from')\n        .equalTo('objectId', directId)\n        .first()\n        .then(defer.resolve);\n\n      return defer.promise;\n    }\n\n    function addMessage(data) {\n      var defer = $q.defer();\n      var DirectMessages = Parse.Object.extend('DirectMessages');\n      var message = new DirectMessages();\n      angular.forEach(data, function (value, key) {\n        message.set(key, value);\n      });\n      message.save(null, defer.resolve, defer.reject);\n\n      return defer.promise;\n    }\n\n    function sendMessage(message, roomId) {\n      var defer = $q.defer();\n\n      getDirect(roomId)\n        .then(function (direct) {\n          void 0;\n          message.room = direct;\n          message.user = Parse.User.current();\n          addMessage(message)\n            .then(function (message) {\n              direct.relation('messages').add(message);\n              direct.save()\n                .then(defer.resolve);\n            })\n        })\n      defer.resolve(message);\n      return defer.promise;\n\n    }\n\n    function messages(channelId, page) {\n      var defer = $q.defer();\n\n      getDirect(channelId)\n        .then(function (direct) {\n          var data = direct.attributes;\n          var user = Parse.User.current();\n          data.user = direct.attributes.from.attributes;\n          data.messages = [];\n\n          new Parse\n            .Query('DirectMessages')\n            .equalTo('room', direct)\n            .include('user')\n            .limit(20)\n            .skip(page)\n            .find()\n            .then(function (resp) {\n              resp.map(function (item) {\n                var obj = {\n                  body: item.attributes.body,\n                  date: item.createdAt,\n                  user: item.attributes.user.attributes\n                };\n                obj.user.id = item.attributes.user.id;\n                void 0;\n\n                data.messages.push(obj);\n              });\n              defer.resolve(data);\n            });\n        })\n\n      return defer.promise;\n    }\n\n    function chats() {\n      var defer = $q.defer();\n\n      var promises = [chatsType(null, 'from'), chatsType(null, 'to')];\n      $q.all(promises)\n        .then(function (resp) {\n          var data = [];\n          void 0;\n          resp[0].map(function (item) {\n            data.push(item);\n          });\n          resp[1].map(function (item) {\n            data.push(item);\n          });\n          defer.resolve(data);\n        })\n\n      return defer.promise;\n    }\n\n    function chatsType(user, type) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .equalTo(type, user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = item.attributes;\n            obj.user = item.attributes.from.attributes\n            obj.id = item.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function from(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('from', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function to(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('to', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .controller('DirectHomeCtrl', DirectHomeCtrl);\n\n  function DirectHomeCtrl(Direct) {\n    var vm = this;\n    vm.data = [];\n\n    Direct\n      .chats()\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      })\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.direct-message')\n    .controller('DirectMessageCtrl', DirectMessageCtrl);\n\n\n  function DirectMessageCtrl($scope, Direct, User, $state) {\n    var vm = this;\n    var roomId = $state.params.channelId;\n    vm.user = User.currentUser();\n    vm.sendMessage = sendMessage;\n    vm.doRefresh = loadMessages;\n\n    function loadMessages() {\n      vm.loading = true;\n      vm.data = [];\n      Direct\n        .messages(roomId)\n        .then(function (resp) {\n          vm.data = resp;\n          vm.loading = false;\n          if (vm.model) {\n            vm.model.text = '';\n          }\n          $scope.$broadcast('scroll.refreshComplete');\n        });\n    }\n\n    loadMessages();\n\n\n    function sendMessage(form, model) {\n      var data = angular.copy(model);\n      void 0;\n      if (form.$valid && data.text) {\n        var message = {\n          body: data.text\n        };\n        Direct\n          .sendMessage(message, roomId)\n          .then(function () {\n            loadMessages();\n          });\n      }\n\n\n    }\n\n  }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramHomeCtrl', PhotogramHomeController);\n\n    function PhotogramHomeController($scope, $rootScope, $stateParams, Photogram) {\n        var vm     = this;\n\n\n\n           }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPhotoCtrl', PhotogramPhotoCtrl);\n\n\n  function PhotogramPhotoCtrl($stateParams, Photogram) {\n    var vm = this;\n\n    vm.formFields = Photogram.formComment;\n    vm.submitComment = submitComment;\n    init();\n\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        vm.data = resp;\n      });\n\n    function init() {\n      vm.form = {\n        PhotogramId: $stateParams.id,\n        text: ''\n      };\n\n      loadComments();\n    }\n\n    function loadComments() {\n      Photogram\n        .allComment($stateParams.id)\n        .then(function (resp) {\n          void 0;\n          vm.comments = resp;\n        });\n    }\n\n    function submitComment(rForm, form) {\n      if (rForm.$valid) {\n        var dataForm = angular.copy(form);\n        Photogram\n          .addComment(dataForm)\n          .then(function (resp) {\n            void 0;\n            loadComments();\n          });\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPreviewCtrl', PhotogramPreviewCtrl);\n\n\n  function PhotogramPreviewCtrl(photo) {\n    var vm = this;\n    vm.data = photo;\n    void 0;\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramViewCtrl', PhotogramViewCtrl);\n\n  function PhotogramViewCtrl(Photogram, $stateParams) {\n    var vm = this;\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      });\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramSearchCtrl', PhotogramSearchCtrl);\n\n    function PhotogramSearchCtrl($state) {\n        var vm       = this;\n        vm.changeTab = changeTab;\n\n        vm.tab = {\n            list: true,\n            map: false\n        };\n\n\n                function changeTab(tab) {\n            if (tab === 'list') {\n                vm.tab = {\n                    list: true,\n                    map: false\n                };\n                $state.go('photogram.search.list');\n            } else {\n                vm.tab = {\n                    list: false,\n                    map: true\n                };\n                $state.go('photogram.search.map');\n            }\n        }\n\n\n           }\n\n\n})();\n(function(){\n    'use strict';\n    angular\n    .module('app.search')\n        .controller('SearchListCtrl', SearchListController);\n\n        function SearchListController(){\n        var vm = this;\n\n            }\n\n    })();\n(function () {\n    'use strict';\n    angular\n        .module('app.search')\n        .controller('SearchMapCtrl', SearchMapController);\n\n    function SearchMapController(Photogram, $scope, $timeout, GeoService) {\n        var vm   = this;\n        var time = 0;\n        vm.findMe = findMe;\n\n\n        $scope.map = {\n            center: {\n                latitude: 45,\n                longitude: -73\n            },\n            zoom: 13\n        };\n\n        $scope.$watch('map.center.latitude', watchMap);\n\n        function watchMap(newValue, oldValue) {\n            void 0;\n            if (newValue) {\n                void 0;\n                time += 2000;\n                void 0;\n\n\n                var timer = $timeout(function () {\n                    void 0;\n\n                    Photogram\n                        .nearby($scope.map.center)\n                        .then(function (resp) {\n                            void 0;\n                            time    = 0;\n                            vm.data = resp;\n\n                            $timeout.cancel(timer);\n                        });\n                }, time);\n\n            }\n        }\n\n\n        function location() {\n            init();\n        }\n\n        function findMe() {\n            void 0;\n            GeoService\n                .findMe()\n                .then(function (position) {\n\n                    void 0;\n\n                    $scope.map = {\n                        center: position.geolocation,\n                        zoom: 13\n                    };\n                    vm.user = angular.copy(position.geolocation);\n                });\n        }\n\n        function init() {\n            GeoService\n                .findMe()\n                .then(function (position) {\n\n                    void 0;\n\n                    $scope.map = {\n                        center: position.geolocation,\n                        zoom: 13\n                    };\n\n                    vm.user = angular.copy(position.geolocation);\n\n                    Photogram\n                        .nearby(position.coords)\n                        .then(function (resp) {\n                            void 0;\n                            vm.data = resp;\n                        });\n\n                }, function (error) {\n                    void 0;\n\n                    Photogram\n                        .nearby($scope.map.center)\n                        .then(function (resp) {\n                            void 0;\n                            vm.data = resp;\n                        });\n                });\n        }\n\n        init();\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramShare', PhotogramShareFactory);\n\n    function PhotogramShareFactory($window, $translate, AppConfig) {\n        return {\n            share: share\n        };\n\n        function share(post) {\n            void 0;\n            var message = (\"I'm at \") + AppConfig.app.name + '! ' + (\n                    'Install the application and follow me!') + ' ' + AppConfig.app.url;\n            if ($window.cordova) {\n                $window\n                    .window\n                    .plugins\n                    .socialsharing\n                    .share(post.text + ', ' + message, post.text, post.image, null);\n            } else {\n                void 0;\n            }\n        }\n\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramTabsCtrl', PhotogramTabsController);\n\n  function PhotogramTabsController($scope, $state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n    PhotogramSetting, PhotoService) {\n    var vm = this;\n    var path = AppConfig.path;\n    vm.postPhoto = open;\n\n    function open() {\n      var option = {\n        crop: PhotogramSetting.get('imageCrop'),\n        allowEdit: PhotogramSetting.get('imageEdit'),\n        filter: true,\n        allowRotation: PhotogramSetting.get('imageRotation'),\n        quality: PhotogramSetting.get('imageQuality'),\n        correctOrientation: PhotogramSetting.get('imageEdit'),\n        targetWidth: PhotogramSetting.get('imageWidth'),\n        targetHeight: PhotogramSetting.get('imageHeight'),\n        saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n      };\n      void 0;\n\n      PhotoService\n        .open(option)\n        .then(modalPost)\n        .catch(goHome);\n    }\n\n\n    function goHome() {\n      void 0;\n      $state.go('photogram.home');\n    }\n\n    function modalPost(image) {\n      $scope.closePost = closeModalPost;\n      $scope.submitPost = submitPost;\n      $scope.form = {\n        title: '',\n        location: '',\n        photo: image,\n        geo: false\n      };\n\n      $ionicModal\n        .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n          scope: $scope,\n          focusFirstInput: true\n        })\n        .then(function (modal) {\n          $scope.form.photo = image;\n          $scope.modalPost = modal;\n          $scope.modalPost.show();\n        });\n\n      function closeModalPost() {\n        $scope.modalPost.hide();\n        $scope.modalPost.remove();\n        Loading.end();\n      }\n\n      function submitPost(resp) {\n        var form = angular.copy(resp);\n        Loading.start();\n        Photogram\n          .post(form)\n          .then(function () {\n            closeModalPost();\n            $rootScope.$emit('filterModal:close');\n            $rootScope.$emit('PhotogramHome:reload');\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserAvatarCtrl', UserAvatarController);\n\n  function UserAvatarController(User, AppConfig, $state, Notify, UserForm) {\n    var vm = this;\n    vm.submitAvatar = submitAvatar;\n    init();\n\n    function init() {\n      var user = User.currentUser();\n      vm.form = {\n        name: user.name,\n        email: user.email,\n        status: user.status,\n        gender: user.gender,\n        img: user.img,\n        username: user.username\n      };\n      vm.formFields = UserForm.profile;\n      void 0;\n    }\n\n    function submitAvatar() {\n      void 0;\n\n      if (vm.rForm.$valid) {\n        var dataForm = angular.copy(vm.form);\n        void 0;\n\n        User\n          .update(dataForm)\n          .then(function (resp) {\n            void 0;\n            User.init();\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n          });\n      } else {\n        Notify.alert({\n          title: ('Invalid form'),\n          text: ('Fill out the fields in red')\n        });\n      }\n\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('userAvatar', userAvatarDirective);\n\n  function userAvatarDirective(PhotoService, PhotogramSetting, User) {\n    return {\n      restrict: 'A',\n      scope: {\n        gallery: '@'\n      },\n      template: '',\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          var option = {\n            allowEdit: PhotogramSetting.get('imageEdit'),\n            filter: PhotogramSetting.get('imageFilter'),\n            allowRotation: PhotogramSetting.get('imageRotation'),\n            quality: PhotogramSetting.get('imageQuality'),\n            correctOrientation: PhotogramSetting.get('imageEdit'),\n            targetWidth: PhotogramSetting.get('imageWidth'),\n            targetHeight: PhotogramSetting.get('imageHeight'),\n            saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n          };\n\n          void 0;\n\n          PhotoService\n            .open(option)\n            .then(function (imageData) {\n              User\n                .updateAvatar(imageData)\n                .then(function (resp) {\n                  void 0;\n                });\n            })\n            .catch(function (resp) {\n              void 0;\n            });\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('UserIntroCtrl', UserIntroCtrl);\n\n    function UserIntroCtrl(AppConfig) {\n        var vm       = this;\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLoginCtrl', UserLoginCtrl);\n\n  function UserLoginCtrl(AppConfig, UserForm, Parse, Loading, $state, Notify, User) {\n    var vm = this;\n    vm.formFields = UserForm.login;\n    vm.routeLogged = AppConfig.routes.home;\n    vm.submitLogin = submitLogin;\n    vm.facebook = facebook;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n\n      if (Parse.User.current()) {\n        $state.go(vm.routeLogged, {\n          clear: true\n        });\n      }\n\n    }\n\n    function submitLogin(rForm, data) {\n\n      var form = angular.copy(data);\n      if (rForm.$valid) {\n        Loading.start();\n        User\n          .login(form)\n          .then(function (data) {\n\n            void 0;\n\n            if (data.name.length) {\n              $state.go(vm.routeLogged, {\n                clear: true\n              });\n            } else {\n              $state.go('useravatar', {\n                clear: true\n              });\n            }\n            Loading.end();\n          })\n          .catch(function (resp) {\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n            Loading.end();\n          });\n      } else {\n        return false;\n      }\n    }\n\n    function facebook() {\n      Loading.start();\n      User\n        .facebookLogin()\n        .then(function (resp) {\n          void 0;\n\n          Loading.end();\n          switch (resp.status) {\n          case 0:\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n            break;\n          case 1:\n            $state.go('useravatar', {\n              clear: true\n            });\n            break;\n          case 2:\n            $state.go('usermerge', {\n              clear: true\n            });\n            break;\n          }\n        })\n        .catch(function () {\n          Loading.end();\n          Notify.alert({\n            title: 'Ops',\n            text: ('Facebook error')\n          });\n        });\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLogoutCtrl', LogoutController);\n\n  function LogoutController(User) {\n    User.logout();\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.user')\n        .controller('UserMergeCtrl', UserMergeController);\n\n    function UserMergeController(User, $rootScope, AppConfig, $state, Notify, UserForm) {\n        var vm        = this;\n        vm.formFields = UserForm.register;\n\n        init();\n\n        function init() {\n            if ($rootScope.tempUser) {\n                vm.form          = $rootScope.tempUser;\n                vm.form.password = '';\n            } else {\n                $state.go('user.intro', {clear: true});\n            }\n\n        }\n\n        vm.submit = function (rForm, form) {\n\n            void 0;\n            void 0;\n            if (vm.form.password != '') {\n                var dataForm = angular.copy(vm.form);\n                var form     = {\n                    email: dataForm.email,\n                    password: dataForm.password\n                };\n\n                void 0;\n\n                User\n                    .login(form)\n                    .then(function (user) {\n                        void 0;\n                        User\n                            .facebookLink(user)\n                            .then(function (resp) {\n                                void 0;\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                })\n                            })\n                    })\n                    .catch(function (resp) {\n                        Notify.alert({\n                            title: 'Ops',\n                            text: resp.message\n                        });\n                    });\n            } else {\n                Notify.alert({\n                    title: ('Invalid form'),\n                    text: ('Please enter your email')\n                });\n            }\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Notify) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                void 0;\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    void 0;\n                    Notify.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Notify.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Notify) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          void 0;\n        })\n        .catch(function (resp) {\n          Notify.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRegisterCtrl', UserRegisterCtrl);\n\n  function UserRegisterCtrl($state, UserForm, Notify, Loading, Photogram, User) {\n    var vm = this;\n    vm.formFields = UserForm.register;\n    vm.submitRegister = submitRegister;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n    }\n\n    function submitRegister(rForm, data) {\n\n      if (rForm.$valid) {\n        Loading.start();\n        var form = angular.copy(data);\n        User\n          .register(form)\n          .then(function (resp) {\n            void 0;\n            Photogram\n              .addActivity({\n                action: 'registered'\n              });\n\n            User\n              .login({\n                email: form.email,\n                password: form.password\n              })\n              .then(function (data) {\n                void 0;\n                User.init();\n                Loading.end();\n                $state.go('useravatar', {\n                  clear: true\n                });\n              })\n              .catch(function (resp) {\n                void 0;\n                Loading.end();\n                Notify.alert({\n                  title: 'Ops',\n                  text: resp.message\n                });\n              });\n          })\n          .catch(function (resp) {\n            void 0;\n            Loading.end();\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n          });\n      }\n    }\n  }\n\n\n})();\nangular.module(\"starter\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/component/ion-language/ion-language.html\",\"<button class=\\\"button button-block button-clear button-light button-language\\\">{{language.translation | translate}} <i \\nclass=\\\"icon ion-chevron-down\\\"></i></button>\");\n$templateCache.put(\"app/component/ion-language/modal-language.html\",\"<ion-modal-view><ion-header-bar><h1 class=\\\"title\\\" translate=\\\"LANG.TITLE\\\"></h1><a ng-click=\\\"closeModal()\\\" \\nclass=\\\"button button-icon icon ion-close\\\"></a></ion-header-bar><div \\nclass=\\\"bar bar-subheader item-input-inset bar-stable\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"search\\\" placeholder=\\\"{{\\'LANG.SEARCH\\' | translate}}\\\" \\nng-model=\\\"searchValue\\\"></label><button type=\\\"button\\\" class=\\\"button button-clear\\\" ng-show=\\\"searchValue.length\\\" \\nng-click=\\\"searchValue=\\'\\'\\\">Clear</button></div><ion-content class=\\\"has-subheader has-header\\\"><ion-list><ion-item \\nclass=\\\"item\\\" ng-click=\\\"selectLanguage(item)\\\" ng-repeat=\\\"item in languages | filter:searchValue\\\" \\nng-bind-html=\\\"item.translation | translate\\\"></ion-item></ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/intro/intro.html\",\"<ion-view class=\\\"view-intro bg-animate\\\" can-swipe-back=\\\"false\\\"><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\">\\n<ion-slide-box active-slide=\\\"slideIndex\\\" show-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide \\nng-repeat=\\\"item in vm.slides track by $index\\\"><div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\">\\n<h2>{{ item.top }}</h2></span><div class=\\\"phone {{ vm.device }}\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></ion-slide>\\n<ion-slide><div class=\\\"content\\\" ng-if=\\\"vm.slides.length == vm.slideIndex\\\"><div class=\\\"last\\\"><div class=\\\"logo2 step1\\\">\\n<img src=\\\"img/icon.png\\\"> <span class=\\\"icon2-logo\\\"></span></div><button class=\\\"button button-block button-clear step2\\\" \\nui-sref=\\\"user.intro\\\" translate=\\\"INTRO.BUTTON.ENTER\\\"></button></div></div></ion-slide></ion-slide-box></div><button \\nclass=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" ng-click=\\\"vm.previous()\\\"><i \\nclass=\\\"icon ion-ios-arrow-left\\\"></i></button> <button class=\\\"button button-positive button-fab right\\\" \\nng-hide=\\\"vm.slideIndex === vm.slides.length\\\" ng-click=\\\"vm.next()\\\"><i class=\\\"icon ion-ios-arrow-right\\\"></i></button>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/loading/loading.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ ::\\'Share\\' | translate }}\\n</div><button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{ ::form.photo}}\\\"><div class=\\\"title\\\">\\n{{ ::form.title }}</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" \\nng-click=\\\"share(form, social)\\\" class=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\">\\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.carousel.html\",\"<div class=\\\"wide-as-needed\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"applyFilter(\\'image\\', filter)\\\"><div caman \\nimage=\\\"image\\\" name=\\\"filter\\\" filter=\\\"filter\\\" class=\\\"image\\\" loading=\\\"loading\\\" ng-class=\\\"{disabled: loading}\\\"></div>\\n<ion-spinner ng-if=\\\"loading\\\"></ion-spinner><p>{{ ::filter }}</p></a></div>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.html\",\"<div class=\\\"capture-photo\\\"><div caman filter=\\\"\\'normal\\'\\\" loading=\\\"loadingMaster\\\" class=\\\"image\\\" \\nng-class=\\\"{disabled: loadingMaster}\\\" name=\\\"\\'image\\'\\\" image=\\\"image\\\"></div><ion-spinner ng-show=\\\"loadingMaster\\\">\\n</ion-spinner></div><photo-filter-carousel apply=\\\"applyFilter\\\" image=\\\"image\\\"></photo-filter-carousel>\");\n$templateCache.put(\"app/module/photogram/directive/comment/photogram.comment.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n<span translate=\\\"PHOTOGRAM.COMMENT.TITLE\\\"></span>({{ ::comments.length }})</div></ion-header-bar><ion-content>\\n<photogram-loading loading=\\\"loading\\\" icon=\\\"android\\\"></photogram-loading><ion-list class=\\\"list\\\" \\nng-show=\\\"comments.length\\\" can-swipe=\\\"true\\\"><ion-item ng-repeat=\\\"item in comments\\\" class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ ::item.userAvatar }}\\\"><div class=\\\"row\\\"><h2>{{ ::item.user.attributes.name }}</h2><div>{{ ::item.text }}\\n</div></div><div class=\\\"row\\\"><p>{{ ::item.created | amTimeAgo }}</p></div><div ng-if=\\\"item.user.id === currentUser.id\\\">\\n<ion-option-button class=\\\"button-info\\\" ng-click=\\\"editComment(item)\\\" translate=\\\"PHOTOGRAM.BUTTON.EDIT\\\">Edit\\n</ion-option-button><ion-option-button class=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item)\\\" \\ntranslate=\\\"PHOTOGRAM.BUTTON.REMOVE\\\">Remove</ion-option-button></div></ion-item></ion-list><div class=\\\"center-ico\\\" \\nng-if=\\\"nocomments\\\"><i class=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 translate=\\\"PHOTOGRAM.COMMENT.NO_COMMENTS\\\">\\nNo Comments</h1></div></ion-content><ion-footer class=\\\"step2\\\"><div class=\\\"form\\\"><formly-form model=\\\"form\\\" \\nfields=\\\"formFields\\\" form=\\\"rForm\\\"><button class=\\\"button button-positive\\\" type=\\\"button\\\" \\nng-click=\\\"submitComment(rForm, form)\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button></formly-form></div></ion-footer>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/feedback/feedback-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"FEEDBACK.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitFeedback()\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><formly-form model=\\\"form\\\" form=\\\"rForm\\\" \\nfields=\\\"formFields\\\"></formly-form></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/follow/photogram.follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ ::item.src }}\\\"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/like/photogram.like.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Likes\\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ ::item.user.img }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ ::\\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/photogrid/photo-grid.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data.galleries\\\">\\n<div class=\\\"col col-33 item-animate1\\\" ng-if=\\\"$index < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data.galleries[$index].user\\\" ng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 1 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 1].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 2 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 2].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/photolist/photo.list.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"list card animated fadeIn\\\" \\nng-repeat=\\\"gallery in data.galleries track by gallery.id\\\"><div class=\\\"item item-avatar\\\" ion-affix \\ndata-affix-within-parent-with-class=\\\"card\\\" profile-modal user=\\\"gallery.user\\\"><img ng-if=\\\"profile\\\" \\nprofile=\\\"{{ ::gallery.user_id }}\\\" ng-src=\\\"{{ ::gallery.userAvatar}}\\\"> <img ng-src=\\\"{{ ::gallery.userAvatar}}\\\"><h2>\\n{{ ::gallery.userName}}</h2><p>{{ :: gallery.userStatus }}</p><span>{{ ::gallery.createdAt | amTimeAgo}}</span></div>\\n<div class=\\\"item item-body\\\" on-double-tap=\\\"like(gallery)\\\" ng-model=\\\"gallery\\\"><div class=\\\"icon ion-ios-heart heart\\\" \\nng-class=\\\"gallery.liked ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\"></i> <img \\ncache-src=\\\"{{ ::gallery.img}}\\\" id=\\\"{{ ::gallery.id}}\\\"></div><div class=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col col-75\\\"><ion-spinner ng-show=\\\"gallery.progress\\\"></ion-spinner><button photogram-like ng-model=\\\"gallery\\\" \\nng-if=\\\"!gallery.progress\\\" ng-class=\\\"gallery.liked ? \\'ion-ios-heart\\' : \\'ion-ios-heart-outline\\' \\\" \\nclass=\\\"button-clear button-icon button-heart\\\"></button> <button photogram-comment ng-model=\\\"gallery\\\" \\nclass=\\\"button-clear button-icon ion-ios-chatbubble-outline\\\"></button> <button ng-click=\\\"action(gallery)\\\" \\nphotogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-share\\\"></button></div><div \\nclass=\\\"col text-right\\\"><button ng-click=\\\"action(gallery)\\\" photogram=\\\"{{ :: gallery.id }}\\\" \\nclass=\\\"button-clear button-icon ion-android-more-vertical\\\"></button></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"likes\\\" photogram-like photogram=\\\"{{ :: gallery }}\\\"><i class=\\\"icon ion-ios-heart\\\"></i> <span \\nng-if=\\\"!gallery.progress\\\">{{ :: gallery.likes }}</span> <span translate=\\\"PHOTOGRAM.LIKES\\\"></span></span><div \\nclass=\\\"list-comments\\\"><div class=\\\"comment-item\\\" profile-modal user=\\\"gallery.user\\\"><span class=\\\"username\\\">\\n{{ :: gallery.userName }}</span> <span class=\\\"comment\\\">{{ :: gallery.title }}</span></div><div class=\\\"comment-item\\\" \\nprofile-modal user=\\\"item.user\\\" ng-repeat=\\\"item in gallery.comments| limitTo:3 track by item.id\\\"><span class=\\\"username\\\">\\n{{ :: item.userName }}</span> <span class=\\\"comment\\\">{{ :: item.text }}</span></div><a class=\\\"comment-item\\\" \\nphotogram-comment ng-model=\\\"gallery\\\" ng-if=\\\"gallery.comments.length>3\\\">Ver todos os comentrios</a></div><button \\nclass=\\\"button button-block button-clear button-comment\\\" photogram-comment ng-model=\\\"gallery\\\"><span \\ntranslate=\\\"PHOTOGRAM.BUTTON.COMMENT_ADD\\\"></span></button></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Edit Profile\\' | translate }}</div></ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div \\nclass=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ form.facebookimg || form.img._url || \\'img/user.png\\' }}\\\"></div>\\n</div><div class=\\\"step2\\\"><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input \\ntype=\\\"text\\\" ng-model=\\\"form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"form\\\" fields=\\\"formFields\\\" \\nform=\\\"rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"linkFacebook()\\\" \\nng-disabled=\\\"form.facebook\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span \\ntranslate=\\\"PHOTOGRAM.BUTTON.FACEBOOK_LINK\\\"></span></button> <button class=\\\"button button-block button-positive\\\" \\nng-click=\\\"submitUpdateProfile()\\\" translate=\\\"PHOTOGRAM.BUTTON.SAVE_PROFILE\\\"></button></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/profile-modal/profile-modal.html\",\"<ion-modal-view id=\\\"account-view\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.attributes.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ avatar}}\\\"></div><div class=\\\"col col-statics\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">\\nPosts</h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span \\nng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">{{ user.qtdFollowers }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\">\\n</photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">{{ user.qtdFollowing }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading><button ng-if=\\\"!loadingFollow\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.follow, \\'button-follow\\': !user.follow}\\\" ng-click=\\\"follow()\\\" class=\\\"button\\\"><span \\nng-show=\\\"!user.follow\\\" translate>Follow</span> <span ng-show=\\\"user.follow\\\" translate>Following</span></button></div>\\n</div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ user.attributes.name }}</span><p \\nclass=\\\"user-status\\\">{{ user.attributes.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" ng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" ng-click=\\\"changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><photogram-loading loading=\\\"loading\\\"></photogram-loading><div class=\\\"tab\\\" \\nng-if=\\\"tab.list\\\"><photogram-photo-list user=\\\"user.id\\\"></photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\">\\n<photogram-photo-grid user=\\\"user.id\\\"></photogram-photo-grid></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/search/search-directive.html\",\"<label class=\\\"item item-input\\\"><i class=\\\"icon ion-search placeholder-icon\\\"></i> <input type=\\\"search\\\" ng-model=\\\"input\\\" \\nplaceholder=\\\"{{\\'SEARCH.FORM.INPUT\\' | translate }}\\\"> <button class=\\\"button button-icon\\\" ng-if=\\\"input.length\\\" \\nng-click=\\\"clearSearch()\\\"><i class=\\\"icon ion-close\\\"></i></button></label>\");\n$templateCache.put(\"app/module/photogram/directive/settings-modal/settings-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"PHOTOGRAM.SETTING.TITLE\\\"></div></ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\">\\n<ion-language></ion-language><ion-toggle class=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.SETTING.NOTIFICATION\\\"></small></h3><p ng-if=\\\"!setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.OFF\\\">\\n</p><p ng-if=\\\"setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.ON\\\"></p></ion-toggle><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S\\')\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.BUTTON.BUY\\\"></small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item \\nclass=\\\"item-icon-right\\\" ng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.HELP\\\">\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_PRIVACY\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_SERVICE\\\">Terms of Service\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" ng-click=\\\"show();\\\">\\n<h3><small translate=\\\"PHOTOGRAM.BUTTON.REPORT\\\">Report a Problem</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i>\\n</ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"link(\\'logout\\')\\\" class=\\\"button button-block button-positive\\\" \\ntranslat=\\\"USER.BUTTON.LOGOUT\\\">Logout</button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/account/account.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-title><h1 class=\\\"title\\\">{{ ::currentUser.name }}</h1>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button settings-modal class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ currentUser.facebookimg || currentUser.img._url || \\'img/user.png\\' }}\\\"></div><div class=\\\"col col-statics\\\">\\n<div class=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ ::vm.user.qtdPhotos }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">Posts</h3></div><div class=\\\"col\\\"><photogram-loading \\nloading=\\\"loadingFollowers\\\"></photogram-loading><span ng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowers }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollowing\\\"></photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowing }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div \\nclass=\\\"row col-edit\\\"><div class=\\\"col\\\"><button profile-modal-edit class=\\\"button\\\"><div \\ntranslate=\\\"PHOTOGRAM.BUTTON.PROFILE_EDIT\\\"></div></button></div></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"user-username\\\">{{ ::currentUser.name }}</span><p class=\\\"user-status\\\">{{ ::currentUser.status }}</p></div></div>\\n<div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-grid\\\" \\nng-class=\\\"{active: vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.list\\\"><photogram-photo-list user=\\\"vm.user\\\">\\n</photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.grid\\\"><photogram-photo-grid user=\\\"vm.user\\\">\\n</photogram-photo-grid></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/account-friend-list/account-friend-list.html\",\"<ion-view><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/activity/activity.html\",\"<ion-view cache-view=\\\"false\\\" class=\\\"photogram-activity\\\"><ion-nav-title><h1 class=\\\"title\\\" translate=\\\"ACTIVITY.TITLE\\\">\\n</h1></ion-nav-title><ion-content><photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><div class=\\\"list\\\"><div \\nclass=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in vm.data track by item.id\\\"><img \\nng-src=\\\"{{ ::item.userAvatar }}\\\"><h2>{{ ::item.userName }}</h2><div class=\\\"text\\\">{{ ::item.action }}</div><p>\\n{{ ::item.createdAt | amTimeAgo }}</p><div class=\\\"img-right\\\" ng-if=\\\"item.img\\\"><img ng-src=\\\"{{ ::item.img}}\\\"></div>\\n</div></div><ion-infinite-scroll ng-if=\\\"!vm.loading && !vm.empty\\\" on-infinite=\\\"vm.load()\\\"></ion-infinite-scroll>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct/direct.home.html\",\"<ion-view><ion-nav-title translate=\\\"DIRECT.TITLE\\\"></ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-ios-plus-empty\\\" ui-sref=\\\"photogram.direct\\\"></button></ion-nav-buttons><ion-content>\\n<ion-list><ion-item class=\\\"item-avatar\\\" ng-repeat=\\\"item in vm.data\\\" ui-sref=\\\"photogram.message({channelId: item.id})\\\">\\n<img ng-src=\\\"{{item.user.src}}\\\" alt=\\\"\\\"><h2>{{ item.user.name}}</h2><p>{{ item.msg }}</p></ion-item></ion-list>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct-message/direct-message.html\",\"<ion-view id=\\\"userMessagesView\\\" cache-view=\\\"false\\\" view-title=\\\"Messages\\\"><div class=\\\"loader-center\\\" \\nng-if=\\\"!vm.doneLoading\\\"><div class=\\\"loader\\\"><i class=\\\"icon ion-loading-c\\\"></i></div></div><ion-content \\nhas-bouncing=\\\"true\\\" class=\\\"has-header has-footer\\\" delegate-handle=\\\"userMessageScroll\\\"><ion-refresher \\npulling-text=\\\"{{\\'DIRECT.BUTTON.PULL\\' | TRANSLATE}}\\\" on-refresh=\\\"vm.doRefresh()\\\"></ion-refresher><div \\nng-repeat=\\\"message in vm.data.messages\\\" class=\\\"message-wrapper\\\" on-hold=\\\"onMessageHold($event, $index, message)\\\"><div \\nng-if=\\\"vm.user.id === message.user.id\\\"><img class=\\\"profile-pic right\\\" ng-src=\\\"{{message.user.src}}\\\"><div \\nclass=\\\"chat-bubble right\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div ng-if=\\\"vm.user.id !== message.user.id\\\"><img class=\\\"profile-pic left\\\" ng-src=\\\"{{message.user.src}}\\\">\\n<div class=\\\"chat-bubble left\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div class=\\\"cf\\\"></div></div></ion-content><form name=\\\"sendMessageForm\\\" \\nng-submit=\\\"vm.sendMessage(sendMessageForm, vm.model)\\\" novalidate><ion-footer-bar \\nclass=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label class=\\\"item-input-wrapper\\\"><textarea \\nng-model=\\\"vm.model.text\\\" placeholder=\\\"{{ \\'DIRECT.FORM.PLACEHOLDER\\' | TRANSLATE}}\\\" required minlength=\\\"1\\\" \\nmaxlength=\\\"1500\\\" msd-elastic></textarea></label><div class=\\\"footer-btn-wrap\\\"><button \\nclass=\\\"button button-icon icon ion-android-send footer-btn\\\" type=\\\"submit\\\"></button></div></ion-footer-bar></form>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/home/home.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><ion-nav-buttons \\nside=\\\"right\\\"><button class=\\\"button button-icon icon-paypal\\\" buy></button></ion-nav-buttons><ion-content><div \\nclass=\\\"connect\\\" ng-hide=\\\"onLine\\\" ng-cloak><span>Offline</span></div><photogram-photo-list profile=\\\"true\\\" user=\\\"\\\">\\n</photogram-photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.photo.html\",\"<ion-view view-title=\\\"Photo\\\"><ion-content><div class=\\\"list card step1\\\"><div class=\\\"item item-avatar\\\" \\ndata-affix-within-parent-with-class=\\\"card\\\" ion-affix><img ng-src=\\\"{{vm.data.user.img}}\\\"><h2>{{vm.data.user.name}}</h2>\\n<span>{{vm.data.created | amTimeAgo}}</span></div><div class=\\\"item item-body\\\"><img ng-src=\\\"{{vm.data.img._url}}\\\" \\nstyle=\\\"width: 100%\\\"></div><div class=\\\"padding\\\"><p>{{ vm.data.title }}</p><p><a class=\\\"subdued\\\" href=\\\"#\\\">\\n1 {{ \\'Like\\' | translate}}</a></p></div></div><div class=\\\"list\\\"><div ng-repeat=\\\"item in vm.comments\\\" \\nclass=\\\"item item-avatar\\\"><img ng-src=\\\"{{ item.user.img }}\\\"><h2>{{ item.user.name }}</h2><p>{{ item.text }}</p></div>\\n</div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"rForm\\\"><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-click=\\\"vm.submitComment(rForm, vm.form)\\\" translate>Comment\\n</button></div></formly-form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.popover.home.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>Settings</div>\\n<div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>About</div></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/module/photogram/module/search/search.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title>Search</ion-nav-title><div class=\\\"bar bar-header bar-light\\\"><div \\nclass=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" \\nng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button class=\\\"button button-icon icon ion-map\\\" \\nng-class=\\\"{active: vm.tab.map}\\\" ng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><ion-content scroll=\\\"false\\\">\\n<ion-nav-view></ion-nav-view></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search-list/search-list.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title><ion-search></ion-search></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button class=\\\"button button-icon ion-person-add\\\" buy></button></ion-nav-buttons><ion-content class=\\\"layout\\\">\\n<photogram-photo-grid profile=\\\"true\\\"></photogram-photo-grid></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search-map/search-map.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title>Map</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-pinpoint\\\" ng-click=\\\"vm.findMe()\\\"></button></ion-nav-buttons><ion-content class=\\\"layout\\\" \\nscroll=\\\"false\\\" style=\\\"overflow: hidden !important\\\"><ui-gmap-google-map center=\\\"map.center\\\" zoom=\\\"map.zoom\\\">\\n<ui-gmap-marker idkey=\\\"0\\\" coords=\\\"vm.user\\\"></ui-gmap-marker><ui-gmap-marker click=\\\"vm.openModal(item)\\\" idkey=\\\"item.id\\\" \\ncoords=\\\"item.coords\\\" icon=\\\"item.icon\\\" ng-repeat=\\\"item in vm.data\\\"></ui-gmap-marker></ui-gmap-google-map></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.post.modal.html\",\"<ion-modal-view class=\\\"modal-post\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closePost()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitPost(form)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div id=\\\"image\\\"><img ng-src=\\\"{{form.photo}}\\\">\\n</div><ul class=\\\"list\\\"><li class=\\\"item\\\"><textarea type=\\\"text\\\" ng-model=\\\"form.title\\\" autofocus \\nplaceholder=\\\"{{ \\'SHARE.FORM.LEGEND\\' | translate }}\\\"></textarea></li><li class=\\\"item item-input\\\" \\nng-show=\\\"form.geo.image\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><li class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.share.modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeShare()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitShare(form, social)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div \\nclass=\\\"item item-thumbnail-left\\\" href=\\\"#\\\"><img ng-src=\\\"{{form.photo}}\\\" id=\\\"image\\\"><textarea type=\\\"text\\\" \\nng-model=\\\"form.title\\\" placeholder=\\\"{{ \\'SHARE.FORM.LEGEND\\'|translate }}\\\"></textarea></div></div><ul class=\\\"list\\\"><li \\nclass=\\\"item item-input\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><div class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></div></ul><ul class=\\\"list\\\"><li class=\\\"item item-divider\\\" \\ntranslate=\\\"SHARE.FORM.SHARE_IN\\\"></li><li class=\\\"item item-icon-left item-toggle\\\" ng-repeat=\\\"social in socials\\\"><i \\nclass=\\\"icon ion-social-{{ social.title | lowercase }}\\\"></i> {{ social.title }}<label class=\\\"toggle toggle-positive\\\">\\n<input type=\\\"checkbox\\\" ng-model=\\\"social.checked\\\"><div class=\\\"track\\\"><div class=\\\"handle\\\"></div></div></label></li></ul>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/tabs/photogram-tabs.html\",\"<ion-view><ion-nav-bar class=\\\"bar bar-light bar-mop\\\" align-title=\\\"left\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-light tabs-photogram\\\"><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.HOME\\' | translate }}\\\" \\nicon=\\\"ion-android-home\\\" ui-sref=\\\"photogram.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.SEARCH\\' | translate }}\\\" icon=\\\"ion-search\\\" ui-sref=\\\"photogram.search.list\\\"><ion-nav-view \\nname=\\\"tabSearch\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.SHARE\\' | translate }}\\\" \\nicon=\\\"ion-camera\\\" ng-click=\\\"vm.postPhoto()\\\"><ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.ACTIVITY\\' | translate }}\\\" icon=\\\"ion-heart\\\" ui-sref=\\\"photogram.activity\\\"><ion-nav-view \\nname=\\\"tabActivity\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.PROFILE\\' | translate }}\\\" \\nicon=\\\"ion-person\\\" ui-sref=\\\"photogram.account\\\"><ion-nav-view name=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/avatar/user.avatar.html\",\"<ion-view title=\\\"{{ \\'USER.AVATAR.TITLE\\' | translate }}\\\"><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" \\nalign-title=\\\"left\\\"></ion-nav-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img \\nclass=\\\"avatar\\\" user-avatar ng-src=\\\"{{ ::currentUser.img._url || \\'img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\">\\n<label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"text\\\" \\nng-model=\\\"vm.form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"vm.rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"vm.submitAvatar()\\\" \\nclass=\\\"button button-block button-positive\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/intro/user-intro.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"area1 step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><span class=\\\"desc\\\">{{\\'USER.DESC1\\' | translate}}<br>{{\\'USER.DESC2\\' | translate}}</span>\\n</div><div class=\\\"step2\\\"><facebook-login></facebook-login><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span translate=\\\"or\\\">\\n</span><div class=\\\"line\\\"></div></div><button class=\\\"button button-block button-light button-outline\\\" \\nui-sref=\\\"user.register\\\" translate=\\\"USER.BUTTON.SIGNUP\\\"></button> <span class=\\\"term\\\">{{\\'USER.TERM\\' | translate}} <a \\nhref=\\\"\\\">{{\\'USER.TERM1\\' | translate}}</a> e <a href=\\\"\\\">{{\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.login\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/layout/user-layout.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content padding=\\\"false\\\"><ion-nav-view></ion-nav-view></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/login/user-login.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><button \\nclass=\\\"button button-block button-outline button-light\\\" type=\\\"button\\\" ng-disabled=\\\"vm.rForm.$invalid\\\" \\nng-click=\\\"vm.submitLogin(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><button class=\\\"button button-block button-light button-outline\\\" ui-sref=\\\"user.register\\\" translate>\\nUSER.BUTTON.SIGNUP</button> <span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}\\n</a> e <a href=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNUP2\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/merge/merge.html\",\"<ion-view id=\\\"user-login\\\"><ion-content class=\\\"view-avatar padding\\\"><h1>Merge Account</h1><div class=\\\"step1 padding\\\"><h5\\n translate>USER.MERGE</h5></div><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ vm.form.facebookimg }}\\\"></div></div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"rForm\\\"><input type=\\\"hidden\\\" ng-model=\\\"vm.form.facebookimg\\\"></formly-form></div><div class=\\\"padding step3\\\"><button\\n ng-click=\\\"vm.submit(rForm, vm.form)\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\">\\n</i> <span translate>USER.BUTTON.MERGE</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/register/user-register.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><div \\nclass=\\\"padding\\\"><button class=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-disabled=\\\"rForm.$invalid\\\" \\nng-click=\\\"vm.submitRegister(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}</a> e <a \\nhref=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");}]);"],"sourceRoot":"/source/"}