{"version":3,"sources":["scripts/app.js"],"names":["configRoutes","$stateProvider","$urlRouterProvider","$translatePartialLoaderProvider","addPart","path","state","url","abstract","templateUrl","controller","controllerAs","template","otherwise","$inject","angular","module","config","UserRegisterCtrl","$state","UserForm","Notify","Loading","Photogram","User","init","vm","form","email","password","submitRegister","rForm","data","$valid","start","copy","register","then","resp","addActivity","action","login","end","go","clear","alert","title","text","message","this","formFields","UserRecoveryPassController","submitForgot","forgot","recoveryPassDirective","$ionicPopup","restrict","scope","link","$scope","elem","openModal","recovery","erro","button","input","show","buttons","type","onTap","e","$viewValue","preventDefault","res","isUndefined","bind","directive","UserMergeController","$rootScope","AppConfig","tempUser","submit","dataForm","user","facebookLink","routes","home","LogoutController","logout","UserLoginCtrl","Parse","current","routeLogged","submitLogin","name","length","facebook","facebookLogin","status","UserIntroCtrl","languages","locales","language","userAvatarDirective","PhotoService","PhotogramSetting","gallery","option","allowEdit","get","filter","allowRotation","quality","correctOrientation","targetWidth","targetHeight","saveToPhotoAlbum","open","imageData","updateAvatar","UserAvatarController","currentUser","gender","img","username","profile","submitAvatar","update","PhotogramTabsController","$ionicModal","crop","modalPost","goHome","image","closeModalPost","hide","remove","submitPost","post","$emit","closePost","location","photo","geo","fromTemplateUrl","focusFirstInput","modal","postPhoto","PhotogramShareFactory","$window","$translate","share","app","cordova","window","plugins","socialsharing","factory","PhotogramSearchCtrl","$stateParams","PhotogramViewCtrl","id","PhotogramPreviewCtrl","PhotogramPhotoCtrl","PhotogramId","loadComments","allComment","comments","submitComment","addComment","formComment","PhotogramHomeController","views","tabHome","DirectMessageCtrl","Direct","loadMessages","loading","messages","roomId","model","$broadcast","sendMessage","body","params","channelId","doRefresh","DirectHomeCtrl","chats","$q","getDirect","directId","defer","Query","include","equalTo","first","resolve","promise","addMessage","DirectMessages","Object","extend","forEach","value","key","set","save","reject","direct","room","relation","add","page","attributes","from","limit","skip","find","map","item","obj","date","createdAt","push","promises","chatsType","all","_direct","msg","to","$filter","replace","$timeout","element","attrs","eleHtml","html","Autolinker","className","newWindow","autolinks","getElementsByClassName","i","href","target","tabActivity","PhotogramActivityCtrl","PhotogramShare","empty","loadMore","force","load","listActivity","more","openShare","PhotogramAccountCtrl","changeTab","tab","list","grid","total","galleries","getFollower","loadingFollowers","loadingFollowing","loadingPhotos","getUserGalleryQtd","qtdPhotos","getFollowers","qtdFollowers","getFollowing","qtdFollowing","settingsModal","$cordovaInAppBrowser","photogram","use","sref","closeModal","openLink","options","clearcache","toolbar","changeLanguage","moment","locale","submitUpdateProfile","ionSearch","getData","ngModel","search","watchSearch","newValue","minLength","str","results","placeholder","$apply","addClass","source","$watch","profileModalDirective","profileModalLink","loadingPhotogram","avatar","getUserGallery","userId","isFollow","isFollowResp","follow","loadingFollow","followResp","modalProfile","profileModalEditDirective","facebookimg","linkFacebook","photogramPhotoList","PhotogramFeedback","$ionicActionSheet","photogramPhotoListCtrl","attr","feed","progress","likePhoto","liked","likeGallery","qtdLike","likes","actionButtons","index","confirm","deletePhoto","buttonDelete","src","actionSheet","titleText","cancelText","buttonClicked","like","$on","photogramPhotoGrid","photogramPhotoGridCtrl","photogramPhotoCapture","$cordovaGeolocation","photogramPhotoCaptureLink","getComments","photogramId","openModalCapture","active","center","latitude","longitude","scrollwheel","zoom","getLocation","posOptions","timeout","enableHighAccuracy","getCurrentPosition","position","here","coords","icon","err","getGeo","submitCapture","canvas","document","getElementById","toDataURL","transclude","PhotogramLoadingDirective","modalLanguageDirective","modalLanguageLink","searchValue","selectLanguage","code","photogramLike","likePhotogram","_model","photogramLikeModal","animation","heartDirective","heartLink","photogramFollow","modalFollow","getFollow","photogramPhotoFeedbackDirective","PhotogramFeedbackForm","submitFeedback","templateOptions","instant","required","label","valueProp","labelProp","iconPlaceholder","$new","facebookLoginDirective","$cordovaFacebook","$facebook","facebookLoginLink","getLoginStatus","api","photogramCommentDirective","PhotogramForm","nocomments","galleryId","openModalComment","deleteComment","editComment","updateComment","buyDirective","buyLink","ThemeableBrowser","statusbar","color","height","showPageTitle","closeButton","imagePressed","align","event","backButtonCanClose","UserFormFactory","UserFactory","$ionicHistory","$cordovaDevice","$location","loadProfile","_url","logIn","success","error","loginFacebook2","response","dados","query","Boolean","loginFacebook","updateUser","newuser","facebook_complete","respStatus","deferStatus","undefined","JSON","stringify","facebookProfile","formData","signUp","requestPasswordReset","logOut","clearCache","cordovaDevice","device","getDevice","getCordova","getModel","platform","getPlatform","uuid","getUUID","version","getVersion","imageFile","File","base64","facebookFriends","facebookAPI","facebookInvite","showDialog","method","ui","notEqualTo","users","count","foloow","follow2","followUser","respFollow","qtdFollow","parseInt","userResp","destroy","addFollows","getMail","Date","getTime","FacebookUtils","access_token","expiration_date","mail","$cordovaSocialSharing","social","detail","shareViaInstagram","shareViaFacebook","shareViaTwitter","shareViaWhatsApp","shareViaEmail","subject","cancel","PhotogramSettingFactory","Cache","SettingKeys","settings","CacheSetting","put","mode","keys","PhotogramFormFactory","focus","toggleClass","formShare","PhotogramFactory","_params","ImageObject","imageObject","caption","GeoPoint","descending","objs","commentBy","ascending","created","userAvatar","comment","deleteItem","getLikes","nearby","point","maxDistance","withinRadians","size","width","scaledSize","_latitude","_longitude","string","matches","_query","_limit","_result","totalGallery","qtd","cb","_","after","each","_likes","_comments","limitComment","commentsData","loadUser","isLiked","addLike","newGallery","removeLike","qtdGalleries","configTranslate","constant","Video","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","fullPath","substr","lastIndexOf","newName","makeid","file","dataDirectory","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","slice","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","deferred","possible","charAt","Math","floor","random","saveVideo","localURL","$jrCrop","$cordovaCamera","$cordovaCapture","capture","cropModal","filterModal","buttonCancel","jrCrop","setting","aspectRatio","destinationType","Camera","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","popoverOptions","CameraPopoverOptions","chooseText","shareModal","shareSocial","socials","sociais","fromTemplate","openFilter","closeFilter","modalFilter","submitFilter","dataUrl","templateFilter","tempImage","cropImage","getPicture","sourceType","PictureSourceType","CAMERA","PHOTOLIBRARY","fileInput","click","on","evt","currentTarget","files","reader","FileReader","onload","result","readAsDataURL","getVideo","captureVideo","duration","mediaFiles","PhotoFilter","done","closeModalCapture","closeCapture","CamanJsFactory","effect","Caman","revert","render","resetEffect","filters","reset","photoFilter","CamanJs","applyFilter","photoFilterCarousel","apply","photoShareDirective","photoShareLink","ionCrop","ionCropLink","getElem","fileUpload","val","cropSave","camanDirective","camanDirectiveLink","LoadingController","intro","localStorage","IntroCtrl","$ionicSlideBoxDelegate","slideChanged","slideIndex","currentPlatform","ionic","Platform","next","previous","slides","top","parse","transform","paginate","pageNumber","pageSize","sort","order","field","ParseImageServiceFactory","_all","_delete","_objectId","_data","_get","_save","thumbBase64","imageSettings","savedData","getItem","dimensions","saveToAlbum","saveImageSettings","_settings","setItem","delete","ParseFileFactory","upload","object","filename","lat","lng","cacheConfig","CacheFactoryProvider","defaults","maxAge","CacheFactory","createCache","deleteOnExpire","recycleFreq","storageMode","modelName","cache","ionLocation","GeoService","ionLocationLink","suggestions","selectPlace","place_id","getDetails","address","parseAddress","number","street","district","city","country","zipcode","resume","closeModalLocation","findMe","choosePlace","place","modalLocation","searchAddress","$http","pos","getGoogleAddress","geolocation","logErr","address_normal","formatted_address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","w","h","geometry","H","L","addressType","types","componentForm","componentFormName","autocompleteService","getQueryPredictions","placeId","detailsService","google","maps","places","AutocompleteService","PlacesService","createElement","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","runLoading","$ionicLoading","run","ionLoading","showLoading","hideLoading","seconds","$cacheSrc","default_config","t","$get","bgcolor","semi","rounded","clockwise","radius","stroke","max","iterations","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","cacheSrcStorage","$localStorage","c","_cache","cache_src","getCacheDir","localUrl","cacheSrc","$ionicPlatform","$interval","$compile","$cordovaFileTransfer","onProgress","onFinish","onError","makeProgressCircle","startsWith","arr","sub_str","indexOf","needDownload","attrToScope","textAlign","isIOS","isAndroid","progress_circle","display","finish","css","addSrc","srcIs","$observe","ready","ext","split","pop","fileName","download","loaded","documentsDirectory","pt_br","defineLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","day","sameElse","relativeTime","future","past","s","m","mm","hh","d","dd","M","MM","y","yy","ordinalParse","ordinal","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","n","opt_precision","o","g","r","a","q","arguments","l","getElementsByTagName","async","parentNode","insertBefore","ga","cookieDomain","appId","server","translation","preferredLocale","startParse","initialize","serverURL","runIonic","$cordovaStatusbar","$cordovaSplashscreen","overlaysWebView","style","styleHex","configLanguage","$translateProvider","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","langvar","navigator","userlanguage","userlangvar","searchLang","some","preferredLanguage","configIonic","$ionicConfigProvider","backButton","android","tabs","maxCache","configFacebook","$facebookProvider","setAppId","setPermissions","runFacebook","LangVar","userLanguage","userLangVar","substring","toUpperCase","js","fjs","tabSearch","tabProfile","openTermsDirective","$templateCache"],"mappings":"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","file":"scripts/app-ccbdaecfbf.js","sourcesContent":["(function () {\n    'use strict';\n    angular\n        .module('app.user', [\n            'ionic'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/user';\n\n        function configRoutes($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n\n            .state('user', {\n                url: '/user',\n                abstract: true,\n                templateUrl: path + '/module/layout/user-layout.html'\n            })\n\n            .state('user.intro', {\n                url: '/intro',\n                templateUrl: path + '/module/intro/user-intro.html',\n                controller: 'UserIntroCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.register', {\n                url: '/register',\n                templateUrl: path + '/module/register/user-register.html',\n                controller: 'UserRegisterCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.login', {\n                url: '/login',\n                templateUrl: path + '/module/login/user-login.html',\n                controller: 'UserLoginCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.merge', {\n                url: '/merge',\n                controller: 'UserMergeCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/merge/merge.html'\n            })\n\n            .state('logout', {\n                url: '/logout',\n                template: '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n                controller: 'UserLogoutCtrl',\n                controllerAs: 'vm'\n            })\n\n\n        ;\n\n        $urlRouterProvider.otherwise('/');\n\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRegisterCtrl', UserRegisterCtrl);\n\n  function UserRegisterCtrl($state, UserForm, Notify, Loading, Photogram, User) {\n    var vm = this;\n    vm.formFields = UserForm.register;\n    vm.submitRegister = submitRegister;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n    }\n\n    function submitRegister(rForm, data) {\n\n      if (rForm.$valid) {\n        Loading.start();\n        var form = angular.copy(data);\n        User\n          .register(form)\n          .then(function (resp) {\n            void 0;\n            Photogram\n              .addActivity({\n                action: 'registered'\n              });\n\n            User\n              .login({\n                email: form.email,\n                password: form.password\n              })\n              .then(function (data) {\n                void 0;\n                User.init();\n                Loading.end();\n                $state.go('useravatar', {\n                  clear: true\n                });\n              })\n              .catch(function (resp) {\n                void 0;\n                Loading.end();\n                Notify.alert({\n                  title: 'Ops',\n                  text: resp.message\n                });\n              });\n          })\n          .catch(function (resp) {\n            void 0;\n            Loading.end();\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n          });\n      }\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Notify) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          void 0;\n        })\n        .catch(function (resp) {\n          Notify.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Notify) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                void 0;\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    void 0;\n                    Notify.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Notify.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.user')\n        .controller('UserMergeCtrl', UserMergeController);\n\n    function UserMergeController(User, $rootScope, AppConfig, $state, Notify, UserForm) {\n        var vm        = this;\n        vm.formFields = UserForm.register;\n\n        init();\n\n        function init() {\n            if ($rootScope.tempUser) {\n                vm.form          = $rootScope.tempUser;\n                vm.form.password = '';\n            } else {\n                $state.go('user.intro', {clear: true});\n            }\n\n        }\n\n        vm.submit = function (rForm, form) {\n\n            void 0;\n            void 0;\n            if (vm.form.password != '') {\n                var dataForm = angular.copy(vm.form);\n                var form     = {\n                    email: dataForm.email,\n                    password: dataForm.password\n                };\n\n                void 0;\n\n                User\n                    .login(form)\n                    .then(function (user) {\n                        void 0;\n                        User\n                            .facebookLink(user)\n                            .then(function (resp) {\n                                void 0;\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                })\n                            })\n                    })\n                    .catch(function (resp) {\n                        Notify.alert({\n                            title: 'Ops',\n                            text: resp.message\n                        });\n                    });\n            } else {\n                Notify.alert({\n                    title: ('Invalid form'),\n                    text: ('Please enter your email')\n                });\n            }\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLogoutCtrl', LogoutController);\n\n  function LogoutController(User) {\n    User.logout();\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLoginCtrl', UserLoginCtrl);\n\n  function UserLoginCtrl(AppConfig, UserForm, Parse, Loading, $state, Notify, User) {\n    var vm = this;\n    vm.formFields = UserForm.login;\n    vm.routeLogged = AppConfig.routes.home;\n    vm.submitLogin = submitLogin;\n    vm.facebook = facebook;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n\n      if (Parse.User.current()) {\n        $state.go(vm.routeLogged, {\n          clear: true\n        });\n      }\n\n    }\n\n    function submitLogin(rForm, data) {\n\n      var form = angular.copy(data);\n      if (rForm.$valid) {\n        Loading.start();\n        User\n          .login(form)\n          .then(function (data) {\n\n            void 0;\n\n            if (data.name.length) {\n              $state.go(vm.routeLogged, {\n                clear: true\n              });\n            } else {\n              $state.go('useravatar', {\n                clear: true\n              });\n            }\n            Loading.end();\n          })\n          .catch(function (resp) {\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n            Loading.end();\n          });\n      } else {\n        return false;\n      }\n    }\n\n    function facebook() {\n      Loading.start();\n      User\n        .facebookLogin()\n        .then(function (resp) {\n          void 0;\n\n          Loading.end();\n          switch (resp.status) {\n          case 0:\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n            break;\n          case 1:\n            $state.go('useravatar', {\n              clear: true\n            });\n            break;\n          case 2:\n            $state.go('usermerge', {\n              clear: true\n            });\n            break;\n          }\n        })\n        .catch(function () {\n          Loading.end();\n          Notify.alert({\n            title: 'Ops',\n            text: ('Facebook error')\n          });\n        });\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro', [])\n        .config(configRoutes);\n\n    var path = 'app/module/intro';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n        $stateProvider\n            .state('intro', {\n                url: '/intro',\n                templateUrl: path + '/intro.html',\n                controller: 'IntroCtrl',\n                controllerAs: 'vm'\n            });\n\n        $translatePartialLoaderProvider.addPart(path);\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('UserIntroCtrl', UserIntroCtrl);\n\n    function UserIntroCtrl(AppConfig) {\n        var vm       = this;\n        vm.languages = AppConfig.locales;\n        vm.language  = vm.languages[0];\n    }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('userAvatar', userAvatarDirective);\n\n  function userAvatarDirective(PhotoService, PhotogramSetting, User) {\n    return {\n      restrict: 'A',\n      scope: {\n        gallery: '@'\n      },\n      template: '',\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          var option = {\n            allowEdit: PhotogramSetting.get('imageEdit'),\n            filter: PhotogramSetting.get('imageFilter'),\n            allowRotation: PhotogramSetting.get('imageRotation'),\n            quality: PhotogramSetting.get('imageQuality'),\n            correctOrientation: PhotogramSetting.get('imageEdit'),\n            targetWidth: PhotogramSetting.get('imageWidth'),\n            targetHeight: PhotogramSetting.get('imageHeight'),\n            saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n          };\n\n          void 0;\n\n          PhotoService\n            .open(option)\n            .then(function (imageData) {\n              User\n                .updateAvatar(imageData)\n                .then(function (resp) {\n                  void 0;\n                });\n            })\n            .catch(function (resp) {\n              void 0;\n            });\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserAvatarCtrl', UserAvatarController);\n\n  function UserAvatarController(User, AppConfig, $state, Notify, UserForm) {\n    var vm = this;\n    vm.submitAvatar = submitAvatar;\n    init();\n\n    function init() {\n      var user = User.currentUser();\n      vm.form = {\n        name: user.name,\n        email: user.email,\n        status: user.status,\n        gender: user.gender,\n        img: user.img,\n        username: user.username\n      };\n      vm.formFields = UserForm.profile;\n      void 0;\n    }\n\n    function submitAvatar() {\n      void 0;\n\n      if (vm.rForm.$valid) {\n        var dataForm = angular.copy(vm.form);\n        void 0;\n\n        User\n          .update(dataForm)\n          .then(function (resp) {\n            void 0;\n            User.init();\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n          });\n      } else {\n        Notify.alert({\n          title: ('Invalid form'),\n          text: ('Fill out the fields in red')\n        });\n      }\n\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram', [\n            'ionic',\n            'ngCordova',\n            'app.account',\n            'app.activity',\n            'app.direct',\n            'app.direct-message',\n            'app.share',\n            'app.home',\n            'app.search'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n            .state('photogram', {\n                url: '/photogram',\n                abstract: true,\n                controller: 'PhotogramTabsCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/tabs/photogram-tabs.html'\n            });\n\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramTabsCtrl', PhotogramTabsController);\n\n  function PhotogramTabsController($scope, $state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n    PhotogramSetting, PhotoService) {\n    var vm = this;\n    var path = AppConfig.path;\n    vm.postPhoto = open;\n\n    function open() {\n      var option = {\n        crop: PhotogramSetting.get('imageCrop'),\n        allowEdit: PhotogramSetting.get('imageEdit'),\n        filter: true,\n        allowRotation: PhotogramSetting.get('imageRotation'),\n        quality: PhotogramSetting.get('imageQuality'),\n        correctOrientation: PhotogramSetting.get('imageEdit'),\n        targetWidth: PhotogramSetting.get('imageWidth'),\n        targetHeight: PhotogramSetting.get('imageHeight'),\n        saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n      };\n      void 0;\n\n      PhotoService\n        .open(option)\n        .then(modalPost)\n        .catch(goHome);\n    }\n\n\n    function goHome() {\n      void 0;\n      $state.go('photogram.home');\n    }\n\n    function modalPost(image) {\n      $scope.closePost = closeModalPost;\n      $scope.submitPost = submitPost;\n      $scope.form = {\n        title: '',\n        location: '',\n        photo: image,\n        geo: false\n      };\n\n      $ionicModal\n        .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n          scope: $scope,\n          focusFirstInput: true\n        })\n        .then(function (modal) {\n          $scope.form.photo = image;\n          $scope.modalPost = modal;\n          $scope.modalPost.show();\n        });\n\n      function closeModalPost() {\n        $scope.modalPost.hide();\n        $scope.modalPost.remove();\n        Loading.end();\n      }\n\n      function submitPost(resp) {\n        var form = angular.copy(resp);\n        Loading.start();\n        Photogram\n          .post(form)\n          .then(function () {\n            closeModalPost();\n            $rootScope.$emit('filterModal:close');\n            $rootScope.$emit('PhotogramHome:reload');\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramShare', PhotogramShareFactory);\n\n    function PhotogramShareFactory($window, $translate, AppConfig) {\n        return {\n            share: share\n        };\n\n        function share(post) {\n            void 0;\n            var message = (\"I'm at \") + AppConfig.app.name + '! ' + (\n                    'Install the application and follow me!') + ' ' + AppConfig.app.url;\n            if ($window.cordova) {\n                $window\n                    .window\n                    .plugins\n                    .socialsharing\n                    .share(post.text + ', ' + message, post.text, post.image, null);\n            } else {\n                void 0;\n            }\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramSearchCtrl', PhotogramSearchCtrl);\n\n    function PhotogramSearchCtrl($scope, $rootScope, $stateParams, Photogram) {\n        var vm     = this;\n\n\n\n           }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramViewCtrl', PhotogramViewCtrl);\n\n  function PhotogramViewCtrl(Photogram, $stateParams) {\n    var vm = this;\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      });\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPreviewCtrl', PhotogramPreviewCtrl);\n\n\n  function PhotogramPreviewCtrl(photo) {\n    var vm = this;\n    vm.data = photo;\n    void 0;\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPhotoCtrl', PhotogramPhotoCtrl);\n\n\n  function PhotogramPhotoCtrl($stateParams, Photogram) {\n    var vm = this;\n\n    vm.formFields = Photogram.formComment;\n    vm.submitComment = submitComment;\n    init();\n\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        vm.data = resp;\n      });\n\n    function init() {\n      vm.form = {\n        PhotogramId: $stateParams.id,\n        text: ''\n      };\n\n      loadComments();\n    }\n\n    function loadComments() {\n      Photogram\n        .allComment($stateParams.id)\n        .then(function (resp) {\n          void 0;\n          vm.comments = resp;\n        });\n    }\n\n    function submitComment(rForm, form) {\n      if (rForm.$valid) {\n        var dataForm = angular.copy(form);\n        Photogram\n          .addComment(dataForm)\n          .then(function (resp) {\n            void 0;\n            loadComments();\n          });\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramHomeCtrl', PhotogramHomeController);\n\n    function PhotogramHomeController($scope, $rootScope, $stateParams, Photogram) {\n        var vm     = this;\n\n\n\n           }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.direct-message', [])\n      .config(configRoutes);\n\n  var path = 'app/module/photogram/module/direct-message';\n\n  function configRoutes($stateProvider) {\n\n\n    $stateProvider\n        .state('photogram.message', {\n          url: '/message/:channelId',\n          views: {\n            tabHome: {\n              controller: 'DirectMessageCtrl',\n              controllerAs: 'vm',\n              templateUrl: path + '/direct-message.html'\n            }\n          }\n        });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.direct-message')\n    .controller('DirectMessageCtrl', DirectMessageCtrl);\n\n\n  function DirectMessageCtrl($scope, Direct, User, $state) {\n    var vm = this;\n    var roomId = $state.params.channelId;\n    vm.user = User.currentUser();\n    vm.sendMessage = sendMessage;\n    vm.doRefresh = loadMessages;\n\n    function loadMessages() {\n      vm.loading = true;\n      vm.data = [];\n      Direct\n        .messages(roomId)\n        .then(function (resp) {\n          vm.data = resp;\n          vm.loading = false;\n          if (vm.model) {\n            vm.model.text = '';\n          }\n          $scope.$broadcast('scroll.refreshComplete');\n        });\n    }\n\n    loadMessages();\n\n\n    function sendMessage(form, model) {\n      var data = angular.copy(model);\n      void 0;\n      if (form.$valid && data.text) {\n        var message = {\n          body: data.text\n        };\n        Direct\n          .sendMessage(message, roomId)\n          .then(function () {\n            loadMessages();\n          });\n      }\n\n\n    }\n\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .controller('DirectHomeCtrl', DirectHomeCtrl);\n\n  function DirectHomeCtrl(Direct) {\n    var vm = this;\n    vm.data = [];\n\n    Direct\n      .chats()\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      })\n  }\n})();\n(function () {\n  'use strict';\n\n  var _direct = 'DirectMessages';\n  var _channel = 'Direct';\n\n  angular\n    .module('app.photogram')\n\n  .filter('nl2br', ['$filter',\n    function ($filter) {\n      return function (data) {\n        if (!data) return data;\n        return data.replace(/\\n\\r?/g, '<br />');\n      };\n    }\n  ])\n\n  .directive('autolinker', ['$timeout',\n      function ($timeout) {\n        return {\n          restrict: 'A',\n          link: function (scope, element, attrs) {\n            $timeout(function () {\n              var eleHtml = element.html();\n\n              if (eleHtml === '') {\n                return false;\n              }\n\n              var text = Autolinker.link(eleHtml, {\n                className: 'autolinker',\n                newWindow: false\n              });\n\n              element.html(text);\n\n              var autolinks = element[0].getElementsByClassName('autolinker');\n\n              for (var i = 0; i < autolinks.length; i++) {\n                angular.element(autolinks[i]).bind('click', function (e) {\n                  var href = e.target.href;\n                  void 0;\n\n                  if (href) {\n                    window.open(href, '_blank');\n                  }\n\n                  e.preventDefault();\n                  return false;\n                });\n              }\n            }, 0);\n          }\n        }\n      }\n    ])\n    .factory('Direct', Direct);\n\n  function Direct($q, Parse) {\n    return {\n      from: from,\n      to: to,\n      chats: chats,\n      messages: messages,\n      sendMessage: sendMessage\n    };\n\n    function getDirect(directId) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .include('from')\n        .equalTo('objectId', directId)\n        .first()\n        .then(defer.resolve);\n\n      return defer.promise;\n    }\n\n    function addMessage(data) {\n      var defer = $q.defer();\n      var DirectMessages = Parse.Object.extend('DirectMessages');\n      var message = new DirectMessages();\n      angular.forEach(data, function (value, key) {\n        message.set(key, value);\n      });\n      message.save(null, defer.resolve, defer.reject);\n\n      return defer.promise;\n    }\n\n    function sendMessage(message, roomId) {\n      var defer = $q.defer();\n\n      getDirect(roomId)\n        .then(function (direct) {\n          void 0;\n          message.room = direct;\n          message.user = Parse.User.current();\n          addMessage(message)\n            .then(function (message) {\n              direct.relation('messages').add(message);\n              direct.save()\n                .then(defer.resolve);\n            })\n        })\n      defer.resolve(message);\n      return defer.promise;\n\n    }\n\n    function messages(channelId, page) {\n      var defer = $q.defer();\n\n      getDirect(channelId)\n        .then(function (direct) {\n          var data = direct.attributes;\n          var user = Parse.User.current();\n          data.user = direct.attributes.from.attributes;\n          data.messages = [];\n\n          new Parse\n            .Query('DirectMessages')\n            .equalTo('room', direct)\n            .include('user')\n            .limit(20)\n            .skip(page)\n            .find()\n            .then(function (resp) {\n              resp.map(function (item) {\n                var obj = {\n                  body: item.attributes.body,\n                  date: item.createdAt,\n                  user: item.attributes.user.attributes\n                };\n                obj.user.id = item.attributes.user.id;\n                void 0;\n\n                data.messages.push(obj);\n              });\n              defer.resolve(data);\n            });\n        })\n\n      return defer.promise;\n    }\n\n    function chats() {\n      var defer = $q.defer();\n\n      var promises = [chatsType(null, 'from'), chatsType(null, 'to')];\n      $q.all(promises)\n        .then(function (resp) {\n          var data = [];\n          void 0;\n          resp[0].map(function (item) {\n            data.push(item);\n          });\n          resp[1].map(function (item) {\n            data.push(item);\n          });\n          defer.resolve(data);\n        })\n\n      return defer.promise;\n    }\n\n    function chatsType(user, type) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .equalTo(type, user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = item.attributes;\n            obj.user = item.attributes.from.attributes\n            obj.id = item.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function from(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('from', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function to(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('to', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.activity', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/activity';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n\n        $stateProvider\n            .state('photogram.activity', {\n                url: '/activity',\n                views: {\n                    tabActivity: {\n                        controller: 'PhotogramActivityCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/activity.html'\n                    }\n                }\n            })\n\n        ;\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.activity')\n    .controller('PhotogramActivityCtrl', PhotogramActivityCtrl);\n\n  function PhotogramActivityCtrl($scope, Photogram, PhotogramShare) {\n    var vm = this;\n    vm.loading = true;\n\n    $scope.loadMore = loadMore;\n    vm.openShare = PhotogramShare.open;\n    vm.load = load;\n    init();\n    vm.load();\n\n    function init() {\n      vm.page = 0;\n      vm.data = [];\n      vm.empty = false;\n      vm.loadMore = false;\n    }\n\n    function loadMore(force) {\n      void 0;\n      vm.load(force);\n    }\n\n    function load(force) {\n\n      if (force) {\n        init();\n      }\n\n      Photogram\n        .listActivity(vm.page)\n        .then(function (resp) {\n\n          resp.map(function (value) {\n            vm.data.push(value);\n          });\n\n          if (resp.length) {\n            vm.loading = false;\n            vm.more = true;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n            vm.more = false;\n          }\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n\n        })\n        .catch(function (status) {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          if (!status) {\n            vm.loading = false;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n          }\n          vm.more = false;\n        });\n    }\n\n\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramAccountCtrl', PhotogramAccountCtrl);\n\n    function PhotogramAccountCtrl(Parse, Photogram, User) {\n        var vm       = this;\n        vm.changeTab = changeTab;\n        vm.user      = Parse.User.current();\n\n                init();\n        changeTab('grid');\n\n        function changeTab(tab) {\n            if (tab === 'list') {\n                vm.tab = {\n                    list: true,\n                    grid: false\n                };\n            } else {\n                vm.tab = {\n                    list: false,\n                    grid: true\n                };\n            }\n        }\n\n        function init() {\n            vm.data  = {\n                total: false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n            getFollower();\n        }\n\n        function getFollower() {\n            vm.loadingFollowers = true;\n            vm.loadingFollowing = true;\n            vm.loadingPhotos    = true;\n\n            Photogram\n                .getUserGalleryQtd()\n                .then(function (qtdPhotos) {\n                    void 0;\n                    vm.user.qtdPhotos = qtdPhotos;\n                    vm.loadingPhotos  = false;\n                });\n\n            User\n                .getFollowers()\n                .then(function (qtdFollowers) {\n                    void 0;\n                    vm.user.qtdFollowers = qtdFollowers;\n                    vm.loadingFollowers  = false;\n                });\n\n            User\n                .getFollowing()\n                .then(function (qtdFollowing) {\n                    void 0;\n                    vm.user.qtdFollowing = qtdFollowing;\n                    vm.loadingFollowing  = false;\n                });\n        }\n\n\n\n            }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('settingsModal', settingsModal);\n\n  function settingsModal($ionicModal, $translate, AppConfig, $cordovaInAppBrowser, $rootScope, PhotogramShare,\n    User,\n    UserForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n        scope.link = link;\n        scope.openLink = openLink;\n        scope.changeLanguage = changeLanguage;\n        scope.share = PhotogramShare.share;\n\n        function init() {\n          scope.form = User.currentUser();\n          scope.formFields = UserForm.profile;\n          scope.languages = AppConfig.locales;\n          scope.language = $translate.use();\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/settings/photogram.settings.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function link(sref) {\n          $state.go(sref);\n          scope.closeModal();\n        }\n\n        function openLink(url) {\n          var options = {\n            location: 'yes',\n            clearcache: 'yes',\n            toolbar: 'yes'\n          };\n\n          $cordovaInAppBrowser.open(url, '_blank', options);\n        }\n\n        function changeLanguage(language) {\n          $translate.use(language);\n          moment.locale(language);\n          scope.form.language = language;\n          submitUpdateProfile(scope.form);\n        }\n\n\n        function submitUpdateProfile(form) {\n          var dataForm = angular.copy(form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('ionSearch', ionSearch);\n\n    function ionSearch($timeout) {\n\n        return {\n            restrict: 'E',\n            scope: {\n                getData: '&source',\n                ngModel: '=?',\n                search: '=?filter'\n            },\n            templateUrl: 'app/module/photogram/directive/search/search-directive.html',\n            link: function (scope, element, attrs) {\n                attrs.minLength   = attrs.minLength || 0;\n                scope.placeholder = attrs.placeholder || '';\n                scope.clear = function  () {\n                    void 0;\n                    scope.input = '';\n                    scope.$apply();\n                };\n\n                if (attrs.class) {\n                    element.addClass(attrs.class);\n                }\n\n                if (attrs.source) {\n                    scope.$watch('search.value', watchSearch);\n                }\n\n                function watchSearch(newValue) {\n                    if (newValue.length > attrs.minLength) {\n                        $timeout(function () {\n                            scope\n                                .getData({\n                                    str: newValue\n                                })\n                                .then(function (results) {\n                                    scope.ngModel = results;\n                                });\n                        }, 1000);\n                    } else {\n                        scope.ngModel = [];\n                    }\n                }\n\n            }\n\n        };\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModal', profileModalDirective);\n\n  function profileModalDirective($ionicModal, $rootScope, $q, Photogram, User) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: profileModalLink\n    };\n\n    function profileModalLink(scope, elem) {\n\n      elem.bind('click', openModal);\n\n      function init() {\n        var defer = $q.defer();\n        scope.loadingPhotogram = true;\n\n\n                scope.avatar = User.avatar(scope.user.attributes);\n\n        Photogram\n          .getUserGallery(scope.user.id)\n          .then(function (resp) {\n            scope.data = resp;\n            void 0;\n            scope.$broadcast('scroll.refreshComplete');\n            scope.$broadcast('scroll.infiniteScrollComplete');\n            scope.loadingPhotogram = false;\n            defer.resolve(scope.data);\n          });\n\n        return defer.promise;\n      }\n\n      function changeTab(tab) {\n        if (tab === 'list') {\n          scope.tab = {\n            list: true,\n            grid: false\n          };\n        } else {\n          scope.tab = {\n            list: false,\n            grid: true\n          };\n        }\n      }\n\n      function getFollower(userId) {\n        void 0;\n        scope.loadingFollowers = true;\n        scope.loadingFollowing = true;\n        scope.loadingPhotos = true;\n\n        Photogram\n            .getUserGalleryQtd(userId)\n            .then(function (qtdPhotos) {\n              void 0;\n              scope.user.qtdPhotos = qtdPhotos;\n              scope.loadingPhotos  = false;\n            });\n\n        User\n            .getFollowers(userId)\n            .then(function (qtdFollowers) {\n              void 0;\n              scope.user.qtdFollowers = qtdFollowers;\n              scope.loadingFollowers  = false;\n            });\n\n        User\n            .getFollowing(userId)\n            .then(function (qtdFollowing) {\n              void 0;\n              scope.user.qtdFollowing = qtdFollowing;\n              scope.loadingFollowing  = false;\n            });\n      }\n\n      function openModal() {\n\n\n                $ionicModal\n          .fromTemplateUrl('app/module/photogram/directive/profile-modal/profile-modal.html', {\n            scope: scope\n          })\n          .then(function (modal) {\n            scope.modalProfile = modal;\n            scope.loadingFollow = true;\n            scope.changeTab = changeTab;\n            scope.follow = follow;\n            scope.closeModal = closeModal;\n            scope.modalProfile.show();\n\n            init();\n            getFollower(scope.user.id);\n            changeTab('list');\n            isFollow();\n\n            function isFollow() {\n              User\n                .isFollow(scope.user.id)\n                .then(isFollowResp);\n            }\n\n            function isFollowResp(resp) {\n              void 0;\n              scope.user.follow = resp;\n              scope.loadingFollow = false;\n            }\n\n            function follow() {\n\n              scope.loadingFollow = true;\n              var status;\n\n              if (scope.user.follow) {\n                status = false;\n              } else {\n                status = true;\n              }\n\n              User\n                .follow(status, scope.user)\n                .then(followResp);\n\n              function followResp(resp) {\n\n                void 0;\n                scope.user.follow = status;\n                scope.loadingFollow = false;\n                getFollower(scope.user.id);\n              }\n            }\n\n            function closeModal() {\n              delete scope.data;\n              scope.modalProfile.hide();\n              scope.modalProfile.remove();\n            }\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModalEdit', profileModalEditDirective);\n\n  function profileModalEditDirective($ionicModal, User, UserForm, $state) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        scope.linkFacebook = linkFacebook;\n        scope.logout = logout;\n        scope.submitUpdateProfile = submitUpdateProfile;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n\n        function init() {\n          var user = Parse.User.current().attributes;\n          scope.form = {\n            name: user.name,\n            email: user.email,\n            status: user.status,\n            img: user.img,\n            username: user.username,\n            gender: user.gender,\n            facebook: user.facebook,\n            facebookimg: user.facebookimg\n          };\n            void 0;\n          scope.formFields = UserForm.profile;\n        }\n\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl('app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function logout() {\n          $state.go('logout');\n          scope.closeModal();\n        }\n\n        function linkFacebook() {\n          User\n            .facebookLink()\n            .then(function (resp) {\n              void 0;\n            });\n        }\n\n        function submitUpdateProfile() {\n          var dataForm = angular.copy(scope.form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('photogramPhotoList', photogramPhotoList);\n\n    function photogramPhotoList(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n        var path = AppConfig.path;\n\n        return {\n            restrict: 'E',\n            scope: {\n                user: '=',\n                profile: '='\n            },\n            templateUrl: path + '/directive/photolist/photo.list.html',\n            link: photogramPhotoListCtrl\n        };\n\n        function photogramPhotoListCtrl($scope, elem, attr) {\n\n            $scope.action  = action;\n            $scope.like    = likePhoto;\n            $scope.loading = true;\n            $scope.load    = feed;\n            $scope.load();\n            $scope.loadMore = loadMore;\n            $scope.gallery = {\n                src: ''\n            };\n\n            void 0;\n\n\n            init();\n\n            $scope.$on('PhotogramHome:reload', function () {\n                loadMore(true);\n            });\n\n            function init() {\n                $scope.data  = {\n                    total: -1,\n                    galleries: []\n                };\n                $scope.page  = 0;\n                $scope.empty = false;\n                $scope.more  = false;\n            }\n\n\n            function loadMore(force) {\n                void 0;\n                $scope.load(force);\n            }\n\n\n            function feed(force) {\n\n                if (force) {\n                    init();\n                }\n\n                Photogram\n                    .feed($scope.page, $scope.user)\n                    .then(function (resp) {\n\n                        void 0;\n                        resp.galleries.map(function (item) {\n                            item.progress     = false;\n                            $scope.data.total = resp.total;\n                            $scope.data.galleries.push(item);\n                        });\n\n\n                        if (resp.length) {\n                            $scope.more = true;\n                            $scope.page++;\n                        } else {\n                            $scope.empty = true;\n                            $scope.more  = false;\n                        }\n                    })\n                    .then(function () {\n                        $scope.loading = false;\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n\n                    })\n                    .catch(function () {\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n                        if ($scope.data.length) {\n                            $scope.loading = false;\n                            $scope.page++;\n                        } else {\n                            $scope.empty   = true;\n                            $scope.loading = false;\n                        }\n                        $scope.more = false;\n                    });\n            }\n\n            function likePhoto(gallery) {\n                gallery.item.liked = !gallery.item.liked;\n                Photogram\n                    .likeGallery(gallery.id)\n                    .then(function (resp) {\n                        gallery.item.qtdLike = resp.likes;\n                    });\n            }\n\n            function action(gallery) {\n\n                var buttons = [{\n                    text: '<i class=\"icon ion-share\"></i>' + ('Share')\n                }, {\n                    text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n                }];\n\n                var user = Parse.User.current();\n\n                if (user.id === gallery.user.id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message     = {\n                    image: gallery.src,\n                    text: gallery.item.title\n                }\n                var actionSheet = {\n                    buttons: buttons,\n                    titleText: ('Photo'),\n                    cancelText: ('Cancel'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            PhotogramShare.share(message);\n                            break;\n                        case 1:\n                            PhotogramFeedback.modal(gallery);\n                            break;\n                        case 2:\n\n                            $ionicPopup\n                                .confirm({\n                                    title: ('Delete photo'),\n                                    template: ('Are you sure?')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Photogram\n                                            .deletePhoto(gallery.id)\n                                            .then(function () {\n                                                void 0;\n                                                $scope.$emit('PhotogramHome:reload');\n                                            });\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n\n                $ionicActionSheet.show(actionSheet);\n\n            }\n\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.photogram')\n      .directive('photogramPhotoGrid', photogramPhotoGrid);\n\n  function photogramPhotoGrid(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'E',\n      scope: {\n        user: '=',\n        profile: '='\n      },\n      templateUrl: path + '/directive/photogrid/photo-grid.html',\n      link: photogramPhotoGridCtrl\n    };\n\n    function photogramPhotoGridCtrl($scope, elem, attr) {\n\n      $scope.action  = action;\n      $scope.like    = likePhoto;\n      $scope.loading = true;\n      $scope.load    = feed;\n      $scope.load();\n      $scope.loadMore = loadMore;\n      $scope.gallery = {\n        src: ''\n      };\n\n      void 0;\n\n\n      init();\n\n      $scope.$on('PhotogramHome:reload', function () {\n        loadMore(true);\n      });\n\n      function init() {\n        $scope.data  = {\n          total: -1,\n          galleries: []\n        };\n        $scope.page  = 0;\n        $scope.empty = false;\n        $scope.more  = false;\n      }\n\n\n      function loadMore(force) {\n        void 0;\n        $scope.load(force);\n      }\n\n\n      function feed(force) {\n\n        if (force) {\n          init();\n        }\n\n        Photogram\n            .feed($scope.page, $scope.user)\n            .then(function (resp) {\n\n              void 0;\n              resp.galleries.map(function (item) {\n                item.progress     = false;\n                $scope.data.total = resp.total;\n                $scope.data.galleries.push(item);\n              });\n\n\n              if (resp.length) {\n                $scope.more = true;\n                $scope.page++;\n              } else {\n                $scope.empty = true;\n                $scope.more  = false;\n              }\n            })\n            .then(function () {\n              $scope.loading = false;\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n\n            })\n            .catch(function () {\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n              if ($scope.data.length) {\n                $scope.loading = false;\n                $scope.page++;\n              } else {\n                $scope.empty   = true;\n                $scope.loading = false;\n              }\n              $scope.more = false;\n            });\n      }\n\n      function likePhoto(gallery) {\n        gallery.item.liked = !gallery.item.liked;\n        Photogram\n            .likeGallery(gallery.id)\n            .then(function (resp) {\n              gallery.item.qtdLike = resp.likes;\n            });\n      }\n\n      function action(gallery) {\n\n        var buttons = [{\n          text: '<i class=\"icon ion-share\"></i>' + ('Share')\n        }, {\n          text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n        }];\n\n        var user = Parse.User.current();\n\n        if (user.id === gallery.user.id) {\n          var buttonDelete = {\n            text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n          };\n          buttons.push(buttonDelete);\n        }\n        var message     = {\n          image: gallery.src,\n          text: gallery.item.title\n        }\n        var actionSheet = {\n          buttons: buttons,\n          titleText: ('Photo'),\n          cancelText: ('Cancel'),\n          buttonClicked: actionButtons\n        };\n\n\n        function actionButtons(index) {\n          switch (index) {\n            case 0:\n              PhotogramShare.share(message);\n              break;\n            case 1:\n              PhotogramFeedback.modal(gallery);\n              break;\n            case 2:\n\n              $ionicPopup\n                  .confirm({\n                    title: ('Delete photo'),\n                    template: ('Are you sure?')\n                  })\n                  .then(function (res) {\n                    if (res) {\n                      Photogram\n                          .deletePhoto(gallery.id)\n                          .then(function () {\n                            void 0;\n                            $scope.$emit('PhotogramHome:reload');\n                          });\n                    }\n                  });\n\n\n          }\n          return true;\n        }\n\n        $ionicActionSheet.show(actionSheet);\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoCapture', photogramPhotoCapture);\n\n  function photogramPhotoCapture($ionicModal, $cordovaGeolocation, AppConfig, Loading, $state, PhotoService,\n    Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      transclude: false,\n      link: photogramPhotoCaptureLink\n    };\n\n    function photogramPhotoCaptureLink(scope, elem, attr) {\n\n      scope.getGeo = getGeo;\n      scope.formFields = Photogram.form;\n      scope.open = open;\n      scope.submitCapture = submitCapture;\n      scope.closeModal = closeModal;\n      elem.bind('click', openModalCapture);\n\n      function init() {\n        scope.loading = true;\n        scope.comments = [];\n        Photogram\n          .getComments(scope.photogram)\n          .then(function (resp) {\n            scope.comments = resp;\n            scope.loading = false;\n          });\n\n        scope.form = {\n          photogramId: scope.photogram,\n          text: ''\n        };\n      }\n\n      function openModalCapture() {\n        void 0;\n\n\n        $ionicModal.fromTemplateUrl(path + '/view/photogram.capture.modal.html', {\n          scope: scope\n        }).then(function (modal) {\n          scope.modal = modal;\n          scope.modal.show();\n        });\n      }\n\n\n      function init() {\n        scope.active = false;\n        scope.form = {\n          title: '',\n          location: '',\n          photo: '',\n          geo: false\n        };\n\n        scope.map = {\n          center: {\n            latitude: -23.5333333,\n            longitude: -46.6166667\n          },\n          scrollwheel: false,\n          zoom: 15\n        };\n        scope.data = '';\n        scope.loading = false;\n\n      }\n\n      function getLocation() {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n\n        if (scope.form.location === '') {\n\n          scope.loading = false;\n\n          $cordovaGeolocation\n            .getCurrentPosition(posOptions)\n            .then(function (position) {\n\n              scope.here = {\n                id: 1,\n                coords: {\n                  latitude: position.coords.latitude,\n                  longitude: position.coords.longitude,\n                },\n                icon: 'img/pin.png'\n              };\n\n              scope.form.location = {\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n              };\n\n              scope.map.center = scope.here.coords;\n              scope.loading = false;\n\n              void 0;\n              void 0;\n              void 0;\n            }, function (err) {\n            });\n        }\n      };\n\n      function getGeo(resp) {\n        if (resp) getLocation();\n      }\n\n      function open() {\n        init();\n        PhotoService\n          .open()\n          .then(function (resp) {\n            scope.loading = false;\n            scope.active = true;\n            scope.form.photo = resp;\n            scope.data = 'data:image/jpeg;base64,' + resp;\n          })\n          .catch(function () {\n            $state.go('photogram.home');\n          });\n      }\n\n      function submitCapture() {\n\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        var dataForm = angular.copy(scope.form);\n\n        void 0;\n\n        return false;\n\n        Loading.start();\n        Photogram\n          .add(dataForm)\n          .then(function (resp) {\n            $state.go('photogram.home', {\n              reload: true\n            });\n            init();\n            Loading.end();\n          });\n      }\n\n      function closeModal() {\n        scope.modal.hide();\n        scope.modal.remove();\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('photogramLoading', PhotogramLoadingDirective);\n\n    function PhotogramLoadingDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                loading: '=',\n                icon: '@'\n            },\n            template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n\n    var path = 'app/module/photogram/directive/modal-language';\n\n    angular\n        .module('app.photogram')\n        .directive('modalLanguage', modalLanguageDirective);\n\n    function modalLanguageDirective(AppConfig, $translate, $timeout, Loading, $ionicModal) {\n        return {\n            restrict: 'A',\n            link: modalLanguageLink,\n            scope: {\n                ngModel: '='\n            },\n            template: ''\n        };\n\n        function modalLanguageLink(scope, elem, attr) {\n\n            scope.languages = AppConfig.locales;\n            scope.ngModel   = scope.languages[0];\n\n                        elem.bind('click', openModal);\n\n            function openModal() {\n\n                scope.closeModal = function () {\n                    scope.modal.hide();\n                };\n\n\n                scope.searchValue = '';\n\n                scope.selectLanguage = function (language) {\n                    void 0;\n                    $translate.use(language.code);\n                    moment.locale(language.code);\n                    scope.ngModel = language;\n                    Loading.start();\n                    scope.closeModal();\n                    $timeout(function () {\n                        Loading.end();\n                    }, 1000);\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/modal-language.html', {\n                        scope: scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n\n                    });\n            }\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramLike', photogramLike)\n    .directive('photogramLikeModal', photogramLikeModal);\n\n\n  function photogramLike(Photogram) {\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n        elem.bind('click', likePhotogram);\n\n        function likePhotogram() {\n\n          void 0;\n          var _model = scope.ngModel;\n          _model.progress = true;\n          _model.liked = !_model.liked;\n          Photogram\n            .likeGallery(scope.ngModel.id)\n            .then(function (resp) {\n              _model.likes = resp.likes;\n              _model.progress = false;\n              void 0;\n            });\n          scope.$apply();\n        }\n      }\n    };\n  }\n\n  function photogramLikeModal($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '='\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n        scope.formFields = Photogram.formComment;\n        scope.submitComment = submitComment;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function openModal() {\n          void 0;\n\n          $ionicModal.fromTemplateUrl(path + '/directive/like/photogram.like.directive.html', {\n            scope: scope,\n            animation: 'slide-in-up'\n          }).then(function (modal) {\n            scope.modal = modal;\n          });\n\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                scope.closeModal();\n              });\n          }\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        void 0;\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramFollow', photogramFollow);\n\n  function photogramFollow($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directive/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            void 0;\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                void 0;\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoFeedback', photogramPhotoFeedbackDirective);\n\n  function photogramPhotoFeedbackDirective($ionicModal, AppConfig, PhotogramFeedback, PhotogramFeedbackForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n\n        scope.link = link;\n        scope.submitFeedback = submitFeedback;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function init() {\n          scope.form = {\n            photogramId: scope.photogram\n          };\n          scope.formFields = PhotogramFeedbackForm.form;\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/feedback/feedback-modal.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n        }\n\n        function link(sref) {\n          $state.go(sref)\n          scope.closeModal();\n        }\n\n        function submitFeedback() {\n          var dataForm = angular.copy(scope.form);\n          PhotogramFeedback\n            .submit(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedbackForm', PhotogramFeedbackForm);\n\n    function PhotogramFeedbackForm($translate) {\n\n        var form = [{\n            key: 'title',\n            type: 'input',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.TITLE'),\n                required: true\n            }\n        }, {\n            key: 'subject',\n            type: 'select',\n            templateOptions: {\n                label: $translate.instant('FEEDBACK.SUBJECT'),\n                options: [{\n                    'label': $translate.instant('FEEDBACK.COMPLAINT'),\n                    'id': 'complaint',\n                }, {\n                    'label': $translate.instant('FEEDBACK.BUG'),\n                    'id': 'bug',\n                }, {\n                    'label': $translate.instant('FEEDBACK.SUGGESTION'),\n                    'id': 'suggestion',\n                }],\n                valueProp: 'id',\n                labelProp: 'label',\n                icon: 'icon-list',\n                iconPlaceholder: true\n            }\n        }, {\n            key: 'status',\n            type: 'textarea',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.MESSAGE'),\n                icon: 'ion-quote',\n                required: true,\n                iconPlaceholder: true\n            }\n        }];\n\n        return {\n            form: form\n        };\n    }\n\n\n})();\n(function () {\n\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedback', PhotogramFeedback);\n\n    function PhotogramFeedback($q, AppConfig, Photogram, $rootScope, PhotogramFeedbackForm, $ionicModal, Notify) {\n        var path = AppConfig.path;\n\n        return {\n            modal: modal,\n            submit: submit\n        };\n        function modal(gallery) {\n            var $scope            = $rootScope.$new();\n            $scope.submitFeedback = submitFeedback;\n            $scope.closeModal     = closeModal;\n            $scope.form           = {\n                photogramId: gallery.id\n            };\n\n            function submitFeedback() {\n                var dataForm = angular.copy($scope.form);\n                submit(dataForm)\n                    .then(function (resp) {\n                        void 0;\n                        closeModal();\n                    });\n            }\n\n\n            function closeModal() {\n                $scope.modal.hide();\n                $scope.modal.remove();\n                delete $scope.modal;\n            }\n\n            $scope.formFields = PhotogramFeedbackForm.form;\n\n            $ionicModal\n                .fromTemplateUrl(path + '/module/feedback/view/feedback.modal.html', {\n                    scope: $scope,\n                    focusFirstInput: true\n                })\n                .then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n        }\n\n\n        function submit(form) {\n            var defer = $q.defer();\n\n            void 0;\n\n            Photogram\n                .find(form.photogramId)\n                .then(function (Photogram) {\n                    void 0;\n                    var Object = Parse.Object.extend('PhotogramFeedback');\n                    var item   = new Object();\n\n                    delete form.PhotogramId;\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n\n                    item.set('user', Parse.User.current());\n                    item.set('Gallery', Photogram);\n\n                    item\n                        .save(null)\n                        .then(function (resp) {\n                            Notify.alert({\n                                title: ('Thanks'),\n                                text: ('Thanks for your Feedback')\n                            });\n                            defer.resolve(resp);\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n    }\n\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective(Loading, User, $state, $cordovaFacebook, $facebook, AppConfig, Notify) {\n        return {\n            restrict: 'E',\n            link: facebookLoginLink,\n            template: '<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <span>{{ \\'USER.BUTTON.LOGIN_SOCIAL\\'| translate}} {{name || \\'Facebook\\'}}</span> </button>',\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            var facebook = window.cordova ? $cordovaFacebook : $facebook;\n\n            void 0;\n\n\n            facebook\n                .getLoginStatus()\n                .then(function (resp) {\n                    void 0;\n                    facebook\n                        .api('/me')\n                        .then(function (profile) {\n                            void 0;\n                            scope.name = profile.name;\n                        });\n                })\n                .catch(function (resp) {\n                    void 0;\n                });\n\n            elem.bind('click', facebookLogin);\n\n            function facebookLogin() {\n                Loading.start();\n                User\n                    .facebookLogin()\n                    .then(function (resp) {\n                        void 0;\n\n                        Loading.end();\n                        switch (resp.status) {\n                            case 0:\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                });\n                                break;\n                            case 1:\n                                $state.go('user.avatar', {\n                                    clear: true\n                                });\n                                break;\n                            case 2:\n                                $state.go('user.merge', {\n                                    clear: true\n                                });\n                                break;\n                        }\n                    })\n                    .catch(function () {\n                        Loading.end();\n                        Notify.alert({\n                            title: 'Ops',\n                            text: ('Facebook error')\n                        });\n                    });\n            }\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramComment', photogramCommentDirective);\n\n  function photogramCommentDirective($ionicModal, Loading, $ionicPopup, User, Notify, $timeout,\n    AppConfig, Photogram, PhotogramForm) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n\n\n        elem.bind('click', openModalComment);\n\n        function init() {\n          scope.currentUser = User.currentUser();\n          scope.nocomments = false;\n          scope.loading = false;\n          scope.form = {\n            galleryId: scope.ngModel.id,\n            text: ''\n          };\n        }\n\n        function openModalComment() {\n          void 0;\n\n          init();\n\n          scope.formFields = PhotogramForm.formComment;\n          scope.submitComment = submitComment;\n          scope.deleteComment = deleteComment;\n          scope.editComment = editComment;\n          scope.closeModal = function () {\n            scope.modal.hide();\n            scope.modal.remove();\n          };\n\n          scope.comments = scope.ngModel.comments;\n          $timeout(function () {\n            if (scope.comments.length === 0) {\n              scope.nocomments = true;\n            }\n          }, 500);\n\n\n          $ionicModal.fromTemplateUrl(path + '/directive/comment/photogram.comment.directive.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n\n            });\n        }\n\n        function deleteComment(obj) {\n          void 0;\n          Notify\n            .confirm(('Delete comment'), ('You are sure?'))\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .deleteComment(obj)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function editComment(obj) {\n          void 0;\n          scope.data = angular.copy(obj);\n          $ionicPopup\n            .show({\n              template: '<input type=\"text\" ng-model=\"data.text\">',\n              title: ('Edit comment'),\n              scope: scope,\n              buttons: [{\n                text: ('Cancel')\n              }, {\n                text: '<b>OK</b>',\n                type: 'button-positive',\n                onTap: function (e) {\n                  void 0;\n                  if (!scope.data.text) {\n                    e.preventDefault();\n                  } else {\n                    return scope.data;\n                  }\n                }\n              }]\n            })\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .updateComment(resp)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function getComments() {\n          scope.loading = true;\n          Photogram\n            .getComments(scope.ngModel.id)\n            .then(function (resp) {\n              scope.comments = resp;\n              scope.ngModel.comments = resp;\n              scope.loading = false;\n            });\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Loading.start();\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                getComments();\n                Loading.end();\n                scope.closeModal();\n              });\n          }\n        }\n\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('buy', buyDirective);\n\n    function buyDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            link: buyLink\n        };\n\n        function buyLink(scope, elem) {\n            elem.bind('click', function () {\n                var url     = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n\n                if(window.cordova ) {\n                    cordova\n                        .ThemeableBrowser\n                        .open(url, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#333333',\n                                showPageTitle: true\n                            },\n                            closeButton: {\n                                image: 'close',\n                                imagePressed: 'close_pressed',\n                                align: 'left',\n                                event: 'closePressed'\n                            },\n                            backButtonCanClose: true\n                        });\n                } else {\n                    window.open(url,'_blank');\n                }\n            });\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .factory('UserForm', UserFormFactory);\n\n  function UserFormFactory($translate) {\n\n    return {\n      login: login(),\n      register: register(),\n      profile: profile()\n    };\n\n    function login() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function register() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function profile() {\n      return [{\n        key: 'name',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.NAME'),\n          icon: 'icon-user',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        key: 'status',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.STATUS'),\n          icon: 'ion-quote',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'select',\n        key: 'gender',\n        templateOptions: {\n          label: $translate.instant('USER.FORM.GENDER'),\n          options: [{\n            'label': $translate.instant('USER.FORM.MAN'),\n            'id': 'male',\n          }, {\n            'label': $translate.instant('USER.FORM.WOMAN'),\n            'id': 'female',\n          }],\n          valueProp: 'id',\n          labelProp: 'label',\n          icon: 'icon-list',\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.user')\n        .factory('User', UserFactory);\n\n    function UserFactory($q, $window, AppConfig, Parse, $rootScope, $ionicHistory, $cordovaDevice, $facebook, $cordovaFacebook, Loading, $location, $state) {\n\n        var cordova  = $window.cordova;\n        var device   = cordova ? true : false;\n        var facebook = device ? $cordovaFacebook : $facebook;\n        var user;\n\n        return {\n            init: init,\n            addFollows: addFollows,\n            currentUser: currentUser,\n            register: register,\n            login: login,\n            profile: profile,\n            logout: logout,\n            update: update,\n            updateAvatar: updateAvatar,\n            forgot: forgot,\n            list: list,\n            find: find,\n            follow: follow,\n            avatar: avatar,\n            getFollowers: getFollowers,\n            getFollowing: getFollowing,\n            isFollow: isFollow,\n            mail: getMail,\n            facebookLogin: facebookLogin,\n            facebookLink: facebookLink,\n            facebookProfile: facebookProfile,\n            facebookFriends: facebookFriends,\n            facebookInvite: facebookInvite,\n            facebookAPI: facebookAPI\n        };\n\n\n        function init() {\n\n            void 0;\n\n            if (Parse.User.current()) {\n                user = Parse.User.current();\n                loadProfile();\n            } else {\n                void 0;\n            }\n        }\n\n\n        function currentUser() {\n            return user;\n        }\n\n\n        function loadProfile() {\n            user = Parse.User.current();\n            if (user) {\n                $rootScope.currentUser = user.attributes;\n                void 0;\n                return user;\n            } else {\n                logout();\n                return false;\n            }\n        }\n\n        function avatar(obj) {\n            if (obj.facebookimg) {\n                return obj.facebookimg;\n            } else {\n                return obj.img ? obj.img._url : 'img/user.png';\n            }\n        }\n\n        function login(form) {\n            var defer = $q.defer();\n            Parse\n                .User\n                .logIn(form.email, form.password, {\n                    success: function (resp) {\n                        void 0;\n                        loadProfile()\n                        defer.resolve($rootScope.currentUser);\n                    },\n                    error: function (user, err) {\n                        void 0;\n                        defer.reject(err);\n                    }\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook2(response) {\n            var defer = $q.defer();\n            void 0;\n            facebook\n                .api('me/?fields=id,name,email,gender,bio', ['public_profile'])\n                .then(function (dados) {\n                    void 0;\n\n                    var query = new Parse.Query(Parse.User);\n                    query\n                        .equalTo('email', dados.email)\n                        .first({\n                            success: function (user) {\n                                void 0;\n\n                                if (user) {\n                                    void 0;\n                                    if (user.get('facebook_complete') === Boolean(true)) {\n\n                                        loginFacebook(response)\n                                            .then(function (resp) {\n                                                void 0;\n\n                                                if (user.attributes.name === '') {\n                                                    void 0;\n                                                    var updateUser  = user.attributes;\n                                                    updateUser.name = dados.name;\n\n                                                    update(updateUser)\n                                                        .then(function () {\n                                                            defer.resolve({\n                                                                status: 0\n                                                            });\n                                                        });\n                                                } else {\n\n                                                    loadProfile(user);\n\n                                                    defer.resolve({\n                                                        status: 0\n                                                    });\n                                                }\n\n                                            });\n                                    } else {\n                                        void 0;\n\n\n                                        $rootScope.tempUser     = dados;\n                                        $rootScope.tempUser.facebookimg = 'https://graph.facebook.com/' + dados.id +\n                                            '/picture?width=250&height=250';\n\n                                        void 0;\n                                        defer.resolve({\n                                            status: 2\n                                        });\n\n                                    }\n\n                                } else {\n                                    void 0;\n\n                                    loginFacebook(response)\n                                        .then(function (newuser) {\n\n                                            void 0;\n\n                                            var form = {\n                                                name: dados.name,\n                                                facebook: dados.id,\n                                                email: dados.email,\n                                                gender: dados.gender,\n                                                facebook_complete: Boolean(true),\n                                                facebookimg: 'https://graph.facebook.com/' + dados.id +\n                                                '/picture?width=250&height=250'\n                                            };\n\n                                            update(form)\n                                                .then(function (resp) {\n                                                    void 0;\n\n                                                    defer.resolve({\n                                                        status: 1\n                                                    });\n                                                });\n\n\n                                        });\n\n\n                                }\n\n                            },\n                            error: function (error) {\n                                void 0;\n                                defer.reject(error);\n\n                            }\n                        });\n\n                }, function (resp) {\n                    void 0;\n                    defer.reject(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookLogin() {\n            var defer = $q.defer();\n\n            void 0;\n\n            facebook\n                .getLoginStatus()\n                .then(function (respStatus) {\n\n                    if (respStatus.status === 'connected') {\n                        loginFacebook2(respStatus)\n                            .then(function (deferStatus) {\n                                defer.resolve(deferStatus);\n                            });\n                    } else {\n\n                        facebook\n                            .login([\n                                'public_profile',\n                                'email'\n                            ])\n                            .then(function (response) {\n\n                                    void 0;\n                                    if (response.status === undefined) {\n                                        defer.reject('reject');\n                                    }\n\n                                    void 0;\n                                    loginFacebook2(response)\n                                        .then(function (deferStatus) {\n                                            defer.resolve(deferStatus);\n                                        });\n                                    ;\n                                },\n                                function (response) {\n                                    void 0;\n                                    defer.reject(JSON.stringify(response));\n\n                                });\n                    };\n                });\n\n\n            return defer.promise;\n        }\n\n\n        function facebookProfile() {\n            var defer = $q.defer();\n            facebookLogin()\n                .then(function (resp) {\n\n                    facebook\n                        .api('me', '')\n                        .then(function (response) {\n                            defer.resolve([\n                                resp,\n                                response\n                            ]);\n                        }, function (error) {\n                            void 0;\n                            defer.reject(error);\n                        });\n                });\n            return defer.promise;\n        }\n\n\n        function register(form) {\n            var defer = $q.defer();\n\n            var formData      = form;\n            formData.username = form.email;\n\n            void 0;\n            new Parse\n                .User(formData)\n                .signUp(null, {\n                    success: function (resp) {\n                        var user = loadProfile(resp);\n                        void 0;\n                        Loading.end();\n                        defer.resolve(user);\n                    },\n                    error: function (user, resp) {\n                        void 0;\n                        if (resp.code === 125) {\n                            defer.reject('Please specify a valid email address');\n                        } else if (resp.code === 202) {\n                            defer.reject('The email address is already registered');\n                        } else {\n                            defer.reject(resp);\n                        }\n                    }\n                });\n            return defer.promise;\n        }\n\n        function forgot(email) {\n            var defer = $q.defer();\n            new Parse.User.requestPasswordReset(email, {\n                success: function (resp) {\n                    defer.resolve(resp);\n                },\n                error: function (err) {\n                    if (err.code === 125) {\n                        defer.reject('Email address does not exist');\n                    } else {\n                        defer.reject('An unknown error has occurred, please try again');\n                    }\n                }\n            });\n            return defer.promise;\n        }\n\n        function logout() {\n            new Parse.User.logOut();\n            delete $rootScope.currentUser;\n            $state.go(AppConfig.routes.login, {\n                clear: true\n            });\n            $ionicHistory.clearCache();\n        }\n\n        function update(form) {\n            var defer = $q.defer();\n            Loading.start();\n            var currentUser = Parse.User.current();\n\n            angular.forEach(form, function (value, key) {\n                void 0;\n                currentUser.set(key, value);\n            });\n\n            if (cordova) {\n                var cordovaDevice = {\n                    device: $cordovaDevice.getDevice(),\n                    cordova: $cordovaDevice.getCordova(),\n                    model: $cordovaDevice.getModel(),\n                    platform: $cordovaDevice.getPlatform(),\n                    uuid: $cordovaDevice.getUUID(),\n                    version: $cordovaDevice.getVersion()\n                };\n\n                currentUser.set('device', cordovaDevice.device);\n                currentUser.set('deviceCordova', cordovaDevice.cordova);\n                currentUser.set('deviceModel', cordovaDevice.model);\n                currentUser.set('devicePlatform', cordovaDevice.platform);\n                currentUser.set('deviceUuiid', cordovaDevice.uuid);\n                currentUser.set('deviceVersion', cordovaDevice.version);\n            }\n\n            currentUser\n                .save()\n                .then(function (resp) {\n                    void 0;\n                    loadProfile();\n                    Loading.end();\n                    defer.resolve(resp);\n                });\n\n\n            return defer.promise;\n        }\n\n        function updateAvatar(photo) {\n            var defer = $q.defer();\n\n            Loading.start();\n\n            if (photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: photo\n                });\n\n                return imageFile\n                    .save()\n                    .then(function () {\n\n                        photo = null;\n\n                        var currentUser = Parse.User.current();\n\n                        currentUser.set('img', imageFile);\n\n                        currentUser\n                            .save()\n                            .then(function (resp) {\n                                loadProfile();\n                                Loading.end();\n                                defer.resolve(resp);\n                            });\n\n\n                    }, function (error) {\n                        Loading.end();\n                        void 0;\n                        defer.reject(error);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function facebookFriends() {\n            var defer = $q.defer();\n\n            facebook\n                .api('me/friends')\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookAPI(api) {\n            var defer = $q.defer();\n\n            facebook\n                .api(api)\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookInvite() {\n            var defer = $q.defer();\n            if (device) {\n                facebook\n                    .showDialog({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            } else {\n                facebook\n                    .ui({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function list() {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('User')\n                .notEqualTo('user', Parse.User.current())\n                .find()\n                .then(function (resp) {\n                    var users = [];\n                    angular.forEach(resp, function (item) {\n                        var user = item.attributes;\n                        user.id  = item.id;\n                        user     = avatar(user);\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', item)\n                            .count()\n                            .then(function (follow) {\n                                user.follow = follow;\n\n                                void 0;\n                                users.push(user);\n                            });\n                    });\n                    defer.resolve(users);\n                });\n\n            return defer.promise;\n        }\n\n        function find(userId) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('User')\n                .equalTo('objectId', userId)\n                .first()\n                .then(function (resp) {\n                    defer.resolve(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function profile(userId) {\n            var defer = $q.defer();\n\n            find(userId)\n                .then(function (resp) {\n                    void 0;\n                    var user = loadProfile(resp);\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', resp)\n                        .count()\n                        .then(function (gallery) {\n                            user.galleries = gallery;\n\n                            new Parse\n                                .Query('UserFollow')\n                                .equalTo('user', resp)\n                                .count()\n                                .then(function (foloow) {\n                                    user.follow = foloow;\n\n                                    new Parse\n                                        .Query('UserFollow')\n                                        .equalTo('follow', resp)\n                                        .count()\n                                        .then(function (follow2) {\n                                            user.follow2 = follow2;\n                                            defer.resolve(user);\n                                        });\n\n                                });\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function isFollow(userId) {\n            var defer = $q.defer();\n\n            void 0;\n\n            find(userId)\n                .then(function (followUser) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', Parse.User.current())\n                        .equalTo('follow', followUser)\n                        .count()\n                        .then(function (respFollow) {\n                            defer.resolve(respFollow);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n\n        function getFollowers(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('follow', user)\n                        .count()\n                        .then(function (qtdFollowers) {\n                            defer.resolve(qtdFollowers);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getFollowing(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdFollowing) {\n                            defer.resolve(qtdFollowing);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function follow(status, user) {\n            var defer     = $q.defer();\n            var qtdFollow = Parse.User.current().qtdFollow ? parseInt(Parse.User.current().qtdFollow) : 0;\n\n\n            find(user.id)\n                .then(function (follow) {\n\n                    if (status) {\n                        void 0;\n\n                        var Object = Parse.Object.extend('UserFollow');\n                        var item   = new Object();\n\n                        item.set('user', Parse.User.current());\n                        item.set('follow', follow);\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n\n                                update({\n                                    qtdFollow: qtdFollow + 1\n                                })\n                                    .then(function (userResp) {\n                                        void 0;\n                                        defer.resolve(userResp);\n                                    });\n\n                            }, function (err) {\n                                defer.resolve(err);\n                            });\n                    } else {\n                        void 0;\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', follow)\n                            .first()\n                            .then(function (item) {\n                                item\n                                    .destroy()\n                                    .then(function (resp) {\n\n                                        update({\n                                            qtdFollow: qtdFollow - 1\n                                        })\n                                            .then(function (userResp) {\n                                                void 0;\n                                                defer.resolve(userResp);\n                                            });\n                                    }, function (err) {\n                                        defer.resolve(err);\n                                    });\n                            });\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function addFollows(users) {\n            void 0;\n            var promises = [];\n            angular.forEach(users, function (user) {\n                promises.push(follow(true, user.id));\n            });\n            return $q.all(promises);\n        }\n\n        function getMail(email) {\n            var defer = $q.defer();\n            Loading.start();\n            new Parse\n                .Query('User')\n                .equalTo('email', email)\n                .first()\n                .then(function (resp) {\n                    Loading.end();\n                    defer.resolve(resp);\n                }, function (resp) {\n                    Loading.end();\n                    defer.reject(resp);\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook(response) {\n            var defer = $q.defer();\n\n            var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n            Parse.FacebookUtils.logIn({\n                id: response['authResponse']['userID'],\n                access_token: response['authResponse']['accessToken'],\n                expiration_date: data\n            }, {\n                success: function (response) {\n                    var user = loadProfile(response);\n                    void 0;\n                    defer.resolve(user);\n                }\n            });\n\n            return defer.promise;\n        }\n\n        function facebookLink() {\n            var defer = $q.defer();\n\n            facebook\n                .login(['email'])\n                .then(function (response) {\n\n                        void 0;\n\n                        var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n                        var user = Parse.User.current();\n                        void 0;\n\n                        Parse.FacebookUtils.link(user, {\n                            id: response['authResponse']['userID'],\n                            access_token: response['authResponse']['accessToken'],\n                            expiration_date: data\n                        }, {\n                            success: function (user) {\n                                void 0;\n                                user.set('facebook', response['authResponse']['userID']);\n                                user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] +\n                                    '/picture?width=250&height=250');\n                                user.set('facebook_complete', Boolean(true));\n                                user.save()\n                                    .then(function (response) {\n                                        var user = loadProfile(response);\n                                        void 0;\n                                        defer.resolve(user);\n                                    });\n                            }\n                        });\n                    },\n                    function (response) {\n                        void 0;\n\n                    });\n\n\n            return defer.promise;\n        }\n\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramShare', PhotogramShareFactory);\n\n  function PhotogramShareFactory(AppConfig, $q, $ionicActionSheet, Notify, $cordovaSocialSharing) {\n\n    var message = {\n      title: ('Join me from ') + AppConfig.app.name + '!',\n      subject: (\"I'm at \") + AppConfig.app.name + '!. ' + (\n        'Install the application and follow me!') + ' ' + AppConfig.app.url,\n      image: AppConfig.app.image,\n      link: AppConfig.app.url\n    };\n\n    return {\n      share: share,\n      open: open\n    };\n\n    function share(social, option) {\n      var defer = $q.defer();\n\n      function success(resp) {\n        Notify.alert({\n          title: ('Thanks'),\n          text: ('Thank you for sharing!!')\n        });\n        defer.resolve(resp);\n      }\n\n      function error(err) {\n        void 0;\n        defer.reject();\n      }\n\n      var detail = option ? option : message;\n\n      switch (social) {\n      case 'instagram':\n        window\n          .plugins\n          .socialsharing\n          .shareViaInstagram(message.text, message.image, message.link)\n          .then(success, error);\n        break;\n\n      case 'facebook':\n        $cordovaSocialSharing\n          .shareViaFacebook(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'twitter':\n        $cordovaSocialSharing\n          .shareViaTwitter(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'whatsapp':\n        $cordovaSocialSharing\n          .shareViaWhatsApp(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'email':\n        $cordovaSocialSharing\n          .shareViaEmail(detail.title, detail.subject ? detail.subject : detail.title)\n          .then(success, error);\n        break;\n      }\n\n      return defer.promise;\n    }\n\n    function open() {\n      var modal = $ionicActionSheet\n        .show({\n          buttons: [{\n            text: '<i class=\"icon ion-social-instagram\"></i>' + ('Instagram')\n          }, {\n            text: '<i class=\"icon ion-social-facebook\"></i>' + ('Facebook')\n          }, {\n            text: '<i class=\"icon ion-social-twitter\"></i>' + ('Twitter')\n          }, {\n            text: '<i class=\"icon ion-social-whatsapp\"></i>' + ('Whatsapp')\n          }, {\n            text: '<i class=\"icon ion-email\"></i>' + ('Email')\n          }],\n          titleText: ('Share'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n            return false;\n          },\n          buttonClicked: function (index) {\n            void 0;\n            switch (index) {\n            case 0:\n              share('instagram');\n              break;\n            case 1:\n              share('facebook');\n              break;\n            case 2:\n              share('twitter');\n              break;\n            case 3:\n              share('whatsapp');\n              break;\n            case 4:\n              share('email');\n              break;\n            }\n            modal();\n          }\n        });\n\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramSetting', PhotogramSettingFactory);\n\n  function PhotogramSettingFactory($window, Cache, $q) {\n\n    var CacheSetting = Cache.model('Setting', {\n      mode: 'sessionStorage'\n    });\n    var SettingKeys = CacheSetting.keys();\n\n    return {\n      init: init,\n      get: get\n    };\n\n    function init() {\n      var defer = $q.defer();\n      var data = [];\n\n      if (SettingKeys.length) {\n        var settings = Cache.data('Setting');\n        void 0;\n        defer.resolve(settings);\n      } else {\n        new Parse\n          .Query('GallerySetting')\n          .find()\n          .then(function (resp) {\n            resp.map(function (item) {\n              var obj = {\n                key: item.attributes.key,\n                value: item.attributes.value\n              };\n              CacheSetting.put(obj.key, obj.value);\n              data.push(obj);\n\n            });\n            defer.resolve(data);\n          }, error);\n      }\n\n\n      return defer.promise;\n\n    }\n\n    function error(err) {\n      void 0;\n    }\n\n    function get(key) {\n      return CacheSetting.get(key);\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramForm', PhotogramFormFactory);\n\n  function PhotogramFormFactory($translate) {\n\n    var form = [{\n      key: 'title',\n      type: 'input',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('PHOTOGRAM.FORM.TITLE'),\n        icon: 'icon-envelope',\n        required: true,\n        iconPlaceholder: true,\n        focus: true\n      }\n    }, {\n      key: 'geo',\n      type: 'toggle',\n      templateOptions: {\n        label: $translate.instant('PHOTOGRAM.FORM.GEOLOCATION'),\n        toggleClass: 'positive'\n      }\n    }];\n\n    var formComment = [{\n      key: 'text',\n      type: 'input',\n      templateOptions: {\n        placeholder: $translate.instant('PHOTOGRAM.FORM.ADDCOMMENT'),\n        type: 'text',\n        required: true,\n        focus: true\n      }\n    }];\n\n    var formShare = [{\n      key: 'facebook',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Facebook',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'twitter',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Twitter',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'whatsapp',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Whatsapp',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'SMS',\n      type: 'toggle',\n      templateOptions: {\n        label: 'SMS',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'email',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Email',\n        toggleClass: 'positive'\n      }\n    }, ];\n    return {\n      form: form,\n      formComment: formComment,\n      formShare: formShare\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('app.photogram')\n        .factory('Photogram', PhotogramFactory);\n\n    function PhotogramFactory($q, Parse, User, Loading) {\n\n        var limitComment = 5;\n\n        return {\n            all: all,\n            feed: feed,\n            post: post,\n            get: get,\n            deletePhoto: deletePhoto,\n            find: find,\n            nearby: nearby,\n            addActivity: addActivity,\n            listActivity: listActivity,\n            getUserGallery: getUserGallery,\n            getUserGalleryQtd: getUserGalleryQtd,\n            allComment: allComment,\n            addComment: addComment,\n            getComments: getComments,\n            updateComment: updateComment,\n            deleteComment: deleteComment,\n            getLikes: getLikes,\n            likeGallery: likeGallery,\n            getFollow: getFollow,\n            search: search\n        };\n\n\n        function deletePhoto(galleryId) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    resp.destroy();\n                    defer.resolve(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function post(_params) {\n            var defer       = $q.defer();\n            var ImageObject = Parse.Object.extend('Gallery');\n\n            if (_params.photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: _params.photo\n                });\n\n                imageFile\n                    .save()\n                    .then(function () {\n\n                        _params.photo = null;\n\n                        var imageObject = new ImageObject();\n\n                        imageObject.set('title', _params.title);\n                        imageObject.set('user', Parse.User.current());\n                        imageObject.set('img', imageFile);\n\n                        if (_params.location !== undefined) {\n                            imageObject.set('location', new Parse.GeoPoint(_params.location.latitude, _params.location.longitude));\n                        }\n\n                        imageObject\n                            .save()\n                            .then(function (resp) {\n                                void 0;\n                                defer.resolve(resp);\n                            });\n\n                    }, function (error) {\n                        void 0;\n                        defer.reject(error);\n                    });\n\n            } else {\n                var imageObject = new ImageObject();\n\n                imageObject.set('caption', _params.caption);\n\n                return imageObject.save();\n\n            }\n\n\n            return defer.promise;\n        }\n\n        function allComment(galleryId) {\n            var defer = $q.defer();\n\n            var gallery = new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    void 0;\n                    return resp;\n                });\n\n            new Parse\n                .Query('GalleryComment')\n                .equalTo('galery', gallery)\n                .descending('createdAt')\n                .find()\n                .then(function (resp) {\n                    var objs = [];\n                    angular.forEach(resp, function (item) {\n                        var obj  = item.attributes;\n                        obj.id   = item.id;\n                        obj.user = item.attributes.commentBy;\n                        objs.push(obj);\n                    });\n                    Loading.end();\n                    defer.resolve(objs);\n                });\n            return defer.promise;\n        }\n\n        function getComments(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryComment')\n                        .equalTo('gallery', gallery)\n                        .include('commentBy')\n                        .ascending('createdAt')\n                        .find()\n                        .then(function (resp) {\n                            var comments = [];\n                            resp.map(function (item) {\n                                void 0;\n                                var obj         = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    created: item.createdAt,\n                                    user: item.attributes.commentBy\n                                };\n                                obj.userAvatar  = User.avatar(obj.user.attributes)\n                                comments.push(obj);\n                            });\n                            defer.resolve(comments);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function updateComment(obj) {\n            var defer = $q.defer();\n            void 0;\n            new Parse\n                .Query('GalleryComment')\n                .get(obj.id, function (comment) {\n                    void 0;\n                    comment.set('text', obj.text);\n                    comment.save();\n                    defer.resolve();\n                });\n            return defer.promise;\n        }\n\n        function deleteComment(item) {\n            var defer = $q.defer();\n            new Parse\n                .Query('GalleryComment')\n                .get(item.id, deleteItem);\n\n            function deleteItem(comment) {\n                comment.destroy(function () {\n                    defer.resolve();\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function getFollow(userId) {\n            var defer = $q.defer();\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .include('follow')\n                        .find()\n                        .then(function (resp) {\n                            var data = [];\n                            angular.forEach(resp, function (item) {\n                                void 0;\n                                var obj        = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    user: item.attributes.follow.attributes,\n                                    created: item.createdAt\n                                };\n                                obj.userAvatar = User.avatar(obj.user);\n\n                                data.push(obj.user);\n                            });\n                            defer.resolve(data);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getLikes(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    if (gallery.length) {\n                        new Parse\n                            .Query('GalleryLike')\n                            .equalTo('gallery', gallery)\n                            .include('user')\n                            .ascending('createdAt')\n                            .find()\n                            .then(function (resp) {\n                                var objs = [];\n                                angular.forEach(resp, function (item) {\n                                    void 0;\n                                    var obj        = {\n                                        id: item.id,\n                                        text: item.attributes.text,\n                                        user: item.attributes.user.attributes,\n                                        created: item.createdAt\n                                    };\n                                    obj.userAvatar = User.avatar(obj.user);\n                                    objs.push(obj);\n                                });\n                                void 0;\n                                defer.resolve(objs);\n                            });\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n\n        function nearby(position) {\n            var defer = $q.defer();\n            var data  = [];\n\n            var point       = new Parse.GeoPoint(position);\n            var maxDistance = 1;\n\n            new Parse\n                .Query('Gallery')\n                .include('user')\n                .withinRadians('location', point, maxDistance)\n                .limit(50)\n                .find()\n                .then(function (resp) {\n                    if (resp.length) {\n                        resp.map(function (value) {\n                            var size     = 100;\n                            var obj      = value.attributes;\n                            obj.id       = value.id;\n                            obj.img      = User.avatar(value.attributes);\n                            obj.created  = value.createdAt;\n                            obj.icon     = {\n                                size: {\n                                    width: 100,\n                                    height: 100\n                                },\n\n                                scaledSize: {\n                                    width: size / 2,\n                                    height: size / 2\n                                },\n                                url: 'img/icon.png'\n                            };\n                            obj.icon.url = obj.img;\n                            obj.coords   = {\n                                latitude: obj.location._latitude,\n                                longitude: obj.location._longitude\n                            };\n                            data.push(obj);\n                        });\n\n\n                        defer.resolve(data);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function search(string, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 15;\n\n            new Parse\n                .Query('Gallery')\n                .limit(limit)\n                .skip(page * limit)\n                .matches('title', '* ' + string + '.*')\n                .include('user')\n                .find()\n                .then(function (resp) {\n                    resp.map(function (value) {\n                        void 0;\n                        var obj = {\n                            id: value.id,\n                            item: value.attributes,\n                            src: value.attributes.img.url(),\n                            created: value.createdAt,\n                            user: value.attributes.user.id\n                        };\n                        data.push(obj);\n                    });\n                    defer.resolve(data);\n                });\n\n            return defer.promise;\n        }\n\n        function feed(page, user) {\n            var defer   = $q.defer();\n            var _limit  = 15;\n            var _result = {\n                total: 0,\n                galleries: []\n            };\n\n            function _query() {\n                if (user) {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt')\n                        .equalTo('user', user);\n                } else {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt');\n                }\n            };\n\n            _query()\n                .count()\n                .then(function (totalGallery) {\n                    void 0;\n                    _result.total = totalGallery;\n                    _query()\n                        .include('user')\n                        .limit(_limit)\n                        .skip(page * _limit)\n                        .find()\n                        .then(function (resp) {\n\n                            var qtd = resp.length;\n\n                            if (!qtd) {\n                                defer.reject(true);\n                            }\n\n                            var cb = _.after(resp.length, function () {\n                                defer.resolve(_result);\n                            });\n\n                            _.each(resp, function (item) {\n\n                                var _likes    = item.relation('likes');\n                                var _comments = item.relation('comments');\n\n                                _likes\n                                    .query()\n                                    .equalTo('gallery', item)\n                                    .equalTo('user', Parse.User.current())\n                                    .count()\n                                    .then(function (liked) {\n\n                                        _comments\n                                            .query()\n                                            .include('commentBy')\n                                            .ascending('createdAt')\n                                            .limit(limitComment)\n                                            .find()\n                                            .then(function (comments) {\n\n                                                var commentsData = [];\n                                                comments.map(function (item) {\n                                                    var user = item.attributes.commentBy;\n\n                                                    var comment = {\n                                                        id: item.id,\n                                                        text: item.attributes.text,\n                                                        user: user,\n                                                        created: item.attributes.createdAt\n                                                    };\n                                                    comment.userAvatar = User.avatar(comment.user.attributes);\n                                                    commentsData.push(comment);\n                                                });\n\n                                                var obj = {\n                                                    id: item.id,\n                                                    item: angular.copy(item.attributes),\n                                                    created: item.createdAt,\n                                                    likes: item.attributes.qtdLike || 0,\n                                                    liked: liked,\n                                                    src: item.attributes.img.url(),\n                                                    comments: commentsData,\n                                                    user: item.attributes.user\n                                                };\n                                                obj.userAvatar =  User.avatar(obj.user.attributes);\n                                                void 0;\n                                                _result.galleries.push(obj);\n                                                cb();\n                                            });\n                                    });\n\n                            });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function all(page, userId) {\n            var defer = $q.defer();\n            var limit = 18;\n            var data  = [];\n\n            var query;\n\n            if (userId) {\n                void 0;\n                var loadUser = new Parse\n                    .Query('User')\n                    .equalTo('objectId', userId)\n                    .first(userId, function (resp) {\n                        return resp;\n                    });\n\n\n                query = new Parse\n                    .Query('Gallery')\n                    .descending('createdAt')\n                    .include('user')\n                    .limit(limit)\n                    .equalTo('user', loadUser)\n                    .skip(page * limit)\n                    .find();\n            } else {\n\n                query = new Parse\n                    .Query('Gallery')\n                    .descending('createdAt')\n                    .include('user')\n                    .limit(limit)\n                    .skip(page * limit)\n                    .find();\n            }\n            query\n                .then(function (resp) {\n                    if (resp.length) {\n\n                        var cb = _.after(resp.length, function () {\n                            defer.resolve(data);\n                        });\n\n                        _.each(resp, function (item) {\n\n                            var likes    = item.relation('likes');\n                            var comments = item.relation('comments');\n\n                            likes\n                                .query()\n                                .equalTo('gallery', item)\n                                .equalTo('user', Parse.User.current())\n                                .count()\n                                .then(function (liked) {\n\n                                    comments\n                                        .query()\n                                        .include('commentBy')\n                                        .ascending('createdAt')\n                                        .limit(limitComment)\n                                        .find()\n                                        .then(function (comments) {\n                                            void 0;\n\n                                            var commentsData = [];\n\n                                            angular.forEach(comments, function (item) {\n                                                var user        = item.attributes.commentBy;\n                                                var comment     = {\n                                                    id: item.id,\n                                                    text: item.attributes.text,\n                                                    user: user.attributes\n                                                };\n                                                comment.userAvatar    = User.avatar(comment.user);\n                                                commentsData.push(comment);\n                                            });\n\n                                            var obj = {\n                                                id: item.id,\n                                                item: item.attributes,\n                                                created: item.createdAt,\n                                                likes: likes,\n                                                user: item.attributes,\n                                                comments: commentsData\n                                            };\n                                            obj.userAvatar = User.avatar(obj.user);\n\n                                            obj.item.liked = liked;\n\n                                            if (item.attributes.user) {\n                                                obj.user = item.attributes.user.attributes,\n                                                    obj.user = item.attributes.user,\n                                                    obj.userAvatar = User.avatar(obj.user);\n                                            } else {\n                                            }\n\n                                            data.push(obj);\n                                            cb();\n                                        });\n                                });\n\n                        });\n                    } else {\n                        defer.reject(true);\n                    }\n\n                });\n\n            return defer.promise;\n        }\n\n        function get(item) {\n            var defer = $q.defer();\n\n            void 0;\n            Loading.start();\n\n            find(item)\n                .then(function (resp) {\n                    void 0;\n\n                    var likes    = resp.relation('likes');\n                    var comments = resp.relation('comments');\n\n                    likes\n                        .query()\n                        .equalTo('gallery', item)\n                        .equalTo('user', Parse.User.current())\n                        .count()\n                        .then(function (liked) {\n\n                            likes\n                                .query()\n                                .count()\n                                .then(function (likes) {\n\n                                    comments\n                                        .query()\n                                        .include('commentBy')\n                                        .descending('createdAt')\n                                        .limit(limitComment)\n                                        .find()\n                                        .then(function (comments) {\n                                            void 0;\n\n                                            var commentsData = [];\n\n                                            angular.forEach(comments, function (item) {\n                                                var comment     = {\n                                                    id: item.id,\n                                                    text: item.attributes.text,\n                                                    user: item.attributes.commentBy.attributes\n                                                };\n                                                comment.userAvatar = User.avatar(comment.user);\n                                                commentsData.push(comment);\n                                            });\n\n                                            var obj     = {\n                                                id: item.id,\n                                                item: item.attributes,\n                                                created: item.createdAt,\n                                                likes: likes,\n                                                liked: liked,\n                                                user: item.attributes.user.attributes,\n                                                comments: commentsData\n                                            };\n                                            obj.userAvatar    = User.avatar(obj.user);\n\n                                            defer.resolve(obj);\n                                            Loading.end();\n                                        });\n                                });\n                        });\n\n                });\n\n            return defer.promise;\n        }\n\n\n        function find(id) {\n            var defer = $q.defer();\n            new Parse\n                .Query('Gallery')\n                .include('user')\n                .get(id)\n                .then(function (resp) {\n                    defer.resolve(resp);\n                });\n            return defer.promise;\n        }\n\n\n        function addComment(form) {\n            var defer = $q.defer();\n            void 0;\n\n            find(form.galleryId)\n                .then(function (gallery) {\n                    var Object = Parse.Object.extend('GalleryComment');\n                    var item   = new Object({});\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n                    item.set('commentBy', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            addActivity({\n                                galleryId: gallery.id,\n                                action: 'add comment'\n                            });\n\n                            gallery\n                                .relation('comments')\n                                .add(resp);\n\n                            gallery\n                                .save()\n                                .then(function (resp) {\n                                    void 0;\n                                    defer.resolve(resp);\n                                });\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n        function isLiked(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (resp) {\n                            void 0;\n                            if (resp === undefined) {\n                                defer.reject(resp);\n                            } else {\n                                defer.resolve(resp);\n                            }\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function addLike(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    var Object = new Parse.Object.extend('GalleryLike');\n                    var item   = new Object({});\n\n                    item.set('user', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    void 0;\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            var likes = parseInt(gallery.attributes.qtdLike) ? parseInt(gallery.attributes.qtdLike + 1) : 1;\n                            void 0;\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').add(resp);\n\n                            void 0;\n\n                            gallery\n                                .save()\n                                .then(function (newGallery) {\n                                    void 0;\n                                    defer.resolve({\n                                        liked: true,\n                                        likes: likes\n                                    });\n                                }, function (err) {\n                                    void 0;\n                                    defer.reject(err);\n                                });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function removeLike(galleryId) {\n\n            var defer = $q.defer();\n            find(galleryId)\n                .then(function (gallery) {\n\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (like) {\n\n                            var likes = parseInt(gallery.attributes.qtdLike - 1);\n                            if (likes < 0) {\n                                likes = 0;\n                            }\n\n                            void 0;\n\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').remove(like);\n\n                            like\n                                .destroy(function (resp) {\n                                    if (resp) {\n                                        void 0;\n                                        gallery\n                                            .save()\n                                            .then(function (newGallery) {\n                                                void 0;\n\n                                                defer.resolve({\n                                                    liked: false,\n                                                    likes: newGallery.attributes.qtdLike\n                                                });\n\n                                            }, function (err) {\n                                                void 0;\n                                                defer.reject(err);\n                                            });\n                                    }\n                                });\n\n\n                        });\n\n                });\n            return defer.promise;\n        }\n\n        function likeGallery(gallery) {\n            var defer = $q.defer();\n\n            isLiked(gallery)\n                .then(function (resp) {\n                    void 0;\n                    var promise = '';\n\n                    if (resp) {\n                        void 0;\n                        promise = removeLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'unlike like'\n                        });\n\n                    } else {\n                        void 0;\n                        promise = addLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'add like'\n                        });\n                    }\n\n                    promise\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n\n                })\n                .catch(function (err) {\n                    void 0;\n\n                    addActivity({\n                        galleryId: gallery,\n                        action: 'add like'\n                    });\n\n                    addLike(gallery)\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getUserGalleryQtd(userId) {\n            var defer = $q.defer();\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdGalleries) {\n                            defer.resolve(qtdGalleries);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getUserGallery(userId, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 9;\n\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .descending('createdAt')\n                        .include('user')\n                        .limit(limit)\n                        .skip(page * limit)\n                        .find()\n                        .then(function (resp) {\n\n                            if (resp.length) {\n                                var cb = _.after(resp.length, function () {\n                                    defer.resolve(data);\n                                });\n\n                                _.each(resp, function (item) {\n\n                                    var likes    = item.relation('likes');\n                                    var comments = item.relation('comments');\n\n                                    likes\n                                        .query()\n                                        .equalTo('gallery', item)\n                                        .equalTo('user', Parse.User.current())\n                                        .count()\n                                        .then(function (liked) {\n\n                                            likes\n                                                .query()\n                                                .count()\n                                                .then(function (likes) {\n\n                                                    comments\n                                                        .query()\n                                                        .include('commentBy')\n                                                        .descending('createdAt')\n                                                        .limit(limitComment)\n                                                        .find()\n                                                        .then(function (comments) {\n                                                            var commentsData = [];\n\n                                                            angular.forEach(comments, function (item) {\n                                                                var comment     = {\n                                                                    id: item.id,\n                                                                    text: item.attributes.text,\n                                                                    user: item.attributes.commentBy.attributes\n                                                                };\n                                                                comment.userAvatar = User.avatar(comment.user);\n                                                                commentsData.push(comment);\n                                                            });\n\n                                                            var obj  = {\n                                                                id: item.id,\n                                                                item: item.attributes,\n                                                                src: item.attributes.img.url(),\n                                                                created: item.createdAt,\n                                                                likes: likes,\n                                                                liked: liked,\n                                                                comments: commentsData,\n                                                                user: item.attributes.user.attributes\n                                                            };\n                                                            obj.userAvatar = User.avatar(obj.user);\n\n                                                            data.push(obj);\n                                                            cb();\n                                                        });\n                                                });\n                                        });\n\n                                });\n                            } else {\n                                defer.reject(true);\n                            }\n                        }, function () {\n                            defer.reject(true);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function listActivity(page) {\n            var defer = $q.defer();\n            var limit = 20;\n\n            void 0;\n\n\n            new Parse\n                .Query('GalleryActivity')\n                .include('user')\n                .include('gallery')\n                .descending('createdAt')\n                .limit(limit)\n                .skip(page * limit)\n                .find()\n                .then(function (resp) {\n                    if (resp.length) {\n                        var data = [];\n                        resp.map(function (item) {\n                            var obj = {\n                                id: item.id,\n                                user: item.attributes.user ? item.attributes.user.attributes : {\n                                    name: 'Nulled',\n                                    img: {\n                                        _url: 'img/user.png'\n                                    }\n                                },\n                                img: item.attributes.gallery ? item.attributes.gallery.attributes.img : null,\n                                action: item.attributes.action,\n                                created: item.attributes.createdAt\n                            };\n                            obj.userAvatar = User.avatar(obj.user)\n                            data.push(obj);\n                        });\n                        defer.resolve(data);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function addActivity(data) {\n\n            void 0;\n\n            if (data.galleryId) {\n                find(data.galleryId)\n                    .then(function (gallery) {\n                        var Object = Parse.Object.extend('GalleryActivity');\n                        var item   = new Object({});\n\n                        item.set('user', Parse.User.current());\n                        item.set('gallery', gallery);\n                        item.set('action', data.action);\n\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n                            });\n                    });\n            } else {\n                var Object = Parse.Object.extend('GalleryActivity');\n                var item   = new Object({});\n\n                item.set('user', Parse.User.current());\n                item.set('action', data.action);\n\n                item.save()\n                    .then(function (resp) {\n                        void 0;\n                    });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-photo', [\n      'ionic',\n      'ngCordova',\n      'jrCrop'\n    ])\n    .constant('config', {\n      path: 'app/component/ion-photo'\n    })\n    .config(configTranslate);\n\n  function configTranslate($translatePartialLoaderProvider, config) {\n    $translatePartialLoaderProvider.addPart(config.path);\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('Video', Video);\n\n  function Video($window, $q) {\n    var deferred = $q.defer();\n    function createFileEntry(fileURI) {\n      $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n        return copyFile(entry);\n      }, fail);\n    }\n\n    function copyFile(fileEntry) {\n      var name = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n      var newName = makeid() + name;\n\n      $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n          fileEntry.copyTo(fileSystem2, newName, function (succ) {\n            return onCopySuccess(succ);\n          }, fail);\n        },\n        fail\n      );\n    }\n\n    function onCopySuccess(entry) {\n      var name = entry.nativeURL.slice(0, -4);\n      $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n        return prevImageSuccess(prevSucc);\n      }, fail);\n    }\n\n    function prevImageSuccess(succ) {\n      var correctUrl = succ.slice(0, -4);\n      correctUrl += '.MOV';\n      deferred.resolve(correctUrl);\n    }\n\n    function fail(error) {\n      void 0;\n      deferred.reject('ERROR');\n    }\n\n    function makeid() {\n      var text = '';\n      var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      for (var i = 0; i < 5; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      }\n      return text;\n    }\n\n    return {\n      saveVideo: function (data) {\n        createFileEntry(data[0].localURL);\n        return promise;\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoService', PhotoService);\n\n  function PhotoService($ionicActionSheet, $translate, AppConfig, PhotogramShare, $jrCrop, $rootScope, $ionicModal,\n    $cordovaCamera, $cordovaCapture, $q) {\n\n    var tempImage;\n    var cordova = window.cordova;\n    var setting = {\n      jrCrop: true,\n      quality: 90,\n      allowEdit: false,\n      filter: true,\n      correctOrientation: true,\n      targetWidth: 300,\n      targetHeight: 300,\n      saveToPhotoAlbum: false,\n      allowRotation: false,\n      aspectRatio: 0\n    };\n\n    return {\n      open: openModal,\n      crop: cropModal,\n      filter: filterModal,\n      share: shareModal,\n    };\n\n    function openModal(option) {\n      var defer = $q.defer();\n      var options = {\n        jrCrop: option.jrCrop ? option.jrCrop : setting.jrCrop,\n        filter: option.filter ? option.filter : setting.filter,\n        quality: option.quality ? option.quality : setting.quality,\n        aspectRatio: option.aspectRatio ? option.aspectRatio : setting.aspectRatio,\n        allowRotation: option.allowRotation ? option.allowRotation : setting.allowRotation,\n        allowEdit: option.allowEdit ? option.allowEdit : setting.allowEdit,\n        correctOrientation: option.correctOrientation ? option.correctOrientation : setting.correctOrientation,\n        targetWidth: option.width ? option.width : setting.targetWidth,\n        targetHeight: option.height ? option.height : setting.targetHeight,\n        saveToPhotoAlbum: option.saveToPhotoAlbum ? option.saveToPhotoAlbum : setting.saveToPhotoAlbum,\n        destinationType: window.cordova ? Camera.DestinationType.DATA_URL : null,\n        encodingType: window.cordova ? Camera.EncodingType.JPEG : null,\n        popoverOptions: window.cordova ? CameraPopoverOptions : null,\n      };\n      var buttons = [{\n        text: '<i class=\"icon ion-ios-camera\"></i>' + $translate.instant('ION-PHOTO.CAMERA')\n      }, {\n        text: '<i class=\"icon ion-images\"></i>' + $translate.instant('ION-PHOTO.GALLERY')\n      },\n      ];\n      var actionSheet = $ionicActionSheet.show({\n        buttons: buttons,\n        titleText: $translate.instant('ION-PHOTO.SHARE'),\n        cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n        cancel: buttonCancel,\n        buttonClicked: buttonClicked\n      });\n\n      function buttonClicked(index) {\n        void 0;\n        actionSheet();\n        capture(index, options)\n          .then(cropModal)\n          .then(filterModal)\n          .then(function (resp) {\n            void 0;\n            defer.resolve(resp);\n          })\n          .catch(buttonCancel);\n      }\n\n\n      function buttonCancel(resp) {\n        actionSheet(resp);\n      }\n\n      return defer.promise;\n    }\n\n    function cropModal(image) {\n      var defer = $q.defer();\n\n      if (setting.jrCrop) {\n        $jrCrop\n          .crop({\n            url: image,\n            aspectRatio: setting.aspectRatio ? setting.aspectRatio : false,\n            allowRotation: setting.allowRotation ? setting.allowRotation : false,\n            width: setting.width ? setting.width : setting.targetWidth,\n            height: setting.height ? setting.height : setting.targetHeight,\n            cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n            chooseText: $translate.instant('ION-PHOTO.CROP')\n          })\n          .then(function (canvas) {\n            defer.resolve(canvas.toDataURL());\n          })\n          .catch(defer.reject);\n      } else {\n        defer.resolve(image);\n      }\n      return defer.promise;\n    }\n\n    function shareModal(image) {\n      var template =\n        '<ion-modal-view class=\"modal-share\"> <ion-header-bar class=\"bar-dark\"> <div class=\"title\">{{ \\'ION-PHOTO.SHARE\\' | translate }}</div> <button class=\"button button-positive\" ng-click=\"modal.hide()\"> <i class=\"icon ion-arrow-right-b\"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id=\"image\"> <img ng-src=\"{{form.photo}}\"> <div class=\"title\">{{ form.title }}</div></div> <ul class=\"list\"> <li class=\"padding\"> <button ng-repeat=\"social in sociais\" ng-click=\"share(form, social)\"class=\"button button-block button-{{ social }}\"><i class=\"icon ion-social-{{ social }}\"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';\n\n      if (image === undefined) return false;\n      var scope = $rootScope.$new(true);\n      var socials = [\n        'facebook',\n        'instagram',\n        'whatsapp',\n        'twitter'\n      ];\n\n      scope.sociais = socials;\n      scope.share = shareSocial;\n      scope.form = {\n        title: '',\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n      scope.modal.show();\n\n\n      function shareSocial(social, form) {\n        void 0;\n        PhotogramShare\n          .share(social, {\n            text: form.title,\n            image: form.photo,\n            link: AppConfig.app.url\n          });\n      }\n\n\n    }\n\n    function filterModal(image) {\n      var defer = $q.defer();\n\n      function openFilter(image) {\n        var templateFilter =\n          '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\" ng-click=\"cropImage()\"></button><div class=\"title\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-icon \" ng-click=\"submitFilter()\"><i class=\"icon ion-ios-arrow-thin-right\"></i></button></ion-header-bar><ion-content><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n        var scope = $rootScope.$new(true);\n        scope.closeFilter = closeFilter;\n        scope.submitFilter = submitFilter;\n        tempImage = image;\n        scope.form = {\n          photo: image\n        };\n\n        scope.modalFilter = $ionicModal.fromTemplate(templateFilter, {\n          scope: scope\n        });\n\n        scope.cropImage = function () {\n          scope.modalFilter.remove();\n          cropModal(tempImage)\n            .then(openFilter);\n        };\n\n        scope.modalFilter.show();\n\n        function closeFilter() {\n          defer.reject();\n          scope.modalFilter.hide();\n        }\n\n        function submitFilter() {\n          var canvas = window.document.getElementById('image');\n          var dataUrl = canvas.toDataURL();\n          scope.modalFilter.remove();\n          defer.resolve(dataUrl);\n        }\n\n      }\n\n      openFilter(image);\n\n      return defer.promise;\n    }\n\n\n    function capture(type, options) {\n      var defer = $q.defer();\n\n      if (type === 0) {\n        getPicture(0);\n      }\n\n      if (type === 1) {\n        getPicture(1);\n      }\n\n      if (type === 2) {\n        getVideo();\n      }\n\n      function getPicture(method) {\n        if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n        if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n        if (cordova) {\n          $cordovaCamera\n            .getPicture(options)\n            .then(defer.resolve, defer.reject);\n        } else {\n          var fileInput = angular.element('<input type=\"file\"/>');\n          fileInput[0].click();\n          fileInput.on('change', function (evt) {\n            tempImage = evt.currentTarget.files[0];\n            var reader = new FileReader();\n            reader.onload = function (evt) {\n              defer.resolve(evt.target.result);\n            };\n            reader.readAsDataURL(tempImage);\n          });\n        }\n      }\n\n      function getVideo() {\n        $cordovaCapture\n          .captureVideo({\n            limit: 1,\n            duration: 5\n          })\n          .then(function (mediaFiles) {\n            tempImage = mediaFiles[0].fullPath;\n            defer.resolve(tempImage);\n          }, defer.reject);\n      }\n\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoFilter', PhotoFilter);\n\n  function PhotoFilter($rootScope, $q, $ionicModal) {\n\n    return {\n      load: modalFilter\n    };\n\n    function modalFilter(image, done) {\n      var template =\n        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\"ng-click=\"closeCapture()\"></button><div class=\"title text-left\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-clear button-icon ion-ios-arrow-thin-right\"ng-click=\"submitCapture()\"></button></ion-header-bar><ion-content scroll=\"false\"><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n      var image = image.toDataURL();\n\n      var scope = $rootScope.$new(true);\n      scope.closeCapture = closeModalCapture;\n      scope.submitCapture = submitCapture;\n      scope.form = {\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n\n      scope.modal.show();\n\n\n      function submitCapture() {\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        void 0;\n        done(dataUrl);\n        closeModalCapture();\n      }\n\n      function closeModalCapture() {\n        scope.modal.hide();\n      }\n\n    }\n\n  }\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-photo')\n    .factory('CamanJs', CamanJsFactory);\n\n  function CamanJsFactory($q) {\n    var Caman = window.Caman;\n    var filters = [\n      'normal',\n      'vintage',\n      'lomo',\n      'clarity',\n      'sinCity',\n      'sunrise',\n      'crossProcess',\n      'orangePeel',\n      'love',\n      'grungy',\n      'jarques',\n      'pinhole',\n      'oldBoot',\n      'glowingSun',\n      'hazyDays',\n      'herMajesty',\n      'nostalgia',\n      'hemingway',\n      'concentrate'\n    ];\n\n    return {\n      filters: filters,\n      effect: filter,\n      reset: resetEffect\n    };\n\n    function filter(elem, effect, status) {\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      if (image) {\n        Caman(image, function () {\n          if (effect === 'normal') {\n            this.revert();\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n          if (effect in this) {\n            this[effect]();\n\n            if (status) {\n              this.revert();\n            }\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n        });\n      } else {\n        defer.reject();\n      }\n      return defer.promise;\n    }\n\n    function resetEffect(elem) {\n\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      Caman(image, function () {\n        this.revert();\n        defer.resolve(true);\n      });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilter', photoFilter);\n\n  function photoFilter(config, CamanJs) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.html',\n      link: function ($scope, elem) {\n        $scope.applyFilter = function (elem, effect) {\n          $scope.loading = true;\n          if (effect) {\n            CamanJs\n              .effect(elem, effect, true)\n              .then(function (resp) {\n                $scope.loading = false;\n              });\n          }\n        };\n      }\n    };\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilterCarousel', photoFilterCarousel);\n\n  function photoFilterCarousel(CamanJs, config) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '=',\n        apply: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.carousel.html',\n      link: function ($scope) {\n        $scope.filters = CamanJs.filters;\n        $scope.applyFilter = $scope.apply;\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-photo')\n        .directive('photoShare', photoShareDirective);\n\n    function photoShareDirective($state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n                                 PhotogramSetting, PhotoService) {\n        return {\n            restrict: 'A',\n            link: photoShareLink,\n            template: ''\n        };\n\n        function photoShareLink(scope, elem, attr) {\n            var path = AppConfig.path;\n\n            elem.bind('click', open)\n\n            function open() {\n                void 0;\n                var option = {\n                    crop: PhotogramSetting.get('imageCrop'),\n                    allowEdit: PhotogramSetting.get('imageEdit'),\n                    filter: true,\n                    allowRotation: PhotogramSetting.get('imageRotation'),\n                    quality: PhotogramSetting.get('imageQuality'),\n                    correctOrientation: PhotogramSetting.get('imageEdit'),\n                    targetWidth: PhotogramSetting.get('imageWidth'),\n                    targetHeight: PhotogramSetting.get('imageHeight'),\n                    saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n                };\n                void 0;\n\n                PhotoService\n                    .open(option)\n                    .then(modalPost)\n                    .catch(goHome);\n            }\n\n\n            function goHome() {\n                void 0;\n                $state.go('photogram.home');\n            }\n\n            function modalPost(image) {\n                $scope.closePost  = closeModalPost;\n                $scope.submitPost = submitPost;\n                $scope.form       = {\n                    title: '',\n                    location: '',\n                    photo: image,\n                    geo: false\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n                        scope: $scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        $scope.form.photo = image;\n                        $scope.modalPost  = modal;\n                        $scope.modalPost.show();\n                    });\n\n                function closeModalPost() {\n                    $scope.modalPost.hide();\n                    $scope.modalPost.remove();\n                    Loading.end();\n                }\n\n                function submitPost(resp) {\n                    var form = angular.copy(resp);\n                    void 0;\n                    Loading.start();\n                    Photogram\n                        .post(form)\n                        .then(function () {\n                            closeModalPost();\n                            $rootScope.$emit('filterModal:close');\n                            $rootScope.$emit('PhotogramHome:reload');\n                        });\n                }\n            }\n        }\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('ionCrop', ionCrop);\n\n  function ionCrop($jrCrop, $translate, $ionicActionSheet) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '=',\n        option: '=',\n        cropSave: '&'\n      },\n      template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n      link: ionCropLink\n    };\n\n    function ionCropLink($scope, element) {\n\n      $scope.action = action;\n      element.bind('click', getElem);\n      $scope.crop = crop;\n      angular.element(document.getElementById('browseBtn'))\n        .on('change', fileUpload);\n\n\n      function getElem() {\n        document.getElementById('browseBtn')\n          .click();\n      }\n\n      function action() {\n\n        $ionicActionSheet.show({\n          buttons: [{\n            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n          }, {\n            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n          }],\n          titleText: ('Change Image'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n          },\n          buttonClicked: function (index) {\n\n            if (index === 0) {\n              void 0;\n            }\n            if (index === 1) {\n              document.getElementById('browseBtn')\n                .click();\n            }\n            return true;\n          }\n        });\n\n      }\n\n      function fileUpload(e) {\n\n        var file = e.target.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function (event) {\n          var image = event.target.result;\n          $scope.crop(image);\n        };\n\n        angular.element(document.getElementById('browseBtn')).val('');\n\n      }\n\n      function crop(image) {\n\n        void 0;\n\n        $jrCrop\n          .crop({\n            url: image,\n            width: $scope.option ? $scope.option.width : 200,\n            height: $scope.option ? $scope.option.height : 200,\n            cancelText: ('Cancel'),\n            chooseText: ('Save')\n          })\n          .then(function (canvas) {\n            var image = canvas.toDataURL();\n\n\n\n            void 0;\n            $scope.ngModel = image;\n\n\n          });\n\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('caman', camanDirective);\n\n  function camanDirective(CamanJs, $timeout) {\n    return {\n      restrict: 'A',\n      scope: {\n        name: '=',\n        image: '=',\n        filter: '=',\n        loading: '='\n      },\n      template: '<img ng-src=\"{{ image }}\" id=\"{{ name }}\">',\n      link: camanDirectiveLink\n    };\n\n    function camanDirectiveLink($scope) {\n      $scope.loading = true;\n      $timeout(function () {\n        CamanJs\n          .effect($scope.name, $scope.filter)\n          .then(function () {\n            $scope.loading = false;\n          });\n      }, 500);\n    }\n  }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading', [])\n        .config(configRoutes);\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('router', {\n                url: '/',\n                template: '',\n                controller: 'LoadingCtrl',\n                controllerAs: 'vm'\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading')\n        .controller('LoadingCtrl', LoadingController);\n\n    function LoadingController($rootScope, AppConfig, $state) {\n        var user = $rootScope.currentUser;\n        var intro = window.localStorage['intro'];\n\n        if (intro != 'true') {\n            $state.go('intro', {clear: true});\n        } else {\n            if (user) {\n                void 0;\n                if (user.name) {\n                    $state.go(AppConfig.routes.home, {\n                        clear: true\n                    });\n                } else {\n                    $state.go('user.avatar', {\n                        clear: true\n                    });\n                }\n            } else {\n                $state.go(AppConfig.routes.login, {\n                    clear: true\n                });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('IntroCtrl', IntroCtrl);\n\n    function IntroCtrl($ionicSlideBoxDelegate, $translate) {\n        var vm              = this;\n        var currentPlatform = window.ionic.Platform.platform();\n        vm.slideIndex       = 0;\n        vm.slideChanged     = slideChanged;\n        vm.next             = function () {\n            $ionicSlideBoxDelegate.next();\n        };\n        vm.previous         = function () {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n\n        if (currentPlatform) {\n            vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n        } else {\n            vm.device = 'android';\n        }\n\n        void 0;\n        vm.slides = [{\n            top: $translate.instant('INTRO.STEP1'),\n            img: 'img/intro1.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP2'),\n            img: 'img/intro2.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP3'),\n            img: 'img/intro3.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP4'),\n            img: 'img/intro4.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP5'),\n            img: 'img/intro5.jpg'\n        }\n\n        ];\n\n        function slideChanged(index) {\n            vm.slideIndex = index;\n        }\n\n        window.localStorage['intro'] = true;\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ngParse', []);\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('ngParse')\n        .factory('Parse', Parse);\n\n\n    function Parse($window) {\n        var parse       = $window.Parse;\n        parse.transform = transform;\n        parse.count = count;\n        parse.paginate = paginate;\n        return parse;\n    }\n\n    function count(model) {\n        var defer = $q.defer();\n        new Parse\n            .Query(model)\n            .count()\n            .then(function (resp) {\n                defer.resolve(resp);\n            });\n        return defer.promise;\n    }\n\n    function paginate(model, options) {\n        var defer = $q.defer();\n\n        var query = new Parse.Query(model);\n        query.skip(options.pageNumber);\n        query.limit(options.pageSize);\n\n        if (options.sort) {\n            var sort = options.sort;\n            if (sort.order === 'asc') {\n                query.ascending(options.sort.field);\n            } else {\n                query.descending(options.sort.field);\n            }\n        }\n        query.find()\n             .then(function (resp) {\n                 var data = {\n                     results: [],\n                     total: 0\n                 };\n                 resp.map(function (item) {\n                     var obj = item.attributes;\n                     obj.id  = item.id;\n                     data.results.push(obj);\n                 });\n\n                 count(model)\n                     .then(function (count) {\n                         data.total = count;\n                         defer.resolve(data);\n                     });\n             });\n\n\n        return defer.promise;\n    }\n\n    function transform(resp) {\n        var data = [];\n        resp.map(function (item) {\n            var obj = item.attributes;\n            obj.id  = item;\n            data.push(obj);\n        });\n        return data;\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseImageService', ParseImageServiceFactory);\n\n  function ParseImageServiceFactory($window) {\n    return {\n      all: _all,\n      save: _save,\n      get: _get,\n      delete: _delete,\n      imageSettings: imageSettings,\n      saveImageSettings: saveImageSettings\n    };\n\n    function _all() {\n      var query = new Parse.Query('ImageInfo');\n      query.descending('createdAt');\n      return query.find();\n    }\n\n    function _delete(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId)\n        .then(function (_data) {\n          return _data.destroy();\n        });\n    }\n\n    function _get(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId);\n    }\n\n    function _save(_params) {\n      var ImageObject = Parse.Object.extend('Gallery');\n\n\n      if (_params.photo !== '') {\n\n        void 0;\n\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: _params.photo\n        });\n\n\n        return imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('img', imageFile);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('thumbBase64', _params.thumbBase64);\n            imageObject.set('location', new Parse.GeoPoint(_params.coords.latitude, _params.coords.longitude));\n\n            return imageObject.save();\n\n\n          }, function (error) {\n            void 0;\n            void 0;\n          });\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n    }\n\n    function imageSettings() {\n      var savedData = $window.localStorage.getItem('application.image.props') || null;\n      return (savedData !== null ? JSON.parse(savedData) : {\n        quality: 50,\n        dimensions: 250,\n        saveToAlbum: false\n      });\n    }\n\n    function saveImageSettings(_settings) {\n      $window.localStorage.setItem('application.image.props', JSON.stringify(_settings));\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseFile', ParseFileFactory);\n\n\n  function ParseFileFactory($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(_params) {\n      var defer = $q.defer();\n      var ImageObject = Parse.Object.extend(_params.object || 'Gallery');\n\n      if (_params.photo !== '') {\n\n        var imageFile = new Parse.File(_params.filename || 'mypic.jpg', {\n          base64: _params.photo\n        });\n\n        imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('img', imageFile);\n\n            if (_params.geo !== undefined) {\n              imageObject.set(_params.geo.class || 'location', new Parse.GeoPoint(_params.geo.lat, _params.geo.lng));\n            }\n\n            imageObject\n              .save()\n              .then(defer.resolve);\n\n          }, defer.reject);\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n\n\n      return defer.promise;\n    }\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngCache', ['angular-cache'])\n    .config(cacheConfig)\n    .factory('Cache', Cache);\n\n  function cacheConfig(CacheFactoryProvider) {\n    angular.extend(CacheFactoryProvider.defaults, {\n      maxAge: 15 * 60 * 1000\n    });\n  }\n\n  function Cache(CacheFactory) {\n\n    return {\n      model: model,\n      data: data\n    };\n\n    function model(model, options) {\n      if (!CacheFactory.get(model)) {\n        CacheFactory.createCache(model, {\n          deleteOnExpire: options.deleteOnExpire || 'aggressive',\n          recycleFreq: options.recycleFreq || 60000,\n          storageMode: options.mode || 'localStorage'\n        });\n      }\n\n      return CacheFactory.get(model);\n    }\n\n    function data(modelName, keys) {\n      var cache = model(modelName);\n      var keys = cache.keys();\n      var data = [];\n      keys.map(function (key) {\n        data.push(cache.get(key));\n      });\n\n      return data;\n    }\n\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-location')\n    .directive('ionLocation', ionLocation);\n\n  function ionLocation($ionicModal, GeoService) {\n    return {\n      restrict: 'A',\n      scope: {\n        location: '='\n      },\n      link: ionLocationLink\n    };\n\n    function ionLocationLink($scope, element) {\n\n      function init() {\n        $scope.search = {};\n        $scope.search.suggestions = [];\n        $scope.search.query = '';\n      }\n\n\n      function selectPlace(place_id) {\n        GeoService\n          .getDetails(place_id)\n          .then(function (location) {\n\n            void 0;\n\n            var address = GeoService\n              .parseAddress(location);\n\n            $scope.location = {\n              number: address.number,\n              street: address.street,\n              district: address.district,\n              city: address.city,\n              state: address.state,\n              country: address.country,\n              zipcode: address.zipcode,\n              coords: address.geo,\n              image: address.image,\n              resume: address.resume\n            };\n\n            void 0;\n            $scope.closeModalLocation();\n          });\n      }\n\n      element.bind('focus', function () {\n        init();\n        void 0;\n\n        $scope.findMe = findMe;\n        $scope.choosePlace = choosePlace;\n\n\n        $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n          '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n          '<button class=\"button button-clear button-icon ion-pinpoint\" ng-click=\"findMe()\"></button>' +\n          '<label class=\"item-input-wrapper\">' +\n          '<input type=\"search\" ng-model=\"search.query\" placeholder=\"{{ \\'Search\\' | translate }}\"></label>' +\n          '<button class=\"button button-clear button-icon ion-ios-close-empty\" ng-click=\"closeModalLocation()\"></button>' +\n          '</ion-header-bar>' +\n          '<ion-content padding=\"false\">' +\n          '<ion-list>' +\n          '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n          '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n          '</ion-list>' +\n          '</ion-content>' +\n          '</ion-modal-view>', {\n            scope: $scope,\n            focusFirstInput: true\n          }\n        );\n\n        $scope.modalLocation.show();\n\n        $scope.closeModalLocation = function () {\n          $scope.modalLocation.hide();\n          $scope.modalLocation.remove();\n        };\n\n        GeoService\n          .searchAddress('So Paulo')\n          .then(function (result) {\n            void 0;\n            $scope.search.suggestions = result;\n          });\n\n\n        $scope.$watch('search.query', function (newValue) {\n          if (newValue) {\n            GeoService\n              .searchAddress(newValue)\n              .then(function (result) {\n                void 0;\n                $scope.search.suggestions = result;\n              });\n          }\n        });\n\n\n        function findMe() {\n          GeoService\n            .findMe()\n            .then(function (location) {\n              void 0;\n\n              selectPlace(location.results[0].place_id);\n\n            });\n        }\n\n        function choosePlace(place) {\n          selectPlace(place.place_id);\n\n        }\n\n      });\n\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-location')\n    .factory('GeoService', GeoService);\n\n  function GeoService($http, $window, $cordovaGeolocation, Loading, $timeout, $q) {\n\n    var options = {\n      types: ['geocode']\n    };\n    var autocompleteService = new $window.google.maps.places.AutocompleteService();\n    var detailsService = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n      options);\n    var componentForm = {\n      street_number: 'long_name',\n      route: 'long_name',\n      locality: 'long_name',\n      sublocality: 'long_name',\n      neighborhood: 'long_name',\n      political: 'long_name',\n      administrative_area_level_1: 'long_name',\n      country: 'long_name',\n      postal_code: 'long_name' \n    };\n    var componentFormName = {\n      street_number: 'number',\n      route: 'street',\n      locality: 'city',\n      administrative_area_level_1: 'state',\n      country: 'country',\n      postal_code: 'zipcode',\n      neighborhood: 'district' \n    };\n\n    var data = {\n      coords: {},\n      src: ''\n    };\n\n\n    return {\n      src: src,\n      getDetails: getDetails,\n      searchAddress: searchAddress,\n      parseAddress: parseAddress,\n      findMe: findMe\n    };\n\n    function getLocation() {\n      Loading.start();\n      var defer = $q.defer();\n\n      if (data.location) {\n        $timeout(function () {\n          defer.resolve(data.location);\n          Loading.end();\n        }, 1000);\n      } else {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n        $cordovaGeolocation\n          .getCurrentPosition(posOptions)\n          .then(function (position) {\n            void 0;\n\n            data.location = {\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude\n            };\n            Loading.end();\n            defer.resolve(data.location);\n          }, function (err) {\n            void 0;\n            $ionicPopup.alert({\n              title: 'Geo Error',\n              template: err.message\n            });\n            Loading.end();\n            defer.reject(err);\n          });\n      }\n\n\n      return defer.promise;\n    }\n\n\n    function findMe() {\n      var defer = $q.defer();\n\n      getLocation()\n        .then(function (pos) {\n          void 0;\n          getGoogleAddress(pos.latitude, pos.longitude)\n            .success(function (resp) {\n              resp.geolocation = pos;\n              void 0;\n              defer.resolve(resp);\n            })\n            .error(logErr);\n        });\n      return defer.promise;\n    }\n\n\n    function logErr(error) {\n      void 0;\n    }\n\n    function getGoogleAddress(lat, lng) {\n      return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n        .success(function (data) {\n          data.address_normal = data.results[0].formatted_address;\n          data.address = address(data.results[0].address_components);\n          data.src = imagem(lat, lng, 18, 500, 300);\n        });\n    }\n\n    function address(data) {\n      if (!data) {\n        return false;\n      } else {\n        return {\n          numero: data[0].short_name,\n          rua: data[1].long_name,\n          bairro: data[2].short_name,\n          cidade: data[3].short_name,\n          estado: data[5].long_name,\n          uf: data[5].short_name,\n          pais: data[6].long_name,\n          paisCode: data[6].short_name,\n          cep: data[7].short_name\n        };\n      }\n\n    }\n\n    function imagem(lat, lng, zoom, w, h) {\n      return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n        w + 'x' + h + '&maptype=roadmap&sensor=true';\n    }\n\n    function parseAddress(place) {\n      void 0;\n      var address = {\n        resume: '',\n        geo: {\n          latitude: place.geometry.location.H,\n          longitude: place.geometry.location.L\n        }\n      };\n      var image = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n      for (var i = 0; i < place.address_components.length; i++) {\n        var addressType = place.address_components[i].types[0];\n        if (componentForm[addressType]) {\n          var val = place.address_components[i][componentForm[addressType]];\n          address[componentFormName[addressType]] = val;\n        }\n      }\n      address.street = address.street + ', ' + address.number;\n      address.image = image;\n      address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n      return address;\n    }\n\n    function searchAddress(input) {\n      var deferred = $q.defer();\n      autocompleteService.getQueryPredictions({\n        input: input\n      }, function (result) {\n        deferred.resolve(result);\n      });\n      return deferred.promise;\n    }\n\n    function getDetails(placeId) {\n      var deferred = $q.defer();\n      detailsService.getDetails({\n        placeId: placeId\n      }, function (result) {\n        deferred.resolve(result);\n      });\n      return deferred.promise;\n    }\n\n    function src(lat, lng, zoom, w, h) {\n      void 0;\n\n      var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n        '&scale=1&size=' + w + 'x' + h +\n        '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n        ',' + lng + '&sensor=true';\n      void 0;\n      return link;\n    }\n\n  }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ionic-loading', ['ionic'])\n    .run(runLoading);\n\n  function runLoading($rootScope, $ionicLoading) {\n    $rootScope.$on('ionicLoading:true', function (text) {\n      $rootScope.loading = true;\n      $ionicLoading.show(text);\n    });\n    $rootScope.$on('ionicLoading:false', function () {\n      $rootScope.loading = false;\n      $ionicLoading.hide();\n    });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .directive('ionLoading', ionLoading);\n\n  function ionLoading() {\n    return {\n      restrict: 'E',\n      scope: {\n        icon: '@',\n        loading: '='\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .factory('Loading', Loading);\n\n  function Loading($rootScope, $timeout) {\n    var seconds = 0;\n\n    return {\n      start: showLoading,\n      end: hideLoading,\n    };\n\n\n    function showLoading(text) {\n      $rootScope.$broadcast('ionicLoading:true', text);\n    }\n\n    function hideLoading() {\n      $timeout(function () {\n        $rootScope.$broadcast('ionicLoading:false');\n      }, parseInt(seconds + '000'));\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  var default_config = {\n    color: '#1D5ECE',\n    bgcolor: '#eaeaea',\n    semi: false,\n    rounded: false,\n    clockwise: true,\n    radius: '15',\n    stroke: '5',\n    max: 100,\n    iterations: 50,\n    animation: 'easeOutCubic',\n    interval: 200,\n    showProgressCircleInBrowser: true,\n    showProgressCircleInDevice: true\n  };\n\n\n  angular\n    .module('ionic-cache-src', [\n      'ionic',\n      'angular-svg-round-progressbar',\n      'ngCordova',\n      'ngStorage'\n    ])\n    .provider('$cacheSrc', $cacheSrc);\n\n  function $cacheSrc() {\n    this.config = default_config;\n    this.set = function (obj, val) {\n      var t = typeof obj;\n      if (t === 'object') {\n        angular.extend(this.config, obj);\n      } else if (t == 'string') {\n        this.config[obj] = val;\n      }\n      return this;\n    };\n\n    this.$get = function () {\n      return this.config;\n    };\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .factory('cacheSrcStorage', cacheSrcStorage);\n\n  function cacheSrcStorage($localStorage) {\n    var c = {};\n    c._cache = $localStorage.cache_src;\n    c.get = function (url) {\n      return c._cache[url] && (getCacheDir() + c._cache[url]);\n    };\n    c.set = function (url, localUrl) {\n      c._cache[url] = localUrl;\n      return c;\n    };\n    return c;\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .directive('cacheSrc', cacheSrc);\n\n  function cacheSrc($ionicPlatform, $interval, $compile, $cacheSrc, $cordovaFileTransfer, $localStorage) {\n    return {\n      restrict: 'A',\n      scope: {\n        'onProgress': '=?',\n        'onFinish': '=?',\n        'onError': '=?'\n      },\n      link: function (scope, element, attrs) {\n\n        function id() {\n          var text = \"\";\n          var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n          for (var i = 0; i < 16; i++)\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n          return text;\n        };\n\n        function makeProgressCircle($scope, $compile) {\n          return angular.element($compile(\n            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n          )($scope));\n        };\n\n        function startsWith(str, arr) {\n          for (var i = 0; i < arr.length; i++) {\n            var sub_str = arr[i];\n            if (str.indexOf(sub_str) === 0) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        function needDownload(path) {\n          if (startsWith(path, [\n              'http://',\n              'https://',\n              'ftp://'\n            ])) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        function attrToScope(scope, attrs) {\n          scope.progress = 0;\n          scope.max = 100;\n          scope.radius = attrs.radius;\n          scope.stroke = attrs.stroke;\n          scope.animation = attrs.animation;\n          scope.clockwise = attrs.clockwise;\n          scope.color = attrs.color;\n          scope.bgcolor = attrs.bgcolor;\n          scope.rounded = attrs.rounded;\n          scope.iterations = attrs.iterations;\n          scope.textAlign = 'center';\n        }\n\n        var isIOS = ionic.Platform.isIOS();\n        var isAndroid = ionic.Platform.isAndroid();\n\n        if (window.cordova & isIOS || isAndroid) {\n\n          var progress_circle;\n          var display;\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          scope.onError = scope.onError || function () {};\n          var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n          var finish = function (result) {\n            if (config.showProgressCircleInDevice) {\n              element.css('display', display);\n              progress_circle.remove();\n            }\n            addSrc(result);\n          };\n\n          var addSrc = function (result) {\n            element[0][config.srcIs || 'src'] = result;\n            scope.onFinish(result);\n          };\n\n\n          attrs.$observe('cacheSrc',\n            function () {\n              if (attrs.cacheSrc) {\n                if (needDownload(attrs.cacheSrc)) {\n                  if (cache[attrs.cacheSrc]) {\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                      });\n                  } else {\n                    if (config.showProgressCircleInDevice) {\n                      progress_circle = makeProgressCircle(scope, $compile);\n                      display = element.css('display');\n                      element.css('display', 'none');\n                      element.after(progress_circle);\n                    }\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        var ext = '.' + attrs.cacheSrc.split('.').pop();\n                        var fileName = id() + ext;\n                        $cordovaFileTransfer\n                          .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                          .then(function (result) {\n                            cache[attrs.cacheSrc] = fileName;\n                            finish(getCacheDir() + fileName);\n                          }, scope.onError, function (progress) {\n                            scope.progress = (progress.loaded / progress.total) * 100;\n                            scope.onProgress(scope.progress);\n                          });\n                      });\n                  }\n                } else {\n                  addSrc(attrs.cacheSrc);\n                }\n              }\n            });\n        } else {\n          var progress_circle = makeProgressCircle(scope, $compile);\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          attrs.$observe('cacheSrc', function () {\n            if (attrs.cacheSrc) {\n              if (needDownload(attrs.cacheSrc)) {\n                if (config.showProgressCircleInBrowser) {\n                  var display = element.css('display');\n                  element.css('display', 'none');\n                  element\n                    .after(progress_circle);\n                }\n                var promise = $interval(function () {\n                  scope.progress += 10;\n                  scope.onProgress(scope.progress);\n                  if (scope.progress == 100) {\n                    $interval.cancel(promise);\n                    if (config.showProgressCircleInBrowser) {\n                      element.css('display', display);\n                      progress_circle.remove();\n                    }\n                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                    scope.onFinish(attrs.cacheSrc);\n                  }\n                }, config.interval);\n              } else {\n                element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                scope.onFinish(attrs.cacheSrc);\n              }\n            }\n          });\n        }\n\n      }\n    };\n  }\n\n  function getCacheDir() {\n    switch (window.device.platform) {\n    case 'iOS':\n      return cordova.file.documentsDirectory;\n    case 'Android':\n      return cordova.file.dataDirectory;\n    }\n    return '';\n  }\n})();\n(function () {\n    'use strict';\n\n        var pt_br = window.moment.defineLocale('pt', {\n        months: 'Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n            '_'),\n        monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays: 'Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado'.split('_'),\n        weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sb'.split('_'),\n        weekdaysMin: 'Dom_2_3_4_5_6_Sb'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [s] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [s] HH:mm'\n        },\n        calendar: {\n            sameDay: '[Hoje s] LT',\n            nextDay: '[Amanh s] LT',\n            nextWeek: 'dddd [s] LT',\n            lastDay: '[Ontem s] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[ltimo] dddd [s] LT' : \n                    '[ltima] dddd [s] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: '%s atrs',\n            s: 'segs',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um ms',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal: '%d'\n    });\n\n    return pt_br;\n})();\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n\n(function (i, s, o, g, r, a, m) {\n  i['GoogleAnalyticsObject'] = r;\n  i[r] = i[r] || function () {\n    (i[r].q = i[r].q || [])\n    .push(arguments)\n  }, i[r].l = 1 * new Date();\n  a = s.createElement(o),\n    m = s.getElementsByTagName(o)[0];\n  a.async = 1;\n  a.src = g;\n  m.parentNode.insertBefore(a, m)\n})(window, document, 'script', 'http://www.google-analytics.com/analytics.js', 'ga');\nga('create', 'UA-53950213-5', {\n  'cookieDomain': 'none'\n});\n(function () {\n    'use strict';\n    angular\n        .module('ionic')\n        .constant('AppConfig', AppConfig());\n\n    function AppConfig() {\n        return {\n            path: 'app/module/photogram',\n            app: {\n                name: 'Photogram',\n                url: 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes: {\n                home: 'photogram.home',\n                login: 'user.login'\n            },\n            color: '#00796B',\n            facebook: '1024016557617380',\n            parse: {\n                appId: 'myAppId',\n                server: 'https://photogramserver.herokuapp.com/parse/'\n            },\n            locales: [\n                {\n                    translation: 'LANG.PORTUGUES',\n                    code: 'pt'\n                },\n                {\n                    translation: 'LANG.ENGLISH',\n                    code: 'en'\n                },\n                {\n                    translation: 'LANG.TURKISH',\n                    code: 'tr'\n                },\n                {\n                    translation: 'LANG.PERSIAN',\n                    code: 'fa'\n                },\n                {\n                    translation: 'LANG.GERMAN',\n                    code: 'de'\n                }\n            ],\n            preferredLocale: 'en'\n        };\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('starter', [\n            'ionic',\n            'ionic-cache-src',\n            'formlyIonic',\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment',\n            'ngFacebook',\n            'uiGmapgoogle-maps',\n            'angular-cache',\n            'ngParse',\n            'ngCordova',\n            'ionic.components',\n            'app.loading',\n            'app.intro',\n            'app.user',\n            'app.photogram',\n        ]);\n\n})();\n(function () {\n    'use strict';\n\n    var cordova = window.cordova;\n    angular\n        .module('starter')\n        .run(startParse)\n        .run(runIonic)\n        .run(runFacebook)\n        .config(configLanguage)\n        .config(configFacebook)\n        .config(configIonic);\n\n    function startParse(AppConfig) {\n        window.Parse.initialize(AppConfig.parse.appId);\n        window.Parse.serverURL = AppConfig.parse.server;\n    }\n\n    function runIonic($ionicPlatform, $cacheSrc, AppConfig, $cordovaStatusbar, $timeout,\n                      $cordovaSplashscreen, PhotogramSetting, User) {\n\n        $cacheSrc.color   = AppConfig.color;\n        $cacheSrc.bgcolor = '#ddd';\n        $cacheSrc.rounded = true;\n        $cacheSrc.radius  = 50;\n\n        User.init();\n        PhotogramSetting.init();\n\n        $ionicPlatform.ready(function () {\n\n            if (cordova) {\n                $timeout(function () {\n                    $cordovaSplashscreen.hide();\n                    $cordovaStatusbar.overlaysWebView(true);\n                    $cordovaStatusbar.style(0);\n                    $cordovaStatusbar.styleHex(AppConfig.color);\n                    $cordovaStatusbar.show();\n                }, 500);\n            }\n\n        });\n\n\n    }\n\n    function configLanguage($translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.useSanitizeValueStrategy(null);\n\n        $translateProvider.useMissingTranslationHandlerLog();\n        $translateProvider.useLocalStorage(); \n        tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n        if (searchLang) {\n            language = _.filter(AppConfig.locales,{code: searchLang})[0];\n        }\n        void 0;\n        $translateProvider.preferredLanguage(language);\n        moment.locale(language);\n\n                void 0;\n    }\n\n    function configIonic($ionicConfigProvider) {\n        $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.platform.android.tabs.position('bottom');\n        $ionicConfigProvider.platform.android.tabs.style('standard');\n        $ionicConfigProvider.views.maxCache(1);\n    }\n\n    function configFacebook($facebookProvider, AppConfig) {\n        $facebookProvider.setAppId(AppConfig.facebook);\n        $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n    }\n\n    function runFacebook() {\n        var ionic = window.ionic;\n        if (!(ionic.Platform.isIOS() || ionic.Platform.isAndroid())) {\n            var LangVar     = window.navigator.language || window.navigator.userLanguage;\n            var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n            (function (d, s, id) {\n                var js, fjs = d.getElementsByTagName(s)[0];\n                if (d.getElementById(id)) return;\n                js     = d.createElement(s);\n                js.id  = id;\n                js.src = \"//connect.facebook.net/\" + userLangVar + \"/sdk.js\";\n                fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  var path = 'app/module/photogram/module/share';\n  angular\n    .module('app.share', []);\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.search', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/search';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.search', {\n                url: '/search',\n                views: {\n                    tabSearch: {\n                        controller: 'PhotogramSearchCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/search.html'\n                    }\n                }\n            });\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.home', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/home';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.home', {\n                url: '/home',\n                views: {\n                    tabHome: {\n                        controller: 'PhotogramHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/home.html'\n                    }\n                }\n            });\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.direct', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/direct';\n\n    function configRoutes($stateProvider) {\n\n\n        $stateProvider\n            .state('photogram.direct', {\n                url: '/direct',\n                views: {\n                    tabHome: {\n                        controller: 'DirectHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/direct.home.html'\n                    }\n                }\n            });\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.account', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/account';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n\n\n            .state('photogram.account', {\n                url: '/account',\n                views: {\n                    tabProfile: {\n                        controller: 'PhotogramAccountCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: 'app/module/photogram/module/account/account.html'\n                    }\n                }\n            });\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-notify', ['ionic'])\n    .factory('Notify', Notify);\n\n  function Notify($ionicPopup) {\n\n    return {\n      alert: alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      return $ionicPopup.alert({\n        title: params.title,\n        template: params.text\n      });\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title: title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-href', [])\n        .directive('href', openTermsDirective);\n\n    function openTermsDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            template: '',\n            link: function (scope, elem, attr) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var href = attr.href;\n\n                    if (window.cordova) {\n                        window.cordova.ThemeableBrowser.open(href, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#000',\n                                showPageTitle: true\n                            },\n                            backButtonCanClose: true\n                        })\n                        ;\n                    } else {\n                        window.open(href);\n                    }\n\n                    return false;\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ionic.components', [\n      'ionic',\n      'ionic-loading',\n      'ion-href',\n      'ion-photo',\n      'ion-location',\n      'ion-notify',\n      'ngCache',\n      'ngParse',\n    ]);\n})();\nangular.module(\"starter\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/module/intro/intro.html\",\"<ion-view class=\\\"view-intro\\\" can-swipe-back=\\\"false\\\"><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\">\\n<ion-slide-box active-slide=\\\"slideIndex\\\" show-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide \\nng-repeat=\\\"item in vm.slides\\\"><div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\"><h2>\\n{{ ::item.top }}</h2></span><div class=\\\"phone {{ ::vm.device }}\\\"><img ng-src=\\\"{{ ::item.img }}\\\"></div></div>\\n</ion-slide><ion-slide><div class=\\\"content\\\" ng-if=\\\"vm.slides.length == vm.slideIndex\\\"><div class=\\\"last\\\"><div \\nclass=\\\"logo2 step1\\\"><img src=\\\"img/icon.png\\\"> <span class=\\\"icon2-logo\\\"></span></div><button \\nclass=\\\"button button-block button-clear step2\\\" ui-sref=\\\"user.intro\\\" translate=\\\"INTRO.BUTTON.ENTER\\\"></button></div>\\n</div></ion-slide></ion-slide-box></div><button class=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" \\nng-click=\\\"vm.previous()\\\"><i class=\\\"icon ion-ios-arrow-left\\\"></i></button> <button \\nclass=\\\"button button-positive button-fab right\\\" ng-hide=\\\"vm.slideIndex === vm.slides.length\\\" ng-click=\\\"vm.next()\\\"><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></button></ion-content></ion-view>\");\n$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ ::\\'Share\\' | translate }}\\n</div><button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{ ::form.photo}}\\\"><div class=\\\"title\\\">\\n{{ ::form.title }}</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" \\nng-click=\\\"share(form, social)\\\" class=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\">\\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.carousel.html\",\"<div class=\\\"wide-as-needed\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"applyFilter(\\'image\\', filter)\\\"><div caman \\nimage=\\\"image\\\" name=\\\"filter\\\" filter=\\\"filter\\\" class=\\\"image\\\" loading=\\\"loading\\\" ng-class=\\\"{disabled: loading}\\\"></div>\\n<ion-spinner ng-if=\\\"loading\\\"></ion-spinner><p>{{ ::filter }}</p></a></div>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.html\",\"<div class=\\\"capture-photo\\\"><div caman filter=\\\"\\'normal\\'\\\" loading=\\\"loadingMaster\\\" class=\\\"image\\\" \\nng-class=\\\"{disabled: loadingMaster}\\\" name=\\\"\\'image\\'\\\" image=\\\"image\\\"></div><ion-spinner ng-show=\\\"loadingMaster\\\">\\n</ion-spinner></div><photo-filter-carousel apply=\\\"applyFilter\\\" image=\\\"image\\\"></photo-filter-carousel>\");\n$templateCache.put(\"app/module/photogram/directive/comment/photogram.comment.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n<span translate=\\\"PHOTOGRAM.COMMENT.TITLE\\\"></span>({{ ::comments.length }})</div></ion-header-bar><ion-content>\\n<photogram-loading loading=\\\"loading\\\" icon=\\\"android\\\"></photogram-loading><ion-list class=\\\"list\\\" \\nng-show=\\\"comments.length\\\" can-swipe=\\\"true\\\"><ion-item ng-repeat=\\\"item in comments\\\" class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ ::item.userAvatar }}\\\"><div class=\\\"row\\\"><h2>{{ ::item.user.attributes.name }}</h2><div>{{ ::item.text }}\\n</div></div><div class=\\\"row\\\"><p>{{ ::item.created | amTimeAgo }}</p></div><div ng-if=\\\"item.user.id === currentUser.id\\\">\\n<ion-option-button class=\\\"button-info\\\" ng-click=\\\"editComment(item)\\\" translate=\\\"PHOTOGRAM.BUTTON.EDIT\\\">Edit\\n</ion-option-button><ion-option-button class=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item)\\\" \\ntranslate=\\\"PHOTOGRAM.BUTTON.REMOVE\\\">Remove</ion-option-button></div></ion-item></ion-list><div class=\\\"center-ico\\\" \\nng-if=\\\"nocomments\\\"><i class=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 translate=\\\"PHOTOGRAM.COMMENT.NO_COMMENTS\\\">\\nNo Comments</h1></div></ion-content><ion-footer class=\\\"step2\\\"><div class=\\\"form\\\"><formly-form model=\\\"form\\\" \\nfields=\\\"formFields\\\" form=\\\"rForm\\\"><button class=\\\"button button-positive\\\" type=\\\"button\\\" \\nng-click=\\\"submitComment(rForm, form)\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button></formly-form></div></ion-footer>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/feedback/feedback-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"FEEDBACK.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitFeedback()\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><formly-form model=\\\"form\\\" form=\\\"rForm\\\" \\nfields=\\\"formFields\\\"></formly-form></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/follow/photogram.follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ ::item.src }}\\\"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/like/photogram.like.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Likes\\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ ::item.user.img }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ ::\\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/modal-language/modal-language.html\",\"<ion-modal-view><ion-header-bar><h1 class=\\\"title\\\">Escolha um idioma</h1><a ng-click=\\\"closeModal()\\\" \\nclass=\\\"button button-icon icon ion-close\\\"></a></ion-header-bar><div \\nclass=\\\"bar bar-subheader item-input-inset bar-stable\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"search\\\" placeholder=\\\"Search\\\" ng-model=\\\"searchValue\\\">\\n</label><button type=\\\"button\\\" class=\\\"button button-clear\\\" ng-show=\\\"searchValue.length\\\" ng-click=\\\"searchValue=\\'\\'\\\">Clear\\n</button></div><ion-content class=\\\"has-subheader has-header\\\"><ion-list><ion-item class=\\\"item\\\" \\nng-click=\\\"selectLanguage(item)\\\" ng-repeat=\\\"item in languages | filter:searchValue\\\" \\nng-bind-html=\\\"item.translation | translate\\\"></ion-item></ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/photogrid/photo-grid.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data.galleries\\\">\\n<div class=\\\"col col-33 item-animate1\\\" ng-if=\\\"$index < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data.galleries[$index].user\\\" ng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 1 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 1].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 2 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 2].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/photolist/photo.list.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"list card animated fadeIn\\\" ng-repeat=\\\"gallery in data.galleries \\\">\\n<div class=\\\"item item-avatar\\\" ion-affix data-affix-within-parent-with-class=\\\"card\\\" profile-modal user=\\\"gallery.user\\\">\\n<img ng-if=\\\"profile\\\" profile=\\\"{{ ::gallery.user.id }}\\\" ng-src=\\\"{{ ::gallery.user.attributes.img._url}}\\\"> <img \\nng-src=\\\"{{ ::gallery.userAvatar}}\\\"><h2>{{ ::gallery.user.attributes.name}}</h2><p>\\n{{ :: gallery.user.attributes.status }}</p><span>{{ ::gallery.created | amTimeAgo}}</span></div><div \\nclass=\\\"item item-body\\\" on-double-tap=\\\"like(gallery)\\\" ng-model=\\\"gallery\\\"><div class=\\\"icon ion-ios-heart heart\\\" \\nng-class=\\\"gallery.liked ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\"></i> <img \\ncache-src=\\\"{{ ::gallery.src}}\\\" id=\\\"{{ ::gallery.id}}\\\"></div><div class=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col col-75\\\"><ion-spinner ng-show=\\\"gallery.progress\\\"></ion-spinner><button photogram-like ng-model=\\\"gallery\\\" \\nng-if=\\\"!gallery.progress\\\" ng-class=\\\"gallery.liked ? \\'ion-ios-heart\\' : \\'ion-ios-heart-outline\\' \\\" \\nclass=\\\"button-clear button-icon button-heart\\\"></button> <button photogram-comment ng-model=\\\"gallery\\\" \\nclass=\\\"button-clear button-icon ion-ios-chatbubble-outline\\\"></button> <button ng-click=\\\"action(gallery)\\\" \\nphotogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-share\\\"></button></div><div \\nclass=\\\"col text-right\\\"><button ng-click=\\\"action(gallery)\\\" photogram=\\\"{{ :: gallery.id }}\\\" \\nclass=\\\"button-clear button-icon ion-android-more-vertical\\\"></button></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"likes\\\" photogram-like photogram=\\\"{{ :: gallery }}\\\"><i class=\\\"icon ion-ios-heart\\\"></i> <span \\nng-if=\\\"!gallery.progress\\\">{{ :: gallery.likes }}</span> <span translate=\\\"PHOTOGRAM.LIKES\\\"></span></span><div \\nclass=\\\"list-comments\\\"><div class=\\\"comment-item\\\" profile-modal user=\\\"gallery.user\\\"><span class=\\\"username\\\">\\n{{ :: gallery.user.attributes.name }}</span> <span class=\\\"comment\\\">{{ :: gallery.item.title }}</span></div><div \\nclass=\\\"comment-item\\\" profile-modal user=\\\"item.user\\\" ng-repeat=\\\"item in gallery.comments| limitTo:3\\\"><span \\nclass=\\\"username\\\">{{ :: item.user.attributes.name }}</span> <span class=\\\"comment\\\">{{ :: item.text }}</span></div><a \\nclass=\\\"comment-item\\\" photogram-comment ng-model=\\\"gallery\\\" ng-if=\\\"gallery.comments.length>3\\\">Ver todos os comentrios\\n</a></div><button class=\\\"button button-block button-clear button-comment\\\" photogram-comment ng-model=\\\"gallery\\\"><span \\ntranslate=\\\"PHOTOGRAM.BUTTON.COMMENT_ADD\\\"></span></button></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Edit Profile\\' | translate }}</div></ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div \\nclass=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ form.facebookimg || form.img._url || \\'img/user.png\\' }}\\\"></div>\\n</div><div class=\\\"step2\\\"><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input \\ntype=\\\"text\\\" ng-model=\\\"form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"form\\\" fields=\\\"formFields\\\" \\nform=\\\"rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"linkFacebook()\\\" \\nng-disabled=\\\"form.facebook\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span \\ntranslate=\\\"PHOTOGRAM.BUTTON.FACEBOOK_LINK\\\"></span></button> <button class=\\\"button button-block button-positive\\\" \\nng-click=\\\"submitUpdateProfile()\\\" translate=\\\"PHOTOGRAM.BUTTON.SAVE_PROFILE\\\"></button></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/profile-modal/profile-modal.html\",\"<ion-modal-view id=\\\"account-view\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.attributes.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ avatar}}\\\"></div><div class=\\\"col col-statics\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">\\nPosts</h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span \\nng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">{{ user.qtdFollowers }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\">\\n</photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">{{ user.qtdFollowing }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading><button ng-if=\\\"!loadingFollow\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.follow, \\'button-follow\\': !user.follow}\\\" ng-click=\\\"follow()\\\" class=\\\"button\\\"><span \\nng-show=\\\"!user.follow\\\" translate>Follow</span> <span ng-show=\\\"user.follow\\\" translate>Following</span></button></div>\\n</div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ user.attributes.name }}</span><p \\nclass=\\\"user-status\\\">{{ user.attributes.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" ng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" ng-click=\\\"changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><photogram-loading loading=\\\"loading\\\"></photogram-loading><div class=\\\"tab\\\" \\nng-if=\\\"tab.list\\\"><photogram-photo-list user=\\\"user.id\\\"></photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\">\\n<photogram-photo-grid user=\\\"user.id\\\"></photogram-photo-grid></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/search/search-directive.html\",\"<label class=\\\"item item-input\\\"><i class=\\\"icon ion-search placeholder-icon\\\"></i> <input type=\\\"search\\\" ng-model=\\\"input\\\" \\nplaceholder=\\\"{{\\'Search\\' | translate }}\\\"> <button class=\\\"button button-icon\\\" ng-if=\\\"input.length\\\" \\nng-click=\\\"clearSearch()\\\"><i class=\\\"icon ion-close\\\"></i></button></label>\");\n$templateCache.put(\"app/module/photogram/directive/settings-modal/photogram.settings.modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"PHOTOGRAM.SETTING.TITLE\\\"></div></ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\">\\n<button class=\\\"button button-block button-clear button-light button-language\\\" modal-language ng-model=\\\"vm.language\\\">\\n{{vm.language.translation | translate}} <i class=\\\"icon ion-chevron-down\\\"></i></button><ion-toggle \\nclass=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\"><h3><small translate=\\\"PHOTOGRAM.SETTING.NOTIFICATION\\\"></small></h3><p \\nng-if=\\\"!setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.OFF\\\"></p><p ng-if=\\\"setting_preview\\\" \\ntranslate=\\\"PHOTOGRAM.BUTTON.ON\\\"></p></ion-toggle><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S\\')\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.BUTTON.BUY\\\"></small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item \\nclass=\\\"item-icon-right\\\" ng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.HELP\\\">\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_PRIVACY\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_SERVICE\\\">Terms of Service\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" ng-click=\\\"show();\\\">\\n<h3><small translate=\\\"PHOTOGRAM.BUTTON.REPORT\\\">Report a Problem</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i>\\n</ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"link(\\'logout\\')\\\" class=\\\"button button-block button-positive\\\" \\ntranslat=\\\"USER.BUTTON.LOGOUT\\\">Logout</button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/account/account.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-title><h1 class=\\\"title\\\">{{ ::currentUser.name }}</h1>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button photogram-settings class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ currentUser.facebookimg || currentUser.img._url || \\'img/user.png\\' }}\\\"></div><div class=\\\"col col-statics\\\">\\n<div class=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ ::vm.user.qtdPhotos }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">Posts</h3></div><div class=\\\"col\\\"><photogram-loading \\nloading=\\\"loadingFollowers\\\"></photogram-loading><span ng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowers }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollowing\\\"></photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowing }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div \\nclass=\\\"row col-edit\\\"><div class=\\\"col\\\"><button profile-modal-edit class=\\\"button\\\"><div \\ntranslate=\\\"PHOTOGRAM.BUTTON.PROFILE_EDIT\\\"></div></button></div></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"user-username\\\">{{ ::currentUser.name }}</span><p class=\\\"user-status\\\">{{ ::currentUser.status }}</p></div></div>\\n<div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-grid\\\" \\nng-class=\\\"{active: vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><div \\nclass=\\\"tab\\\" ng-if=\\\"vm.tab.list\\\"><photogram-photo-list user=\\\"vm.user\\\"></photogram-photo-list></div><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.grid\\\"><photogram-photo-grid user=\\\"vm.user\\\"></photogram-photo-grid></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/activity/activity.html\",\"<ion-view cache-view=\\\"false\\\" class=\\\"photogram-activity\\\"><ion-nav-title><h1 class=\\\"title\\\" translate=\\\"ACTIVITY.TITLE\\\">\\n</h1></ion-nav-title><ion-content><photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><div class=\\\"list\\\"><div \\nclass=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in vm.data\\\"><img ng-src=\\\"{{ item.userAvatar }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div class=\\\"text\\\">{{ ::item.action | translate }}</div><p>{{ ::item.created | amTimeAgo }}\\n</p><div class=\\\"img-right\\\" ng-if=\\\"item.img\\\"><img ng-src=\\\"{{ ::item.img._url }}\\\"></div></div></div><ion-infinite-scroll \\nng-if=\\\"!vm.loading && !vm.empty\\\" on-infinite=\\\"vm.load()\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct/direct.home.html\",\"<ion-view><ion-nav-title translate=\\\"DIRECT.TITLE\\\"></ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-ios-plus-empty\\\" ui-sref=\\\"photogram.direct\\\"></button></ion-nav-buttons><ion-content>\\n<ion-list><ion-item class=\\\"item-avatar\\\" ng-repeat=\\\"item in vm.data\\\" ui-sref=\\\"photogram.message({channelId: item.id})\\\">\\n<img ng-src=\\\"{{item.user.src}}\\\" alt=\\\"\\\"><h2>{{ item.user.name}}</h2><p>{{ item.msg }}</p></ion-item></ion-list>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct-message/direct-message.html\",\"<ion-view id=\\\"userMessagesView\\\" cache-view=\\\"false\\\" view-title=\\\"Messages\\\"><div class=\\\"loader-center\\\" \\nng-if=\\\"!vm.doneLoading\\\"><div class=\\\"loader\\\"><i class=\\\"icon ion-loading-c\\\"></i></div></div><ion-content \\nhas-bouncing=\\\"true\\\" class=\\\"has-header has-footer\\\" delegate-handle=\\\"userMessageScroll\\\"><ion-refresher \\npulling-text=\\\"{{\\'DIRECT.BUTTON.PULL\\' | TRANSLATE}}\\\" on-refresh=\\\"vm.doRefresh()\\\"></ion-refresher><div \\nng-repeat=\\\"message in vm.data.messages\\\" class=\\\"message-wrapper\\\" on-hold=\\\"onMessageHold($event, $index, message)\\\"><div \\nng-if=\\\"vm.user.id === message.user.id\\\"><img class=\\\"profile-pic right\\\" ng-src=\\\"{{message.user.src}}\\\"><div \\nclass=\\\"chat-bubble right\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div ng-if=\\\"vm.user.id !== message.user.id\\\"><img class=\\\"profile-pic left\\\" ng-src=\\\"{{message.user.src}}\\\">\\n<div class=\\\"chat-bubble left\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div class=\\\"cf\\\"></div></div></ion-content><form name=\\\"sendMessageForm\\\" \\nng-submit=\\\"vm.sendMessage(sendMessageForm, vm.model)\\\" novalidate><ion-footer-bar \\nclass=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label class=\\\"item-input-wrapper\\\"><textarea \\nng-model=\\\"vm.model.text\\\" placeholder=\\\"{{ \\'DIRECT.FORM.PLACEHOLDER\\' | TRANSLATE}}\\\" required minlength=\\\"1\\\" \\nmaxlength=\\\"1500\\\" msd-elastic></textarea></label><div class=\\\"footer-btn-wrap\\\"><button \\nclass=\\\"button button-icon icon ion-android-send footer-btn\\\" type=\\\"submit\\\"></button></div></ion-footer-bar></form>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/home/home.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><ion-nav-buttons \\nside=\\\"right\\\"><button class=\\\"button button-icon ion-ios-cart-outline\\\" buy></button></ion-nav-buttons><ion-content>\\n<photogram-photo-list profile=\\\"true\\\" user=\\\"\\\"></photogram-photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.photo.html\",\"<ion-view view-title=\\\"Photo\\\"><ion-content><div class=\\\"list card step1\\\"><div class=\\\"item item-avatar\\\" \\ndata-affix-within-parent-with-class=\\\"card\\\" ion-affix><img ng-src=\\\"{{vm.data.user.img}}\\\"><h2>{{vm.data.user.name}}</h2>\\n<span>{{vm.data.created | amTimeAgo}}</span></div><div class=\\\"item item-body\\\"><img ng-src=\\\"{{vm.data.img._url}}\\\" \\nstyle=\\\"width: 100%\\\"></div><div class=\\\"padding\\\"><p>{{ vm.data.title }}</p><p><a class=\\\"subdued\\\" href=\\\"#\\\">\\n1 {{ \\'Like\\' | translate}}</a></p></div></div><div class=\\\"list\\\"><div ng-repeat=\\\"item in vm.comments\\\" \\nclass=\\\"item item-avatar\\\"><img ng-src=\\\"{{ item.user.img }}\\\"><h2>{{ item.user.name }}</h2><p>{{ item.text }}</p></div>\\n</div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"rForm\\\"><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-click=\\\"vm.submitComment(rForm, vm.form)\\\" translate>Comment\\n</button></div></formly-form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.popover.home.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>Settings</div>\\n<div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>About</div></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/module/photogram/module/search/search.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-title><ion-search></ion-search></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button class=\\\"button button-icon ion-person-add\\\" buy></button></ion-nav-buttons><ion-content><photogram-photo-grid \\nprofile=\\\"true\\\"></photogram-photo-grid></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.post.modal.html\",\"<ion-modal-view class=\\\"modal-post\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closePost()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitPost(form)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div id=\\\"image\\\"><img ng-src=\\\"{{form.photo}}\\\">\\n</div><ul class=\\\"list\\\"><li class=\\\"item\\\"><textarea type=\\\"text\\\" ng-model=\\\"form.title\\\" autofocus \\nplaceholder=\\\"{{ \\'SHARE.FORM.LEGEND\\' | translate }}\\\"></textarea></li><li class=\\\"item item-input\\\" \\nng-show=\\\"form.geo.image\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><li class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.share.modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeShare()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitShare(form, social)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div \\nclass=\\\"item item-thumbnail-left\\\" href=\\\"#\\\"><img ng-src=\\\"{{form.photo}}\\\" id=\\\"image\\\"><textarea type=\\\"text\\\" \\nng-model=\\\"form.title\\\" placeholder=\\\"{{ \\'SHARE.FORM.LEGEND\\'|translate }}\\\"></textarea></div></div><ul class=\\\"list\\\"><li \\nclass=\\\"item item-input\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><div class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></div></ul><ul class=\\\"list\\\"><li class=\\\"item item-divider\\\" \\ntranslate=\\\"SHARE.FORM.SHARE_IN\\\"></li><li class=\\\"item item-icon-left item-toggle\\\" ng-repeat=\\\"social in socials\\\"><i \\nclass=\\\"icon ion-social-{{ social.title | lowercase }}\\\"></i> {{ social.title }}<label class=\\\"toggle toggle-positive\\\">\\n<input type=\\\"checkbox\\\" ng-model=\\\"social.checked\\\"><div class=\\\"track\\\"><div class=\\\"handle\\\"></div></div></label></li></ul>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/tabs/photogram-tabs.html\",\"<ion-view><ion-nav-bar class=\\\"bar bar-light bar-mop\\\" align-title=\\\"left\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-light tabs-photogram\\\"><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.HOME\\' | translate }}\\\" \\nicon=\\\"ion-android-home\\\" ui-sref=\\\"photogram.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.SEARCH\\' | translate }}\\\" icon=\\\"ion-search\\\" ui-sref=\\\"photogram.search\\\"><ion-nav-view \\nname=\\\"tabSearch\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.SHARE\\' | translate }}\\\" \\nicon=\\\"ion-camera\\\" ng-click=\\\"vm.postPhoto()\\\"><ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.ACTIVITY\\' | translate }}\\\" icon=\\\"ion-heart\\\" ui-sref=\\\"photogram.activity\\\"><ion-nav-view \\nname=\\\"tabActivity\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.PROFILE\\' | translate }}\\\" \\nicon=\\\"ion-person\\\" ui-sref=\\\"photogram.account\\\"><ion-nav-view name=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/avatar/user.avatar.html\",\"<ion-view title=\\\"{{ \\'USER.AVATAR.TITLE\\' | translate }}\\\"><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" \\nalign-title=\\\"left\\\"></ion-nav-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img \\nclass=\\\"avatar\\\" user-avatar ng-src=\\\"{{ ::currentUser.img._url || \\'img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\">\\n<label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"text\\\" \\nng-model=\\\"vm.form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"vm.rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"vm.submitAvatar()\\\" \\nclass=\\\"button button-block button-positive\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/intro/user-intro.html\",\"<ion-view id=\\\"user-layout\\\"><ion-content class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-clear button-light button-language\\\" modal-language ng-model=\\\"vm.language\\\">\\n{{vm.language.translation | translate}} <i class=\\\"icon ion-chevron-down\\\"></i></button><div class=\\\"area1 step1\\\"><div \\nclass=\\\"logo\\\"><span class=\\\"icon2-logo\\\"></span></div><span class=\\\"desc\\\">{{::\\'USER.DESC1\\' | translate}}<br>\\n{{::\\'USER.DESC2\\' | translate}}</span></div><div class=\\\"step2\\\"><facebook-login></facebook-login><div class=\\\"or\\\"><div \\nclass=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><button \\nclass=\\\"button button-block button-light button-outline\\\" ui-sref=\\\"user.register\\\" translate>USER.BUTTON.SIGNUP</button> \\n<span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}</a> e <a href=\\\"\\\">\\n{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.login\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/layout/user-layout.html\",\"<ion-view id=\\\"user-layout\\\"><ion-content padding=\\\"false\\\" scroll=\\\"false\\\"><ion-nav-view></ion-nav-view></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/login/user-login.html\",\"<ion-view id=\\\"user-layout\\\"><ion-content class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-clear button-light button-language\\\" modal-language ng-model=\\\"vm.language\\\">\\n{{vm.language.translation | translate}} <i class=\\\"icon ion-chevron-down\\\"></i></button><div class=\\\"step1\\\"><div \\nclass=\\\"logo\\\"><span class=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\">\\n<button class=\\\"button button-block button-outline button-light\\\" type=\\\"button\\\" ng-disabled=\\\"vm.rForm.$invalid\\\" \\nng-click=\\\"vm.submitLogin(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><button class=\\\"button button-block button-light button-outline\\\" ui-sref=\\\"user.register\\\" translate>\\nUSER.BUTTON.SIGNUP</button> <span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}\\n</a> e <a href=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNUP2\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/merge/merge.html\",\"<ion-view id=\\\"user-login\\\"><ion-content class=\\\"view-avatar padding\\\"><h1>Merge Account</h1><div class=\\\"step1 padding\\\"><h5\\n translate>USER.MERGE</h5></div><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ vm.form.facebookimg }}\\\"></div></div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"rForm\\\"><input type=\\\"hidden\\\" ng-model=\\\"vm.form.facebookimg\\\"></formly-form></div><div class=\\\"padding step3\\\"><button\\n ng-click=\\\"vm.submit(rForm, vm.form)\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\">\\n</i> <span translate>USER.BUTTON.MERGE</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/register/user-register.html\",\"<ion-view id=\\\"user-layout\\\"><ion-content class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-clear button-light button-language\\\" modal-language ng-model=\\\"vm.language\\\">\\n{{vm.language.translation | translate}} <i class=\\\"icon ion-chevron-down\\\"></i></button><div class=\\\"step1\\\"><div \\nclass=\\\"logo\\\"><span class=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\">\\n<div class=\\\"padding\\\"><button class=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-disabled=\\\"rForm.$invalid\\\" \\nng-click=\\\"vm.submitRegister(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}</a> e <a \\nhref=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");}]);"],"sourceRoot":"/source/"}